<div class="container">
  <div class="header">
    <div class="menu-icon" [routerLink]="'/export'">
      <i [style.color]="'#BDA4A7'" class="fas fa-bars"></i>
    </div>
    <div [style.color]="'#343434'" [style.margin-bottom]="'70px'" class="title">
      <span *ngIf="!showSavings; else savingsTemplate" (click)="onShowSavings()"
        >{{ monthAmount }}€</span
      >
      <ng-template #savingsTemplate>
        <span class="expense-savings" (click)="onShowSavings()"
          >{{ savings }}€</span
        >
        <i class="fas fa-pencil-alt" (click)="changeSavings()"></i>
      </ng-template>
    </div>

    <!-- <div class="title" [style.color]="'grey'">-</div> -->
    <div class="title">
      <div [style.color]="'grey'" [style.margin-bottom]="'10px'" (click)="onCurrentAmountClick()">{{ currentDate }}</div>
      <span
        class="title-total title-total-current"
        (click)="onCurrentAmountClick()"
        *ngIf="!isShowCurrentBalanceAmount"
        >{{ currentAmount }}</span
      >
      <div *ngIf="isShowCurrentBalanceAmount" (click)="onCurrentAmountClick()" [style.color]="'grey'" [style.font-size.px]="12">нерегул.</div>
      <span
        class="title-total"
        (click)="onCurrentAmountClick()"
        *ngIf="isShowCurrentBalanceAmount"
        >{{ currentBalanceAmount }}</span
      >
      <span class="title-total">€</span>
    </div>
    <!-- <div class="title" [style.color]="'grey'">-</div> -->
    <div class="title" [style.color]="'grey'" [style.margin-bottom]="'55px'">
      <div (click)="onBalanceDateChange()">до {{ balanceDate }}</div>
      <span (click)="onBalanceChange()" [style.color]="'#343434'"
        >{{ balance }}€</span
      >
    </div>
    <div class="clock-icon" [routerLink]="'/history'">
      <i class="fas fa-clock" [style.color]="'#BDA4A7'"></i>
    </div>
  </div>

  <app-categories
    *ngIf="showKeyBoard; else categoriesWithScroll"
    [style.overflow]="'hidden'"
    (categoryClick)="onCategoryClick($event)"
    (clickMore)="onSwipeDown()"
    appSwipe
    (swipeDown)="onSwipeDown()"
    (swipeUp)="onShowKeyBoard()"
    (swipeLeft)="onSwipeLeft()"
    (swipeRight)="onSwipeRight()"
    [enteredAmount]="enteredAmount"
  >
  </app-categories>
  <ng-template #categoriesWithScroll>
    <app-categories
      *ngIf="!showKeyBoard"
      (categorySwipeRight)="onSwipeRight()"
      (categorySwipeLeft)="onSwipeLeft()"
      (categorySwipeUp)="onShowKeyBoard()"
      (categoryClick)="onCategoryClick($event)"
      [isContentDown]="true"
      [enteredAmount]="enteredAmount"
    >
    </app-categories>
  </ng-template>

  <div class="number-board" *ngIf="showKeyBoard">
    <div
      class="number-board-header"
      (swipeleft)="onDeleteClick()"
      (swiperight)="onDeleteClick()"
    >
      <input
        type="text"
        [(ngModel)]="enteredAmount"
        name="input"
        placeholder="ВВЕДИТЕ РАСХОД"
      />
      <!-- <i class="fas fa-edit"></i> -->
      <span (click)="onCurrencyClick()">{{ getCurrencySymbol() }}</span>
    </div>
    <div
      class="number-board-body"
      (swipedown)="onDisableRefresh($event)"
      (swipeleft)="onSwipeLeft()"
      (swiperight)="onSwipeRight()"
    >
      <div (click)="onNumberClick('1')" class="number">1</div>
      <div (click)="onNumberClick('2')" class="number">2</div>
      <div (click)="onNumberClick('3')" class="number">3</div>
      <div (click)="onNumberClick('4')" class="number">4</div>
      <div (click)="onNumberClick('5')" class="number">5</div>
      <div (click)="onNumberClick('6')" class="number">6</div>
      <div (click)="onNumberClick('7')" class="number">7</div>
      <div (click)="onNumberClick('8')" class="number">8</div>
      <div (click)="onNumberClick('9')" class="number">9</div>
      <div (click)="onNumberClick('.')" class="number">.</div>
      <div (click)="onNumberClick('0')" class="number">0</div>
      <div (click)="onDeleteClick()" class="number">
        <i class="fas fa-backspace"></i>
      </div>
    </div>
  </div>
</div>
