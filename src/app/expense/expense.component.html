<div class="container">
  <div class="header-container">
    <div class="header">
      <div class="menu-icon" [routerLink]="'/export'">
        <i [style.color]="'#BDA4A7'" class="fas fa-bars"></i>
      </div>

      <!-- <div class="title" [style.color]="'grey'">-</div> -->
      <div class="title" (click)="onCurrentAmountClick()">
        <div *ngIf="isShowCurrentBalanceAmount" class="bottom-header-irregular">
          нерегул.
        </div>
        <span
          class="title-total title-total-current"
          *ngIf="!isShowCurrentBalanceAmount"
          >{{ currentAmount }}</span
        >
        <span class="title-total" *ngIf="isShowCurrentBalanceAmount">{{
          currentBalanceAmount
        }}</span>
        <span class="title-total" [style.margin-left]="'5px'">€</span>
      </div>
      <!-- <div class="title" [style.color]="'grey'">-</div> -->
      <div class="clock-icon" [routerLink]="'/history'">
        <i class="fas fa-clock" [style.color]="'#BDA4A7'"></i>
      </div>
    </div>
    <div class="bottom-header">
        <span class="bottom-header-balance" (click)="onBalanceChange()">{{ balance }}€</span>
        <span (click)="onBalanceDateChange()">до {{ balanceDate }}</span>
    </div>
  </div>
  <app-categories
    *ngIf="showKeyBoard; else categoriesWithScroll"
    [style.overflow]="'hidden'"
    (categoryClick)="onCategoryClick($event)"
    (clickMore)="onSwipeDown()"
    appSwipe
    (swipeDown)="onSwipeDown()"
    (swipeUp)="onShowKeyBoard()"
    (swipeLeft)="onSwipeLeft()"
    (swipeRight)="onSwipeRight()"
    [enteredAmount]="enteredAmount"
  >
  </app-categories>
  <ng-template #categoriesWithScroll>
    <app-categories
      *ngIf="!showKeyBoard"
      (categorySwipeRight)="onSwipeRight()"
      (categorySwipeLeft)="onSwipeLeft()"
      (categorySwipeUp)="onShowKeyBoard()"
      (categoryClick)="onCategoryClick($event)"
      [isContentDown]="true"
      [enteredAmount]="enteredAmount"
    >
    </app-categories>
  </ng-template>

  <div class="number-board" *ngIf="showKeyBoard">
    <div
      class="number-board-header"
      (swipeleft)="onDeleteClick()"
      (swiperight)="onDeleteClick()"
    >
      <i
        class="description-icon fa-regular fa-pen-to-square"
        (click)="addDescription()"
      ></i>
      <input
        type="text"
        [(ngModel)]="enteredAmount"
        name="input"
        placeholder="ВВЕДИТЕ РАСХОД"
      />
      <!-- <i class="fas fa-edit"></i> -->
      <span (click)="onCurrencyClick()">{{ getCurrencySymbol() }}</span>
    </div>
    <div
      class="number-board-body"
      (swipedown)="onDisableRefresh($event)"
      (swipeleft)="onSwipeLeft()"
      (swiperight)="onSwipeRight()"
    >
      <div (click)="onNumberClick('1')" class="number">1</div>
      <div (click)="onNumberClick('2')" class="number">2</div>
      <div (click)="onNumberClick('3')" class="number">3</div>
      <div (click)="onNumberClick('4')" class="number">4</div>
      <div (click)="onNumberClick('5')" class="number">5</div>
      <div (click)="onNumberClick('6')" class="number">6</div>
      <div (click)="onNumberClick('7')" class="number">7</div>
      <div (click)="onNumberClick('8')" class="number">8</div>
      <div (click)="onNumberClick('9')" class="number">9</div>
      <div (click)="onNumberClick('.')" class="number">.</div>
      <div (click)="onNumberClick('0')" class="number">0</div>
      <div (click)="onDeleteClick()" class="number">
        <i class="fas fa-backspace"></i>
      </div>
    </div>
  </div>
</div>
