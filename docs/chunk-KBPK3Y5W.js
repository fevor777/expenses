import{E as d,F as m,I as y,M as N,N as T,h as u,w as f}from"./chunk-WT4EHPVH.js";var S="type.googleapis.com/google.protobuf.Int64Value",U="type.googleapis.com/google.protobuf.UInt64Value";function v(e,t){let n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function A(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>A(t));if(typeof e=="function"||typeof e=="object")return v(e,t=>A(t));throw new Error("Data cannot be encoded in JSON: "+e)}function g(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case S:case U:{let t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>g(t)):typeof e=="function"||typeof e=="object"?v(e,t=>g(t)):e}var O="functions";var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=class extends f{constructor(t,n,r){super(`${O}/${t}`,n||""),this.details=r}};function $(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function x(e,t){let n=$(e),r=n,i;try{let o=t&&t.error;if(o){let s=o.status;if(typeof s=="string"){if(!C[s])return new c("internal","internal");n=C[s],r=s}let a=o.message;typeof a=="string"&&(r=a),i=o.details,i!==void 0&&(i=g(i))}}catch{}return n==="ok"?null:new c(n,r,i)}var k=class{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return u(this,null,function*(){if(this.auth)try{let t=yield this.auth.getToken();return t?.accessToken}catch{return}})}getMessagingToken(){return u(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(t){return u(this,null,function*(){if(this.appCheck){let n=t?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(t){return u(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var b="us-central1";function M(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new c("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}var w=class{constructor(t,n,r,i,o=b,s){this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new k(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=b}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}};function G(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function H(e,t,n){return r=>B(e,t,r,n||{})}function V(e,t,n){return r=>L(e,t,r,n||{})}function J(e,t,n,r){return u(this,null,function*(){n["Content-Type"]="application/json";let i;try{i=yield r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=yield i.json()}catch{}return{status:i.status,json:o}})}function B(e,t,n,r){let i=e._url(t);return L(e,i,n,r)}function L(e,t,n,r){return u(this,null,function*(){n=A(n);let i={data:n},o={},s=yield e.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken);let a=r.timeout||7e4,p=M(a),l=yield Promise.race([J(t,i,o,e.fetchImpl),p.promise,e.cancelAllRequests]);if(p.cancel(),!l)throw new c("cancelled","Firebase Functions instance was deleted.");let _=x(l.status,l.json);if(_)throw _;if(!l.json)throw new c("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new c("internal","Response is missing data field.");return{data:g(h)}})}var D="@firebase/functions",P="0.11.8";var X="auth-internal",Y="app-check-internal",j="messaging-internal";function z(e,t){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(X),a=r.getProvider(j),p=r.getProvider(Y);return new w(o,s,a,p,i,e)};y(new m(O,n,"PUBLIC").setMultipleInstances(!0)),N(D,P,t),N(D,P,"esm2017")}function I(e,t,n){G(d(e),t,n)}function F(e,t,n){return H(d(e),t,n)}function R(e,t,n){return V(d(e),t,n)}z(fetch.bind(self));var K="@firebase/functions-compat",q="0.3.14";var E=class{constructor(t,n){this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(t,n){return F(this._delegate,t,n)}httpsCallableFromURL(t,n){return R(this._delegate,t,n)}useFunctionsEmulator(t){let n=t.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(n==null)throw new f("functions","No origin provided to useFunctionsEmulator()");if(n[2]==null)throw new f("functions","Port missing in origin provided to useFunctionsEmulator()");return I(this._delegate,n[1],Number(n[2]))}useEmulator(t,n){return I(this._delegate,t,n)}};var Z="us-central1",W=(e,{instanceIdentifier:t})=>{let n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:t??Z});return new E(n,r)};function Q(){let e={Functions:E};T.INTERNAL.registerComponent(new m("functions-compat",W,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}Q();T.registerVersion(K,q);
