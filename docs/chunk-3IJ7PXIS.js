import{A as sS,B as oS,C as Li,D as gn,E as fv,a as I,b as z,c as uv,g as cv,h as k,i as JT,j as Hh,k as XT,l as eS,m as tS,n as lv,o as nS,p as Hc,q as dv,r as zh,s as rS,t as iS,u as hv,v as tt,w as Ks,x as Tr,y as qh,z as zc}from"./chunk-MZBEQE75.js";function aS(t,e){return Object.is(t,e)}var St=null,Gh=!1,Wh=1,si=Symbol("SIGNAL");function De(t){let e=St;return St=t,e}function uS(){return St}var Gc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gv(t){if(Gh)throw new Error("");if(St===null)return;St.consumerOnSignalRead(t);let e=St.nextProducerIndex++;if(Zh(St),e<St.producerNode.length&&St.producerNode[e]!==t&&qc(St)){let n=St.producerNode[e];Yh(n,St.producerIndexOfThis[e])}St.producerNode[e]!==t&&(St.producerNode[e]=t,St.producerIndexOfThis[e]=qc(St)?hS(t,St,e):0),St.producerLastReadVersion[e]=t.version}function OL(){Wh++}function cS(t){if(!(qc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wh)){if(!t.producerMustRecompute(t)&&!vv(t)){t.dirty=!1,t.lastCleanEpoch=Wh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Wh}}function lS(t){if(t.liveConsumerNode===void 0)return;let e=Gh;Gh=!0;try{for(let n of t.liveConsumerNode)n.dirty||PL(n)}finally{Gh=e}}function dS(){return St?.consumerAllowSignalWrites!==!1}function PL(t){t.dirty=!0,lS(t),t.consumerMarkedDirty?.(t)}function Qh(t){return t&&(t.nextProducerIndex=0),De(t)}function yv(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vv(t){Zh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cS(n),r!==n.version))return!0}return!1}function wv(t){if(Zh(t),qc(t))for(let e=0;e<t.producerNode.length;e++)Yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hS(t,e,n){if(fS(t),t.liveConsumerNode.length===0&&pS(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=hS(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Yh(t,e){if(fS(t),t.liveConsumerNode.length===1&&pS(t))for(let r=0;r<t.producerNode.length;r++)Yh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Zh(i),i.producerIndexOfThis[r]=e}}function qc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pS(t){return t.producerNode!==void 0}function mS(t){let e=Object.create(FL);e.computation=t;let n=()=>{if(cS(e),gv(e),e.value===Kh)throw e.error;return e.value};return n[si]=e,n}var pv=Symbol("UNSET"),mv=Symbol("COMPUTING"),Kh=Symbol("ERRORED"),FL=z(I({},Gc),{value:pv,dirty:!0,error:null,equal:aS,producerMustRecompute(t){return t.value===pv||t.value===mv},producerRecomputeValue(t){if(t.value===mv)throw new Error("Detected cycle in computations.");let e=t.value;t.value=mv;let n=Qh(t),r;try{r=t.computation()}catch(i){r=Kh,t.error=i}finally{yv(t,n)}if(e!==pv&&e!==Kh&&r!==Kh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function VL(){throw new Error}var gS=VL;function yS(){gS()}function vS(t){gS=t}var LL=null;function wS(t){let e=Object.create(ES);e.value=t;let n=()=>(gv(e),e.value);return n[si]=e,n}function _v(t,e){dS()||yS(),t.equal(t.value,e)||(t.value=e,jL(t))}function _S(t,e){dS()||yS(),_v(t,e(t.value))}var ES=z(I({},Gc),{equal:aS,value:void 0});function jL(t){t.version++,OL(),lS(t),LL?.()}function ue(t){return typeof t=="function"}function da(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Jh=da(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var at=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(s){e=s instanceof Jh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{IS(s)}catch(o){e=e??[],o instanceof Jh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)IS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qs(n,e)}remove(e){let{_finalizers:n}=this;n&&Qs(n,e),e instanceof t&&e._removeParent(this)}};at.EMPTY=(()=>{let t=new at;return t.closed=!0,t})();var Ev=at.EMPTY;function Xh(t){return t instanceof at||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function IS(t){ue(t)?t():t.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ha={setTimeout(t,e,...n){let{delegate:r}=ha;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ha;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ef(t){ha.setTimeout(()=>{let{onUnhandledError:e}=tr;if(e)e(t);else throw t})}function Wc(){}var DS=Iv("C",void 0,void 0);function CS(t){return Iv("E",void 0,t)}function bS(t){return Iv("N",t,void 0)}function Iv(t,e,n){return{kind:t,value:e,error:n}}var Ys=null;function fa(t){if(tr.useDeprecatedSynchronousErrorHandling){let e=!Ys;if(e&&(Ys={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ys;if(Ys=null,n)throw r}}else t()}function TS(t){tr.useDeprecatedSynchronousErrorHandling&&Ys&&(Ys.errorThrown=!0,Ys.error=t)}var Zs=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xh(e)&&e.add(this)):this.destination=$L}static create(e,n,r){return new oi(e,n,r)}next(e){this.isStopped?Cv(bS(e),this):this._next(e)}error(e){this.isStopped?Cv(CS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cv(DS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UL=Function.prototype.bind;function Dv(t,e){return UL.call(t,e)}var bv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tf(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tf(r)}else tf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tf(n)}}},oi=class extends Zs{constructor(e,n,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&tr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dv(e.next,s),error:e.error&&Dv(e.error,s),complete:e.complete&&Dv(e.complete,s)}):i=e}this.destination=new bv(i)}};function tf(t){tr.useDeprecatedSynchronousErrorHandling?TS(t):ef(t)}function BL(t){throw t}function Cv(t,e){let{onStoppedNotification:n}=tr;n&&ha.setTimeout(()=>n(t,e))}var $L={closed:!0,next:Wc,error:BL,complete:Wc};var pa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(t){return t}function Tv(...t){return Sv(t)}function Sv(t){return t.length===0?en:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zL(n)?n:new oi(n,r,i);return fa(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=SS(r),new r((i,s)=>{let o=new oi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pa](){return this}pipe(...n){return Sv(n)(this)}toPromise(n){return n=SS(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function SS(t){var e;return(e=t??tr.Promise)!==null&&e!==void 0?e:Promise}function HL(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function zL(t){return t&&t instanceof Zs||HL(t)&&Xh(t)}function Av(t){return ue(t?.lift)}function ge(t){return e=>{if(Av(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new xv(t,e,n,r,i)}var xv=class extends Zs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ma(){return ge((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ga=class extends Ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Av(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return ma()(this)}};var AS=da(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nf(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AS}next(n){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ev:(this.currentObservers=null,s.push(n),new at(()=>{this.currentObservers=null,Qs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Ee;return n.source=this,n}}return t.create=(e,n)=>new nf(e,n),t})(),nf=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ev}};var Ft=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kc={now(){return(Kc.delegate||Date).now()},delegate:void 0};var rf=class extends qe{constructor(e=1/0,n=1/0,r=Kc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}};var sf=class extends at{constructor(e,n){super()}schedule(e,n=0){return this}};var Qc={setInterval(t,e,...n){let{delegate:r}=Qc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ya=class extends sf{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var va=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};va.now=Kc.now;var wa=class extends va{constructor(e,n=va.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yc=new wa(ya);var of=class extends ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var af=class extends wa{};var Mv=new af(of);var tn=new Ee(t=>t.complete());function xS(t){return t&&ue(t.schedule)}function Nv(t){return t[t.length-1]}function uf(t){return ue(Nv(t))?t.pop():void 0}function Sr(t){return xS(Nv(t))?t.pop():void 0}function MS(t,e){return typeof Nv(t)=="number"?t.pop():e}var cf=t=>t&&typeof t.length=="number"&&typeof t!="function";function lf(t){return ue(t?.then)}function df(t){return ue(t[pa])}function hf(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function ff(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pf=qL();function mf(t){return ue(t?.[pf])}function gf(t){return XT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Hh(n.read());if(i)return yield Hh(void 0);yield yield Hh(r)}}finally{n.releaseLock()}})}function yf(t){return ue(t?.getReader)}function Qe(t){if(t instanceof Ee)return t;if(t!=null){if(df(t))return GL(t);if(cf(t))return WL(t);if(lf(t))return KL(t);if(hf(t))return NS(t);if(mf(t))return QL(t);if(yf(t))return YL(t)}throw ff(t)}function GL(t){return new Ee(e=>{let n=t[pa]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WL(t){return new Ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KL(t){return new Ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ef)})}function QL(t){return new Ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function NS(t){return new Ee(e=>{ZL(t,e).catch(n=>e.error(n))})}function YL(t){return NS(gf(t))}function ZL(t,e){var n,r,i,s;return JT(this,void 0,void 0,function*(){try{for(n=eS(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function yn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function $n(t,e=0){return ge((n,r)=>{n.subscribe(ye(r,i=>yn(r,t,()=>r.next(i),e),()=>yn(r,t,()=>r.complete(),e),i=>yn(r,t,()=>r.error(i),e)))})}function nr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RS(t,e){return Qe(t).pipe(nr(e),$n(e))}function kS(t,e){return Qe(t).pipe(nr(e),$n(e))}function OS(t,e){return new Ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function PS(t,e){return new Ee(n=>{let r;return yn(n,e,()=>{r=t[pf](),yn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function vf(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ee(n=>{yn(n,e,()=>{let r=t[Symbol.asyncIterator]();yn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FS(t,e){return vf(gf(t),e)}function VS(t,e){if(t!=null){if(df(t))return RS(t,e);if(cf(t))return OS(t,e);if(lf(t))return kS(t,e);if(hf(t))return vf(t,e);if(mf(t))return PS(t,e);if(yf(t))return FS(t,e)}throw ff(t)}function he(t,e){return e?VS(t,e):Qe(t)}function Y(...t){let e=Sr(t);return he(t,e)}function _a(t,e){let n=ue(t)?t:()=>t,r=i=>i.error(n());return new Ee(e?i=>e.schedule(r,0,i):r)}function Rv(t){return!!t&&(t instanceof Ee||ue(t.lift)&&ue(t.subscribe))}var ai=da(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return ge((n,r)=>{let i=0;n.subscribe(ye(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:JL}=Array;function XL(t,e){return JL(e)?t(...e):t(e)}function wf(t){return Z(e=>XL(t,e))}var{isArray:e2}=Array,{getPrototypeOf:t2,prototype:n2,keys:r2}=Object;function _f(t){if(t.length===1){let e=t[0];if(e2(e))return{args:e,keys:null};if(i2(e)){let n=r2(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function i2(t){return t&&typeof t=="object"&&t2(t)===n2}function Ef(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Zc(...t){let e=Sr(t),n=uf(t),{args:r,keys:i}=_f(t);if(r.length===0)return he([],e);let s=new Ee(s2(r,e,i?o=>Ef(i,o):en));return n?s.pipe(wf(n)):s}function s2(t,e,n=en){return r=>{LS(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)LS(e,()=>{let l=he(t[u],e),d=!1;l.subscribe(ye(r,f=>{s[u]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function LS(t,e,n){t?yn(n,t,e):e()}function jS(t,e,n,r,i,s,o,a){let u=[],l=0,d=0,f=!1,m=()=>{f&&!u.length&&!l&&e.complete()},g=b=>l<r?w(b):u.push(b),w=b=>{s&&e.next(b),l++;let T=!1;Qe(n(b,d++)).subscribe(ye(e,O=>{i?.(O),s?g(O):e.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;u.length&&l<r;){let O=u.shift();o?yn(e,o,()=>w(O)):w(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(ye(e,g,()=>{f=!0,m()})),()=>{a?.()}}function vt(t,e,n=1/0){return ue(e)?vt((r,i)=>Z((s,o)=>e(r,s,i,o))(Qe(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>jS(r,i,t,n)))}function ji(t=1/0){return vt(en,t)}function US(){return ji(1)}function Ea(...t){return US()(he(t,Sr(t)))}function If(t){return new Ee(e=>{Qe(t()).subscribe(e)})}function kv(...t){let e=uf(t),{args:n,keys:r}=_f(t),i=new Ee(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let d=0;d<o;d++){let f=!1;Qe(n[d]).subscribe(ye(s,m=>{f||(f=!0,l--),a[d]=m},()=>u--,void 0,()=>{(!u||!f)&&(l||s.next(r?Ef(r,a):a),s.complete())}))}});return e?i.pipe(wf(e)):i}function Ov(...t){let e=Sr(t),n=MS(t,1/0),r=t;return r.length?r.length===1?Qe(r[0]):ji(n)(he(r,e)):tn}function Vt(t,e){return ge((n,r)=>{let i=0;n.subscribe(ye(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ui(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ye(n,void 0,void 0,o=>{s=Qe(t(o,Ui(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function BS(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ye(o,d=>{let f=l++;u=a?t(u,d,f):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Js(t,e){return ue(e)?vt(t,e,1):vt(t,1)}function Bi(t){return ge((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ar(t){return t<=0?()=>tn:ge((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pv(t){return Z(()=>t)}function Fv(t,e=en){return t=t??o2,ge((n,r)=>{let i,s=!0;n.subscribe(ye(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function o2(t,e){return t===e}function Df(t=a2){return ge((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function a2(){return new ai}function Jc(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):en,Ar(1),n?Bi(e):Df(()=>new ai))}function Ia(t){return t<=0?()=>tn:ge((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):en,Ia(1),n?Bi(e):Df(()=>new ai))}function Xc(){return ge((t,e)=>{let n,r=!1;t.subscribe(ye(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Xs(t,e){return ge(BS(t,e,arguments.length>=2,!0))}function $S(t={}){let{connector:e=()=>new qe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),o=u=void 0,d=f=!1},w=()=>{let b=o;g(),b?.unsubscribe()};return ge((b,T)=>{l++,!f&&!d&&m();let O=u=u??e();T.add(()=>{l--,l===0&&!f&&!d&&(a=Lv(w,i))}),O.subscribe(T),!o&&l>0&&(o=new oi({next:j=>O.next(j),error:j=>{f=!0,m(),a=Lv(g,n,j),O.error(j)},complete:()=>{d=!0,m(),a=Lv(g,r),O.complete()}}),Qe(b).subscribe(o))})(s)}}function Lv(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new oi({next:()=>{r.unsubscribe(),t()}});return Qe(e(...n)).subscribe(r)}function Cf(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,$S({connector:()=>new rf(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function eo(...t){let e=Sr(t);return ge((n,r)=>{(e?Ea(t,n,e):Ea(t,n)).subscribe(r)})}function nt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,d=s++;Qe(t(u,d)).subscribe(i=ye(r,f=>r.next(e?e(u,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function bf(t,e){return ue(e)?nt(()=>t,e):nt(()=>t)}function to(t){return ge((e,n)=>{Qe(t).subscribe(ye(n,()=>n.complete(),Wc)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ye(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}var MA="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,n){super(Qw(e,n)),this.code=e}};function Qw(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function hl(t){return{toString:t}.toString()}var Tf="__parameters__";function u2(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function NA(t,e,n){return hl(()=>{let r=u2(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,d){let f=u.hasOwnProperty(Tf)?u[Tf]:Object.defineProperty(u,Tf,{value:[]})[Tf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nn=globalThis;function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function c2(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(sn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ew(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var l2=$e({__forward_ref__:$e});function Ba(t){return t.__forward_ref__=Ba,t.toString=function(){return sn(this())},t}function rn(t){return RA(t)?t():t}function RA(t){return typeof t=="function"&&t.hasOwnProperty(l2)&&t.__forward_ref__===Ba}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function hp(t){return HS(t,OA)||HS(t,PA)}function kA(t){return hp(t)!==null}function HS(t,e){return t.hasOwnProperty(e)?t[e]:null}function d2(t){let e=t&&(t[OA]||t[PA]);return e||null}function zS(t){return t&&(t.hasOwnProperty(qS)||t.hasOwnProperty(h2))?t[qS]:null}var OA=$e({\u0275prov:$e}),qS=$e({\u0275inj:$e}),PA=$e({ngInjectableDef:$e}),h2=$e({ngInjectorDef:$e}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FA(t){return t&&!!t.\u0275providers}var f2=$e({\u0275cmp:$e}),p2=$e({\u0275dir:$e}),m2=$e({\u0275pipe:$e}),g2=$e({\u0275mod:$e}),Ff=$e({\u0275fac:$e}),tl=$e({__NG_ELEMENT_ID__:$e}),GS=$e({__NG_ENV_ID__:$e});function Aa(t){return typeof t=="string"?t:t==null?"":String(t)}function y2(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Aa(t)}function v2(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,t)}function Yw(t,e){throw new ee(-201,!1)}var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{}),tw;function VA(){return tw}function vn(t){let e=tw;return tw=t,e}function LA(t,e,n){let r=hp(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&we.Optional)return null;if(e!==void 0)return e;Yw(t,"Injector")}var w2={},rl=w2,nw="__NG_DI_FLAG__",Vf="ngTempTokenPath",_2="ngTokenPath",E2=/\n/gm,I2="\u0275",WS="__source",Ta;function D2(){return Ta}function $i(t){let e=Ta;return Ta=t,e}function C2(t,e=we.Default){if(Ta===void 0)throw new ee(-203,!1);return Ta===null?LA(t,void 0,e):Ta.get(t,e&we.Optional?null:void 0,e)}function L(t,e=we.Default){return(VA()||C2)(rn(t),e)}function B(t,e=we.Default){return L(t,fp(e))}function fp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rw(t){let e=[];for(let n=0;n<t.length;n++){let r=rn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=we.Default;for(let o=0;o<r.length;o++){let a=r[o],u=b2(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function jA(t,e){return t[nw]=e,t.prototype[nw]=e,t}function b2(t){return t[nw]}function T2(t,e,n,r){let i=t[Vf];throw e[WS]&&i.unshift(e[WS]),t.message=S2(`
`+t.message,i,n,r),t[_2]=i,t[Vf]=null,t}function S2(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==I2?t.slice(2):t;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):sn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(E2,`
  `)}`}var Zi=jA(NA("Optional"),8);var pp=jA(NA("SkipSelf"),4);function so(t,e){let n=t.hasOwnProperty(Ff);return n?t[Ff]:null}function Zw(t,e){t.forEach(n=>Array.isArray(n)?Zw(n,e):e(n))}function UA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function A2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Jw(t,e,n){let r=fl(t,e);return r>=0?t[r|1]=n:(r=~r,A2(t,r,e,n)),r}function jv(t,e){let n=fl(t,e);if(n>=0)return t[n|1]}function fl(t,e){return x2(t,e,1)}function x2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var xa={},wn=[],Ma=new G(""),BA=new G("",-1),$A=new G(""),jf=class{get(e,n=rl){if(n===rl){let r=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw r.name="NullInjectorError",r}return n}},HA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(HA||{}),Nr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nr||{}),qi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qi||{});function M2(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function iw(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];N2(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function zA(t){return t===3||t===4||t===6}function N2(t){return t.charCodeAt(0)===64}function il(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?KS(t,n,i,null,e[++r]):KS(t,n,i,null,null))}}return t}function KS(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var qA="ng-template";function R2(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&M2(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Xw(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Xw(t){return t.type===4&&t.value!==qA}function k2(t,e,n){let r=t.type===4&&!n?qA:t.value;return e===r}function O2(t,e,n){let r=4,i=t.attrs,s=i!==null?V2(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!rr(r)&&!rr(u))return!1;if(o&&rr(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!k2(t,u,n)||u===""&&e.length===1){if(rr(r))return!1;o=!0}}else if(r&8){if(i===null||!R2(t,i,u,n)){if(rr(r))return!1;o=!0}}else{let l=e[++a],d=P2(u,i,Xw(t),n);if(d===-1){if(rr(r))return!1;o=!0;continue}if(l!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(rr(r))return!1;o=!0}}}}return rr(r)||o}function rr(t){return(t&1)===0}function P2(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return L2(e,t)}function F2(t,e,n=!1){for(let r=0;r<e.length;r++)if(O2(t,e[r],n))return!0;return!1}function V2(t){for(let e=0;e<t.length;e++){let n=t[e];if(zA(n))return e}return t.length}function L2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QS(t,e){return t?":not("+e.trim()+")":e}function j2(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!rr(o)&&(e+=QS(s,i),i=""),r=o,s=s||!rr(r);n++}return i!==""&&(e+=QS(s,i)),e}function U2(t){return t.map(j2).join(",")}function B2(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!rr(i))break;i=s}r++}return{attrs:e,classes:n}}function ar(t){return hl(()=>{let e=YA(t),n=z(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===HA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nr.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""});ZA(n);let r=t.dependencies;return n.directiveDefs=ZS(r,!1),n.pipeDefs=ZS(r,!0),n.id=z2(n),n})}function $2(t){return Gi(t)||GA(t)}function H2(t){return t!==null}function Nt(t){return hl(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YS(t,e){if(t==null)return xa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=qi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==qi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Wt(t){return hl(()=>{let e=YA(t);return ZA(e),e})}function e_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gi(t){return t[f2]||null}function GA(t){return t[p2]||null}function WA(t){return t[m2]||null}function KA(t){let e=Gi(t)||GA(t)||WA(t);return e!==null?e.standalone:!1}function QA(t,e){let n=t[g2]||null;if(!n&&e===!0)throw new Error(`Type ${sn(t)} does not have '\u0275mod' property.`);return n}function YA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YS(t.inputs,e),outputs:YS(t.outputs),debugInfo:null}}function ZA(t){t.features?.forEach(e=>e(t))}function ZS(t,e){if(!t)return null;let n=e?WA:$2;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(H2)}function z2(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function q2(...t){return{\u0275providers:JA(!0,t),\u0275fromNgModule:!0}}function JA(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Zw(e,o=>{let a=o;sw(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&XA(i,s),n}function XA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];t_(i,s=>{e(s,r)})}}function sw(t,e,n,r){if(t=rn(t),!t)return!1;let i=null,s=zS(t),o=!s&&Gi(t);if(!s&&!o){let u=t.ngModule;if(s=zS(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)sw(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Zw(s.imports,d=>{sw(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&XA(l,e)}if(!a){let l=so(i)||(()=>new i);e({provide:i,useFactory:l,deps:wn},i),e({provide:$A,useValue:i,multi:!0},i),e({provide:Ma,useValue:()=>L(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;t_(u,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function t_(t,e){for(let n of t)FA(n)&&(n=n.\u0275providers),Array.isArray(n)?t_(n,e):e(n)}var G2=$e({provide:String,useValue:$e});function ex(t){return t!==null&&typeof t=="object"&&G2 in t}function W2(t){return!!(t&&t.useExisting)}function K2(t){return!!(t&&t.useFactory)}function Na(t){return typeof t=="function"}function Q2(t){return!!t.useClass}var mp=new G(""),Rf={},Y2={},Uv;function n_(){return Uv===void 0&&(Uv=new jf),Uv}var Sn=class{},sl=class extends Sn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,aw(e,o=>this.processProvider(o)),this.records.set(BA,Da(void 0,this)),i.has("environment")&&this.records.set(Sn,Da(void 0,this));let s=this.records.get(mp);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($A,wn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$i(this),r=vn(void 0),i;try{return e()}finally{$i(n),vn(r)}}get(e,n=rl,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GS))return e[GS](this);r=fp(r);let i,s=$i(this),o=vn(void 0);try{if(!(r&we.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=tj(e)&&hp(e);l&&this.injectableDefInScope(l)?u=Da(ow(e),Rf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&we.Self?n_():this.parent;return n=r&we.Optional&&n===rl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vf]=a[Vf]||[]).unshift(sn(e)),s)throw a;return T2(a,e,"R3InjectorError",this.source)}else throw a}finally{vn(o),$i(s)}}resolveInjectorInitializers(){let e=De(null),n=$i(this),r=vn(void 0),i;try{let s=this.get(Ma,wn,we.Self);for(let o of s)o()}finally{$i(n),vn(r),De(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=rn(e);let n=Na(e)?e:rn(e&&e.provide),r=J2(e);if(!Na(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Da(void 0,Rf,!0),i.factory=()=>rw(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=De(null);try{return n.value===Rf&&(n.value=Y2,n.value=n.factory()),typeof n.value=="object"&&n.value&&ej(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ow(t){let e=hp(t),n=e!==null?e.factory:so(t);if(n!==null)return n;if(t instanceof G)throw new ee(204,!1);if(t instanceof Function)return Z2(t);throw new ee(204,!1)}function Z2(t){if(t.length>0)throw new ee(204,!1);let n=d2(t);return n!==null?()=>n.factory(t):()=>new t}function J2(t){if(ex(t))return Da(void 0,t.useValue);{let e=tx(t);return Da(e,Rf)}}function tx(t,e,n){let r;if(Na(t)){let i=rn(t);return so(i)||ow(i)}else if(ex(t))r=()=>rn(t.useValue);else if(K2(t))r=()=>t.useFactory(...rw(t.deps||[]));else if(W2(t))r=()=>L(rn(t.useExisting));else{let i=rn(t&&(t.useClass||t.provide));if(X2(t))r=()=>new i(...rw(t.deps));else return so(i)||ow(i)}return r}function Da(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function X2(t){return!!t.deps}function ej(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function tj(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function aw(t,e){for(let n of t)Array.isArray(n)?aw(n,e):n&&FA(n)?aw(n.\u0275providers,e):e(n)}function ur(t,e){t instanceof sl&&t.assertNotDestroyed();let n,r=$i(t),i=vn(void 0);try{return e()}finally{$i(r),vn(i)}}function nx(){return VA()!==void 0||D2()!=null}function nj(t){if(!nx())throw new ee(-203,!1)}function rj(t){let e=nn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ij(t){return typeof t=="function"}var li=0,ve=1,ce=2,un=3,sr=4,cr=5,ol=6,Uf=7,on=8,Ra=9,Rr=10,ft=11,al=12,JS=13,$a=14,or=15,ka=16,Ca=17,Oa=18,gp=19,rx=20,Hi=21,Bv=22,Hn=23,En=25,ix=1;var oo=7,Bf=8,$f=9,an=10,Hf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hf||{});function zi(t){return Array.isArray(t)&&typeof t[ix]=="object"}function di(t){return Array.isArray(t)&&t[ix]===!0}function r_(t){return(t.flags&4)!==0}function yp(t){return t.componentOffset>-1}function vp(t){return(t.flags&1)===1}function Wi(t){return!!t.template}function uw(t){return(t[ce]&512)!==0}var cw=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function sx(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Kt(){return ox}function ox(t){return t.type.prototype.ngOnChanges&&(t.setInput=oj),sj}Kt.ngInherit=!0;function sj(){let t=ux(this),e=t?.current;if(e){let n=t.previous;if(n===xa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oj(t,e,n,r,i){let s=this.declaredInputs[r],o=ux(t)||aj(t,{previous:xa,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new cw(l&&l.currentValue,n,u===xa),sx(t,e,i,n)}var ax="__ngSimpleChanges__";function ux(t){return t[ax]||null}function aj(t,e){return t[ax]=e}var XS=null;var xr=function(t,e,n){XS?.(t,e,n)},uj="svg",cj="math";function kr(t){for(;Array.isArray(t);)t=t[li];return t}function cx(t,e){return kr(e[t])}function zn(t,e){return kr(e[t.index])}function i_(t,e){return t.data[e]}function s_(t,e){return t[e]}function Ji(t,e){let n=e[t];return zi(n)?n:n[li]}function o_(t){return(t[ce]&128)===128}function lj(t){return di(t[un])}function Ki(t,e){return e==null?null:t[e]}function lx(t){t[Ca]=0}function dx(t){t[ce]&1024||(t[ce]|=1024,o_(t)&&wp(t))}function dj(t,e){for(;t>0;)e=e[$a],t--;return e}function ul(t){return!!(t[ce]&9216||t[Hn]?.dirty)}function lw(t){t[Rr].changeDetectionScheduler?.notify(7),t[ce]&64&&(t[ce]|=1024),ul(t)&&wp(t)}function wp(t){t[Rr].changeDetectionScheduler?.notify(0);let e=ao(t);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!o_(e)));)e=ao(e)}function hx(t,e){if((t[ce]&256)===256)throw new ee(911,!1);t[Hi]===null&&(t[Hi]=[]),t[Hi].push(e)}function hj(t,e){if(t[Hi]===null)return;let n=t[Hi].indexOf(e);n!==-1&&t[Hi].splice(n,1)}function ao(t){let e=t[un];return di(e)?e[un]:e}var _e={lFrame:Ex(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fx=!1;function fj(){return _e.lFrame.elementDepthCount}function pj(){_e.lFrame.elementDepthCount++}function mj(){_e.lFrame.elementDepthCount--}function px(){return _e.bindingsEnabled}function gj(){return _e.skipHydrationRootTNode!==null}function yj(t){return _e.skipHydrationRootTNode===t}function vj(){_e.skipHydrationRootTNode=null}function Ce(){return _e.lFrame.lView}function Rt(){return _e.lFrame.tView}function wt(t){return _e.lFrame.contextLView=t,t[on]}function _t(t){return _e.lFrame.contextLView=null,t}function Qt(){let t=mx();for(;t!==null&&t.type===64;)t=t.parent;return t}function mx(){return _e.lFrame.currentTNode}function wj(){let t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function fo(t,e){let n=_e.lFrame;n.currentTNode=t,n.isParent=e}function a_(){return _e.lFrame.isParent}function gx(){_e.lFrame.isParent=!1}function _j(){return _e.lFrame.contextLView}function yx(){return fx}function eA(t){fx=t}function u_(){let t=_e.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ej(){return _e.lFrame.bindingIndex}function Ij(t){return _e.lFrame.bindingIndex=t}function pl(){return _e.lFrame.bindingIndex++}function c_(t){let e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Dj(){return _e.lFrame.inI18n}function Cj(t,e){let n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,dw(e)}function bj(){return _e.lFrame.currentDirectiveIndex}function dw(t){_e.lFrame.currentDirectiveIndex=t}function Tj(t){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vx(t){_e.lFrame.currentQueryIndex=t}function Sj(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[cr]:null}function wx(t,e,n){if(n&we.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&we.Host);)if(i=Sj(s),i===null||(s=s[$a],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=_e.lFrame=_x();return r.currentTNode=e,r.lView=t,!0}function l_(t){let e=_x(),n=t[ve];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _x(){let t=_e.lFrame,e=t===null?null:t.child;return e===null?Ex(t):e}function Ex(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ix(){let t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Dx=Ix;function d_(){let t=Ix();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Aj(t){return(_e.lFrame.contextLView=dj(t,_e.lFrame.contextLView))[on]}function hi(){return _e.lFrame.selectedIndex}function uo(t){_e.lFrame.selectedIndex=t}function h_(){let t=_e.lFrame;return i_(t.tView,t.selectedIndex)}function xj(){return _e.lFrame.currentNamespace}var Cx=!0;function _p(){return Cx}function Ep(t){Cx=t}function Mj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ox(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ip(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function kf(t,e,n){bx(t,e,3,n)}function Of(t,e,n,r){(t[ce]&3)===n&&bx(t,e,n,r)}function $v(t,e){let n=t[ce];(n&3)===e&&(n&=16383,n+=1,t[ce]=n)}function bx(t,e,n,r){let i=r!==void 0?t[Ca]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ca]+=65536),(a<s||s==-1)&&(Nj(t,n,e,u),t[Ca]=(t[Ca]&4294901760)+u+2),u++}function tA(t,e){xr(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),xr(5,t,e)}}function Nj(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ce]>>14<t[Ca]>>16&&(t[ce]&3)===e&&(t[ce]+=16384,tA(a,s)):tA(a,s)}var Sa=-1,co=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Rj(t){return t instanceof co}function kj(t){return(t.flags&8)!==0}function Oj(t){return(t.flags&16)!==0}var Hv={},hw=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fp(r);let i=this.injector.get(e,Hv,r);return i!==Hv||n===Hv?i:this.parentInjector.get(e,n,r)}};function Tx(t){return t!==Sa}function zf(t){return t&32767}function Pj(t){return t>>16}function qf(t,e){let n=Pj(t),r=e;for(;n>0;)r=r[$a],n--;return r}var fw=!0;function Gf(t){let e=fw;return fw=t,e}var Fj=256,Sx=Fj-1,Ax=5,Vj=0,Mr={};function Lj(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(tl)&&(r=n[tl]),r==null&&(r=n[tl]=Vj++);let i=r&Sx,s=1<<i;e.data[t+(i>>Ax)]|=s}function Wf(t,e){let n=xx(t,e);if(n!==-1)return n;let r=e[ve];r.firstCreatePass&&(t.injectorIndex=e.length,zv(r.data,t),zv(e,null),zv(r.blueprint,null));let i=f_(t,e),s=t.injectorIndex;if(Tx(i)){let o=zf(i),a=qf(i,e),u=a[ve].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function zv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xx(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function f_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ox(i),r===null)return Sa;if(n++,i=i[$a],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Sa}function pw(t,e,n){Lj(t,e,n)}function jj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(zA(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Mx(t,e,n){if(n&we.Optional||t!==void 0)return t;Yw(e,"NodeInjector")}function Nx(t,e,n,r){if(n&we.Optional&&r===void 0&&(r=null),!(n&(we.Self|we.Host))){let i=t[Ra],s=vn(void 0);try{return i?i.get(e,r,n&we.Optional):LA(e,r,n&we.Optional)}finally{vn(s)}}return Mx(r,e,n)}function Rx(t,e,n,r=we.Default,i){if(t!==null){if(e[ce]&2048&&!(r&we.Self)){let o=zj(t,e,n,r,Mr);if(o!==Mr)return o}let s=kx(t,e,n,r,Mr);if(s!==Mr)return s}return Nx(e,n,r,i)}function kx(t,e,n,r,i){let s=$j(n);if(typeof s=="function"){if(!wx(e,t,r))return r&we.Host?Mx(i,n,r):Nx(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&we.Optional))Yw(n);else return o}finally{Dx()}}else if(typeof s=="number"){let o=null,a=xx(t,e),u=Sa,l=r&we.Host?e[or][cr]:null;for((a===-1||r&we.SkipSelf)&&(u=a===-1?f_(t,e):e[a+8],u===Sa||!rA(r,!1)?a=-1:(o=e[ve],a=zf(u),e=qf(u,e)));a!==-1;){let d=e[ve];if(nA(s,a,d.data)){let f=Uj(a,e,n,o,r,l);if(f!==Mr)return f}u=e[a+8],u!==Sa&&rA(r,e[ve].data[a+8]===l)&&nA(s,a,e)?(o=d,a=zf(u),e=qf(u,e)):a=-1}}return i}function Uj(t,e,n,r,i,s){let o=e[ve],a=o.data[t+8],u=r==null?yp(a)&&fw:r!=o&&(a.type&3)!==0,l=i&we.Host&&s===a,d=Bj(a,o,n,u,l);return d!==null?Pa(e,o,d,a):Mr}function Bj(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:l;for(let g=f;g<m;g++){let w=o[g];if(g<u&&n===w||g>=u&&w.type===n)return g}if(i){let g=o[u];if(g&&Wi(g)&&g.type===n)return u}return null}function Pa(t,e,n,r){let i=t[n],s=e.data;if(Rj(i)){let o=i;o.resolving&&v2(y2(s[n]));let a=Gf(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?vn(o.injectImpl):null,d=wx(t,r,we.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Mj(n,s[n],e)}finally{l!==null&&vn(l),Gf(a),o.resolving=!1,Dx()}}return i}function $j(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(tl)?t[tl]:void 0;return typeof e=="number"?e>=0?e&Sx:Hj:e}function nA(t,e,n){let r=1<<t;return!!(n[e+(t>>Ax)]&r)}function rA(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var io=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Rx(this._tNode,this._lView,e,fp(r),n)}};function Hj(){return new io(Qt(),Ce())}function po(t){return hl(()=>{let e=t.prototype.constructor,n=e[Ff]||mw(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ff]||mw(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mw(t){return RA(t)?()=>{let e=mw(rn(t));return e&&e()}:so(t)}function zj(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ce]&2048&&!(o[ce]&512);){let a=kx(s,o,n,r|we.Self,Mr);if(a!==Mr)return a;let u=s.parent;if(!u){let l=o[rx];if(l){let d=l.get(n,Mr,r);if(d!==Mr)return d}u=Ox(o),o=o[$a]}s=u}return i}function Ox(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[cr]:null}function p_(t){return jj(Qt(),t)}function iA(t,e=null,n=null,r){let i=Px(t,e,n,r);return i.resolveInjectorInitializers(),i}function Px(t,e=null,n=null,r,i=new Set){let s=[n||wn,q2(t)];return r=r||(typeof t=="object"?void 0:sn(t)),new sl(s,e||n_(),r||null,i)}var ro=class ro{static create(e,n){if(Array.isArray(e))return iA({name:""},n,e,"");{let r=e.name??"";return iA({name:r},e.parent,e.providers,r)}}};ro.THROW_IF_NOT_FOUND=rl,ro.NULL=new jf,ro.\u0275prov=W({token:ro,providedIn:"any",factory:()=>L(BA)}),ro.__NG_ELEMENT_ID__=-1;var An=ro;var qj=new G("");qj.__NG_ELEMENT_ID__=t=>{let e=Qt();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(t&we.Optional)return null;throw new ee(204,!1)};var Gj="ngOriginalError";function qv(t){return t[Gj]}var m_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wj,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),gw=class extends m_{constructor(e){super(),this._lView=e}onDestroy(e){return hx(this._lView,e),()=>hj(this._lView,e)}};function Wj(){return new gw(Ce())}var Ha=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var yw=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,nx()&&(this.destroyRef=B(m_,{optional:!0})??void 0,this.pendingTasks=B(Ha,{optional:!0})??void 0)}emit(e){let n=De(null);try{super.next(e)}finally{De(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof at&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=yw;function Kf(...t){}function Fx(t){let e,n;function r(){t=Kf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function sA(t){return queueMicrotask(()=>t()),()=>{t=Kf}}var g_="isAngularZone",Qf=g_+"_ID",Kj=0,Te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Zj(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(g_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Qj,Kf,Kf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Qj={};function y_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yj(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Fx(()=>{t.callbackScheduled=!1,vw(t),t.isCheckStableRunning=!0,y_(t),t.isCheckStableRunning=!1})}),vw(t))}function Zj(t){let e=()=>{Yj(t)},n=Kj++;t._inner=t._inner.fork({name:"angular",properties:{[g_]:!0,[Qf]:n,[Qf+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Jj(u))return r.invokeTask(s,o,a,u);try{return oA(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aA(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return oA(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Xj(u)&&e(),aA(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,vw(t),y_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function vw(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aA(t){t._nesting--,y_(t)}var Yf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Jj(t){return Vx(t,"__ignore_ng_zone__")}function Xj(t){return Vx(t,"__scheduler_tick__")}function Vx(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function eU(t="zone.js",e){return t==="noop"?new Yf:t==="zone.js"?new Te(e):t}var ui=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qv(e);for(;n&&qv(n);)n=qv(n);return n||null}},tU=new G("",{providedIn:"root",factory:()=>{let t=B(Te),e=B(ui);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function nU(){return Dp(Qt(),Ce())}function Dp(t,e){return new lr(zn(t,e))}var lr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=nU;let t=e;return t})();function Lx(t){return(t.flags&128)===128}var jx=new Map,rU=0;function iU(){return rU++}function sU(t){jx.set(t[gp],t)}function oU(t){jx.delete(t[gp])}var uA="__ngContext__";function Qi(t,e){zi(e)?(t[uA]=e[gp],sU(e)):t[uA]=e}function Ux(t){return $x(t[al])}function Bx(t){return $x(t[sr])}function $x(t){for(;t!==null&&!di(t);)t=t[sr];return t}var ww;function Hx(t){ww=t}function aU(){if(ww!==void 0)return ww;if(typeof document<"u")return document;throw new ee(210,!1)}var Cp=new G("",{providedIn:"root",factory:()=>uU}),uU="ng",v_=new G(""),In=new G("",{providedIn:"platform",factory:()=>"unknown"});var w_=new G("",{providedIn:"root",factory:()=>aU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cU="h",lU="b";var dU=()=>null;function __(t,e,n=!1){return dU(t,e,n)}var zx=!1,hU=new G("",{providedIn:"root",factory:()=>zx});var Sf;function fU(){if(Sf===void 0&&(Sf=null,nn.trustedTypes))try{Sf=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sf}function cA(t){return fU()?.createScriptURL(t)||t}var Zf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MA})`}};function za(t){return t instanceof Zf?t.changingThisBreaksApplicationSecurity:t}function E_(t,e){let n=pU(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MA})`)}return n===e}function pU(t){return t instanceof Zf&&t.getTypeName()||null}var mU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qx(t){return t=String(t),t.match(mU)?t:"unsafe:"+t}var bp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bp||{});function gU(t){let e=Wx();return e?e.sanitize(bp.URL,t)||"":E_(t,"URL")?za(t):qx(Aa(t))}function yU(t){let e=Wx();if(e)return cA(e.sanitize(bp.RESOURCE_URL,t)||"");if(E_(t,"ResourceURL"))return cA(za(t));throw new ee(904,!1)}function vU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?yU:gU}function Gx(t,e,n){return vU(e,n)(t)}function Wx(){let t=Ce();return t&&t[Rr].sanitizer}var wU=/^>|^->|<!--|-->|--!>|<!-$/g,_U=/(<|>)/g,EU="\u200B$1\u200B";function IU(t){return t.replace(wU,e=>e.replace(_U,EU))}function YX(t){return t.ownerDocument.defaultView}function Kx(t){return t.ownerDocument}function Qx(t){return t instanceof Function?t():t}function DU(t){return(t??B(An)).get(In)==="browser"}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{}),CU;function I_(t,e){return CU(t,e)}function ba(t,e,n,r,i){if(r!=null){let s,o=!1;di(r)?s=r:zi(r)&&(o=!0,r=r[li]);let a=kr(r);t===0&&n!==null?i==null?Xx(e,n,a):Jf(e,n,a,i||null,!0):t===1&&n!==null?Jf(e,n,a,i||null,!0):t===2?UU(e,a,o):t===3&&e.destroyNode(a),s!=null&&$U(e,t,s,n,i)}}function bU(t,e){return t.createText(e)}function TU(t,e,n){t.setValue(e,n)}function SU(t,e){return t.createComment(IU(e))}function Yx(t,e,n){return t.createElement(e,n)}function AU(t,e){Zx(t,e),e[li]=null,e[cr]=null}function xU(t,e,n,r,i,s){r[li]=i,r[cr]=e,Ap(t,r,n,1,i,s)}function Zx(t,e){e[Rr].changeDetectionScheduler?.notify(8),Ap(t,e,e[ft],2,null,null)}function MU(t){let e=t[al];if(!e)return Gv(t[ve],t);for(;e;){let n=null;if(zi(e))n=e[al];else{let r=e[an];r&&(n=r)}if(!n){for(;e&&!e[sr]&&e!==t;)zi(e)&&Gv(e[ve],e),e=e[un];e===null&&(e=t),zi(e)&&Gv(e[ve],e),n=e&&e[sr]}e=n}}function NU(t,e,n,r){let i=an+r,s=n.length;r>0&&(n[i-1][sr]=e),r<s-an?(e[sr]=n[i],UA(n,an+r,e)):(n.push(e),e[sr]=null),e[un]=n;let o=e[ka];o!==null&&n!==o&&Jx(o,e);let a=e[Oa];a!==null&&a.insertView(t),lw(e),e[ce]|=128}function Jx(t,e){let n=t[$f],r=e[un];if(zi(r))t[ce]|=Hf.HasTransplantedViews;else{let i=r[un][or];e[or]!==i&&(t[ce]|=Hf.HasTransplantedViews)}n===null?t[$f]=[e]:n.push(e)}function D_(t,e){let n=t[$f],r=n.indexOf(e);n.splice(r,1)}function cl(t,e){if(t.length<=an)return;let n=an+e,r=t[n];if(r){let i=r[ka];i!==null&&i!==t&&D_(i,r),e>0&&(t[n-1][sr]=r[sr]);let s=Lf(t,an+e);AU(r[ve],r);let o=s[Oa];o!==null&&o.detachView(s[ve]),r[un]=null,r[sr]=null,r[ce]&=-129}return r}function Tp(t,e){if(!(e[ce]&256)){let n=e[ft];n.destroyNode&&Ap(t,e,n,3,null,null),MU(e)}}function Gv(t,e){if(e[ce]&256)return;let n=De(null);try{e[ce]&=-129,e[ce]|=256,e[Hn]&&wv(e[Hn]),kU(t,e),RU(t,e),e[ve].type===1&&e[ft].destroy();let r=e[ka];if(r!==null&&di(e[un])){r!==e[un]&&D_(r,e);let i=e[Oa];i!==null&&i.detachView(t)}oU(e)}finally{De(n)}}function RU(t,e){let n=t.cleanup,r=e[Uf];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Uf]=null);let i=e[Hi];if(i!==null){e[Hi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function kU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof co)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];xr(4,a,u);try{u.call(a)}finally{xr(5,a,u)}}else{xr(4,i,s);try{s.call(i)}finally{xr(5,i,s)}}}}}function OU(t,e,n){return PU(t,e.parent,n)}function PU(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[li];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Nr.None||s===Nr.Emulated)return null}return zn(r,n)}}function Jf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Xx(t,e,n){t.appendChild(e,n)}function lA(t,e,n,r,i){r!==null?Jf(t,e,n,r,i):Xx(t,e,n)}function eM(t,e){return t.parentNode(e)}function FU(t,e){return t.nextSibling(e)}function VU(t,e,n){return jU(t,e,n)}function LU(t,e,n){return t.type&40?zn(t,n):null}var jU=LU,dA;function Sp(t,e,n,r){let i=OU(t,r,e),s=e[ft],o=r.parent||e[cr],a=VU(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)lA(s,i,n[u],a,!1);else lA(s,i,n,a,!1);dA!==void 0&&dA(s,r,e,n,i)}function el(t,e){if(e!==null){let n=e.type;if(n&3)return zn(e,t);if(n&4)return _w(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return el(t,r);{let i=t[e.index];return di(i)?_w(-1,i):kr(i)}}else{if(n&128)return el(t,e.next);if(n&32)return I_(e,t)()||kr(t[e.index]);{let r=tM(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ao(t[or]);return el(i,r)}else return el(t,e.next)}}}return null}function tM(t,e){if(e!==null){let r=t[or][cr],i=e.projection;return r.projection[i]}return null}function _w(t,e){let n=an+t+1;if(n<e.length){let r=e[n],i=r[ve].firstChild;if(i!==null)return el(r,i)}return e[oo]}function UU(t,e,n){t.removeChild(null,e,n)}function C_(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Qi(kr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)C_(t,e,n.child,r,i,s,!1),ba(e,t,i,a,s);else if(u&32){let l=I_(n,r),d;for(;d=l();)ba(e,t,i,d,s);ba(e,t,i,a,s)}else u&16?BU(t,e,r,n,i,s):ba(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ap(t,e,n,r,i,s){C_(n,r,t.firstChild,e,i,s,!1)}function BU(t,e,n,r,i,s){let o=n[or],u=o[cr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let d=u[l];ba(e,t,i,d,s)}else{let l=u,d=o[un];Lx(r)&&(l.flags|=128),C_(t,e,l,d,i,s,!0)}}function $U(t,e,n,r,i){let s=n[oo],o=kr(n);s!==o&&ba(e,t,r,s,i);for(let a=an;a<n.length;a++){let u=n[a];Ap(u[ve],u,t,e,r,s)}}function HU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Or.Important),t.setStyle(n,r,i,s))}}function zU(t,e,n){t.setAttribute(e,"style",n)}function nM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rM(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&iw(t,e,r),i!==null&&nM(t,e,i),s!==null&&zU(t,e,s)}var dr={};function oe(t=1){iM(Rt(),Ce(),hi()+t,!1)}function iM(t,e,n,r){if(!r)if((e[ce]&3)===3){let s=t.preOrderCheckHooks;s!==null&&kf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Of(e,s,0,n)}uo(n)}function pe(t,e=we.Default){let n=Ce();if(n===null)return L(t,e);let r=Qt();return Rx(r,n,rn(t),e)}function sM(){let t="invalid";throw new Error(t)}function oM(t,e,n,r,i,s){let o=De(null);try{let a=null;i&qi.SignalBased&&(a=e[r][si]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&qi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):sx(e,a,r,s)}finally{De(o)}}function qU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)uo(~i);else{let s=i,o=n[++r],a=n[++r];Cj(o,s);let u=e[s];a(2,u)}}}finally{uo(-1)}}function xp(t,e,n,r,i,s,o,a,u,l,d){let f=e.blueprint.slice();return f[li]=i,f[ce]=r|4|128|8|64,(l!==null||t&&t[ce]&2048)&&(f[ce]|=2048),lx(f),f[un]=f[$a]=t,f[on]=n,f[Rr]=o||t&&t[Rr],f[ft]=a||t&&t[ft],f[Ra]=u||t&&t[Ra]||null,f[cr]=s,f[gp]=iU(),f[ol]=d,f[rx]=l,f[or]=e.type==2?t[or]:f,f}function ml(t,e,n,r,i){let s=t.data[e];if(s===null)s=GU(t,e,n,r,i),Dj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=wj();s.injectorIndex=o===null?-1:o.injectorIndex}return fo(s,!0),s}function GU(t,e,n,r,i){let s=mx(),o=a_(),a=o?s:s&&s.parent,u=t.data[e]=ZU(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function aM(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uM(t,e,n,r,i){let s=hi(),o=r&2;try{uo(-1),o&&e.length>En&&iM(t,e,En,!1),xr(o?2:0,i),n(r,i)}finally{uo(s),xr(o?3:1,i)}}function b_(t,e,n){if(r_(e)){let r=De(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{De(r)}}}function T_(t,e,n){px()&&(rB(t,e,n,zn(n,e)),(n.flags&64)===64&&hM(t,e,n))}function S_(t,e,n=zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function cM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=A_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function A_(t,e,n,r,i,s,o,a,u,l,d){let f=En+r,m=f+i,g=WU(f,m),w=typeof l=="function"?l():l;return g[ve]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:d}}function WU(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dr);return n}function KU(t,e,n,r){let s=r.get(hU,zx)||n===Nr.ShadowDom,o=t.selectRootElement(e,s);return QU(o),o}function QU(t){YU(t)}var YU=()=>null;function ZU(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return gj()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hA(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=qi.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?fA(r,n,l,a,u):fA(r,n,l,a)}return r}function fA(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function JU(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let d=r;d<i;d++){let f=s[d],m=n?n.get(f):null,g=m?m.inputs:null,w=m?m.outputs:null;u=hA(0,f.inputs,d,u,g),l=hA(1,f.outputs,d,l,w);let b=u!==null&&o!==null&&!Xw(e)?pB(u,d,o):null;a.push(b)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function XU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lM(t,e,n,r,i,s,o,a){let u=zn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(M_(t,n,d,r,i),yp(e)&&eB(n,e.index)):e.type&3?(r=XU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function eB(t,e){let n=Ji(e,t);n[ce]&16||(n[ce]|=64)}function x_(t,e,n,r){if(px()){let i=r===null?null:{"":-1},s=sB(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&dM(t,e,n,o,i,a),i&&oB(n,r,i)}n.mergedAttrs=il(n.mergedAttrs,n.attrs)}function dM(t,e,n,r,i,s){for(let l=0;l<r.length;l++)pw(Wf(n,e),t,r[l].type);uB(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,u=aM(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=il(n.mergedAttrs,d.hostAttrs),cB(t,n,e,u,d),aB(u,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}JU(t,n,s)}function tB(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;nB(o)!=a&&o.push(a),o.push(n,r,s)}}function nB(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rB(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;yp(n)&&lB(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wf(n,e),Qi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Pa(e,t,a,n);if(Qi(l,e),o!==null&&fB(e,a-i,l,u,n,o),Wi(u)){let d=Ji(n.index,e);d[on]=Pa(e,t,a,n)}}}function hM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=bj();try{uo(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];dw(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&iB(u,l)}}finally{uo(-1),dw(o)}}function iB(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sB(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(F2(e,o.selectors,!1))if(r||(r=[]),Wi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Ew(t,e,u)}else r.unshift(o),Ew(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ew(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oB(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}}function aB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wi(e)&&(n[""]=t)}}function uB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cB(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=so(i.type,!0)),o=new co(s,Wi(i),pe);t.blueprint[r]=o,n[r]=o,tB(t,e,r,aM(t,n,i.hostVars,dr),i)}function lB(t,e,n){let r=zn(e,t),i=cM(n),s=t[Rr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Mp(t,xp(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function dB(t,e,n,r,i,s){let o=zn(t,e);hB(e[ft],o,s,t.value,n,r,i)}function hB(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Aa(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function fB(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],d=o[a++],f=o[a++];oM(r,n,u,l,d,f)}}function pB(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function fM(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pM(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];vx(s),a.contentQueries(2,e[o],o)}}}finally{De(r)}}}function Mp(t,e){return t[al]?t[JS][sr]=e:t[al]=e,t[JS]=e,e}function Iw(t,e,n){vx(0);let r=De(null);try{e(t,n)}finally{De(r)}}function mB(t){return t[Uf]??=[]}function gB(t){return t.cleanup??=[]}function mM(t,e){let n=t[Ra],r=n?n.get(ui,null):null;r&&r.handleError(e)}function M_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],d=t.data[o];oM(d,l,r,a,u,i)}}function gM(t,e,n){let r=cx(e,t);TU(t[ft],r,n)}function yB(t,e){let n=Ji(e,t),r=n[ve];vB(r,n);let i=n[li];i!==null&&n[ol]===null&&(n[ol]=__(i,n[Ra])),N_(r,n,n[on])}function vB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function N_(t,e,n){l_(e);try{let r=t.viewQuery;r!==null&&Iw(1,r,n);let i=t.template;i!==null&&uM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Oa]?.finishViewCreation(t),t.staticContentQueries&&pM(t,e),t.staticViewQueries&&Iw(2,t.viewQuery,n);let s=t.components;s!==null&&wB(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ce]&=-5,d_()}}function wB(t,e){for(let n=0;n<e.length;n++)yB(t,e[n])}function R_(t,e,n,r){let i=De(null);try{let s=e.tView,a=t[ce]&4096?4096:16,u=xp(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ka]=l;let d=t[Oa];return d!==null&&(u[Oa]=d.createEmbeddedView(s)),N_(s,u,n),u}finally{De(i)}}function _B(t,e){let n=an+e;if(n<t.length)return t[n]}function Xf(t,e){return!e||e.firstChild===null||Lx(t)}function k_(t,e,n,r=!0){let i=e[ve];if(NU(i,e,t,n),r){let o=_w(n,t),a=e[ft],u=eM(a,t[oo]);u!==null&&xU(i,t[cr],a,e,u,o)}let s=e[ol];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function EB(t,e){let n=cl(t,e);return n!==void 0&&Tp(n[ve],n),n}function ep(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(kr(s)),di(s)&&IB(s,r);let o=n.type;if(o&8)ep(t,e,n.child,r);else if(o&32){let a=I_(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=tM(e,n);if(Array.isArray(a))r.push(...a);else{let u=ao(e[or]);ep(u[ve],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function IB(t,e){for(let n=an;n<t.length;n++){let r=t[n],i=r[ve].firstChild;i!==null&&ep(r[ve],r,i,e)}t[oo]!==t[li]&&e.push(t[oo])}var yM=[];function DB(t){return t[Hn]??CB(t)}function CB(t){let e=yM.pop()??Object.create(TB);return e.lView=t,e}function bB(t){t.lView[Hn]!==t&&(t.lView=null,yM.push(t))}var TB=z(I({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wp(t.lView)},consumerOnSignalRead(){this.lView[Hn]=this}});function SB(t){let e=t[Hn]??Object.create(AB);return e.lView=t,e}var AB=z(I({},Gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ao(t.lView);for(;e&&!vM(e[ve]);)e=ao(e);e&&dx(e)},consumerOnSignalRead(){this.lView[Hn]=this}});function vM(t){return t.type!==2}var xB=100;function wM(t,e=!0,n=0){let r=t[Rr],i=r.rendererFactory,s=!1;s||i.begin?.();try{MB(t,n)}catch(o){throw e&&mM(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function MB(t,e){let n=yx();try{eA(!0),Dw(t,e);let r=0;for(;ul(t);){if(r===xB)throw new ee(103,!1);r++,Dw(t,1)}}finally{eA(n)}}function NB(t,e,n,r){let i=e[ce];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Rr].inlineEffectRunner?.flush(),l_(e);let a=!0,u=null,l=null;s||(vM(t)?(l=DB(e),u=Qh(l)):uS()===null?(a=!1,l=SB(e),u=Qh(l)):e[Hn]&&(wv(e[Hn]),e[Hn]=null));try{lx(e),Ij(t.bindingStartIndex),n!==null&&uM(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&kf(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Of(e,g,0,null),$v(e,0)}if(o||RB(e),_M(e,0),t.contentQueries!==null&&pM(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&kf(e,g)}else{let g=t.contentHooks;g!==null&&Of(e,g,1),$v(e,1)}qU(t,e);let f=t.components;f!==null&&IM(e,f,0);let m=t.viewQuery;if(m!==null&&Iw(2,m,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&kf(e,g)}else{let g=t.viewHooks;g!==null&&Of(e,g,2),$v(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bv]){for(let g of e[Bv])g();e[Bv]=null}s||(e[ce]&=-73)}catch(d){throw s||wp(e),d}finally{l!==null&&(yv(l,u),a&&bB(l)),d_()}}function _M(t,e){for(let n=Ux(t);n!==null;n=Bx(n))for(let r=an;r<n.length;r++){let i=n[r];EM(i,e)}}function RB(t){for(let e=Ux(t);e!==null;e=Bx(e)){if(!(e[ce]&Hf.HasTransplantedViews))continue;let n=e[$f];for(let r=0;r<n.length;r++){let i=n[r];dx(i)}}}function kB(t,e,n){let r=Ji(e,t);EM(r,n)}function EM(t,e){o_(t)&&Dw(t,e)}function Dw(t,e){let r=t[ve],i=t[ce],s=t[Hn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vv(s)),o||=!1,s&&(s.dirty=!1),t[ce]&=-9217,o)NB(r,t,r.template,t[on]);else if(i&8192){_M(t,1);let a=r.components;a!==null&&IM(t,a,1)}}function IM(t,e,n){for(let r=0;r<e.length;r++)kB(t,e[r],n)}function O_(t,e){let n=yx()?64:1088;for(t[Rr].changeDetectionScheduler?.notify(e);t;){t[ce]|=n;let r=ao(t);if(uw(t)&&!r)return t;t=r}return null}var lo=class{get rootNodes(){let e=this._lView,n=e[ve];return ep(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[un];if(di(e)){let n=e[Bf],r=n?n.indexOf(this):-1;r>-1&&(cl(e,r),Lf(n,r))}this._attachedToViewContainer=!1}Tp(this._lView[ve],this._lView)}onDestroy(e){hx(this._lView,e)}markForCheck(){O_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){lw(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,wM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uw(this._lView),n=this._lView[ka];n!==null&&!e&&D_(n,this._lView),Zx(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let n=uw(this._lView),r=this._lView[ka];r!==null&&!n&&Jx(r,this._lView),lw(this._lView)}},Np=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FB;let t=e;return t})(),OB=Np,PB=class extends OB{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=R_(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new lo(i)}};function FB(){return DM(Qt(),Ce())}function DM(t,e){return t.type&4?new PB(e,t,Dp(t,e)):null}var JX=new RegExp(`^(\\d+)*(${lU}|${cU})*(.*)`);var VB=()=>null;function tp(t,e){return VB(t,e)}var Fa=class{},CM=new G("",{providedIn:"root",factory:()=>!1});var bM=new G(""),Cw=class{},np=class{};function LB(t){let e=Error(`No component factory found for ${sn(t)}.`);return e[jB]=t,e}var jB="ngComponent";var bw=class{resolveComponentFactory(e){throw LB(e)}},Y_=class Y_{};Y_.NULL=new bw;var Va=Y_,La=class{},Fr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>UB();let t=e;return t})();function UB(){let t=Ce(),e=Qt(),n=Ji(e.index,t);return(zi(n)?n:t)[ft]}var BB=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var pA=new Set;function qa(t){pA.has(t)||(pA.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var _n=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_n||{}),$B={destroy(){}};function P_(t,e){!e&&nj(P_);let n=e?.injector??B(An);return DU(n)?(qa("NgAfterNextRender"),zB(t,n,!0,e?.phase??_n.MixedReadWrite)):$B}function HB(t,e){if(t instanceof Function)switch(e){case _n.EarlyRead:return{earlyRead:t};case _n.Write:return{write:t};case _n.MixedReadWrite:return{mixedReadWrite:t};case _n.Read:return{read:t}}return t}function zB(t,e,n,r){let i=HB(t,r),s=e.get(F_),o=s.handler??=new Sw,a=[],u=[],l=()=>{for(let g of u)o.unregister(g);d()},d=e.get(m_).onDestroy(l),f=0,m=(g,w)=>{if(!w)return;let b=n?(...O)=>(f--,f<1&&l(),w(...O)):w,T=ur(e,()=>new Tw(g,a,b));o.register(T),u.push(T),f++};return m(_n.EarlyRead,i.earlyRead),m(_n.Write,i.write),m(_n.MixedReadWrite,i.mixedReadWrite),m(_n.Read,i.read),{destroy:l}}var Tw=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=B(Te),this.errorHandler=B(ui,{optional:!0}),B(Fa,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},Sw=class{constructor(){this.executingCallbacks=!1,this.buckets={[_n.EarlyRead]:new Set,[_n.Write]:new Set,[_n.MixedReadWrite]:new Set,[_n.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},F_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function rp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ew(i,a);else if(s==2){let u=a,l=e[++o];r=ew(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ip=class extends Va{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gi(e);return new ja(n,this.ngModule)}};function mA(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:qi.None;e?n.push({propName:o,templateName:r,isSignal:(a&qi.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function qB(t){let e=t.toLowerCase();return e==="svg"?uj:e==="math"?cj:null}var ja=class extends np{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=mA(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mA(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=U2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=De(null);try{i=i||this.ngModule;let o=i instanceof Sn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hw(e,o):e,u=a.get(La,null);if(u===null)throw new ee(407,!1);let l=a.get(BB,null),d=a.get(F_,null),f=a.get(Fa,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},g=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",b=r?KU(g,r,this.componentDef.encapsulation,a):Yx(g,w,qB(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let O=null;b!==null&&(O=__(b,a,!0));let j=A_(0,null,null,1,0,null,null,null,null,null,null),P=xp(null,j,null,T,null,null,m,g,a,null,O);l_(P);let K,X;try{let ne=this.componentDef,D,v=null;ne.findHostDirectiveDefs?(D=[],v=new Map,ne.findHostDirectiveDefs(ne,D,v),D.push(ne)):D=[ne];let _=GB(P,b),C=WB(_,b,ne,D,P,m,g);X=i_(j,En),b&&YB(g,ne,b,r),n!==void 0&&ZB(X,this.ngContentSelectors,n),K=QB(C,ne,D,v,P,[JB]),N_(j,P,null)}finally{d_()}return new Aw(this.componentType,K,Dp(X,P),P,X)}finally{De(s)}}},Aw=class extends Cw{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;M_(s[ve],s,i,e,n),this.previousInputValues.set(e,n);let o=Ji(this._tNode.index,s);O_(o,1)}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GB(t,e){let n=t[ve],r=En;return t[r]=e,ml(n,r,2,"#host",null)}function WB(t,e,n,r,i,s,o){let a=i[ve];KB(r,t,e,o);let u=null;e!==null&&(u=__(e,i[Ra]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=xp(i,cM(n),null,d,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Ew(a,t,r.length-1),Mp(i,f),i[t.index]=f}function KB(t,e,n,r){for(let i of t)e.mergedAttrs=il(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(rp(e,e.mergedAttrs,!0),n!==null&&rM(r,n,e))}function QB(t,e,n,r,i,s){let o=Qt(),a=i[ve],u=zn(o,i);dM(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=Pa(i,a,f,o);Qi(m,i)}hM(a,i,o),u&&Qi(u,i);let l=Pa(i,a,o.directiveStart+o.componentOffset,o);if(t[on]=i[on]=l,s!==null)for(let d of s)d(l,e);return b_(a,o,i),l}function YB(t,e,n,r){if(r)iw(t,n,["ng-version","18.2.0"]);else{let{attrs:i,classes:s}=B2(e.selectors[0]);i&&iw(t,n,i),s&&s.length>0&&nM(t,n,s.join(" "))}}function ZB(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function JB(){let t=Qt();Ip(Ce()[ve],t)}var Ga=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XB;let t=e;return t})();function XB(){let t=Qt();return t4(t,Ce())}var e4=Ga,TM=class extends e4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Dp(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){let e=f_(this._hostTNode,this._hostLView);if(Tx(e)){let n=qf(e,this._hostLView),r=zf(e),i=n[ve].data[r+8];return new io(i,n)}else return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=gA(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=tp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Xf(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ij(e),a;if(o)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let u=o?e:new ja(Gi(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let b=(o?l:this.parentInjector).get(Sn,null);b&&(s=b)}let d=Gi(u.componentType??{}),f=tp(this._lContainer,d?.id??null),m=f?.firstChild??null,g=u.create(l,i,m,s);return this.insertImpl(g.hostView,a,Xf(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lj(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[un],l=new TM(u,u[cr],u[un]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return k_(o,i,s,r),e.attachToViewContainerRef(),UA(Wv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=gA(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=cl(this._lContainer,n);r&&(Lf(Wv(this._lContainer),n),Tp(r[ve],r))}detach(e){let n=this._adjustIndex(e,-1),r=cl(this._lContainer,n);return r&&Lf(Wv(this._lContainer),n)!=null?new lo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function gA(t){return t[Bf]}function Wv(t){return t[Bf]||(t[Bf]=[])}function t4(t,e){let n,r=e[t.index];return di(r)?n=r:(n=fM(r,e,null,t),e[t.index]=n,Mp(e,n)),r4(n,e,t,r),new TM(n,t,e)}function n4(t,e){let n=t[ft],r=n.createComment(""),i=zn(e,t),s=eM(n,i);return Jf(n,s,r,FU(n,i),!1),r}var r4=o4,i4=()=>!1;function s4(t,e,n){return i4(t,e,n)}function o4(t,e,n,r){if(t[oo])return;let i;n.type&8?i=kr(r):i=n4(e,n),t[oo]=i}function a4(t){return typeof t=="function"&&t[si]!==void 0}function Rp(t,e){qa("NgSignals");let n=wS(t),r=n[si];return e?.equal&&(r.equal=e.equal),n.set=i=>_v(r,i),n.update=i=>_S(r,i),n.asReadonly=u4.bind(n),n}function u4(){let t=this[si];if(t.readonlyFn===void 0){let e=()=>this();e[si]=t,t.readonlyFn=e}return t.readonlyFn}function SM(t){return a4(t)&&typeof t.set=="function"}function c4(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(f4))}return s}return sp.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,m)=>{a.push(""),o.push(r(f).then(g=>{a[l+m]=g,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>p4(s));e.push(u)}),d4(),Promise.all(e).then(()=>{})}var sp=new Map,l4=new Set;function d4(){let t=sp;return sp=new Map,t}function h4(){return sp.size===0}function f4(t){return typeof t=="string"?t:t.text()}function p4(t){l4.delete(t)}function m4(t){return Object.getPrototypeOf(t.prototype).constructor}function Xi(t){let e=m4(t.type),n=!0,r=[t];for(;e;){let i;if(Wi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Af(t.inputs),o.inputTransforms=Af(t.inputTransforms),o.declaredInputs=Af(t.declaredInputs),o.outputs=Af(t.outputs);let a=i.hostBindings;a&&_4(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&v4(t,u),l&&w4(t,l),g4(t,i),c2(t.outputs,i.outputs),Wi(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Xi&&(n=!1)}}e=Object.getPrototypeOf(e)}y4(r)}function g4(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function y4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=il(i.hostAttrs,n=il(n,i.hostAttrs))}}function Af(t){return t===xa?{}:t===wn?[]:t}function v4(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function w4(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function _4(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function V_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Yi=class{},ll=class{};var op=class extends Yi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ip(this);let s=QA(e);this._bootstrapComponents=Qx(s.bootstrap),this._r3Injector=Px(e,n,[{provide:Yi,useValue:this},{provide:Va,useValue:this.componentFactoryResolver},...r],sn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ap=class extends ll{constructor(e){super(),this.moduleType=e}create(e){return new op(this.moduleType,e,[])}};function E4(t,e,n){return new op(t,e,n,!1)}var xw=class extends Yi{constructor(e){super(),this.componentFactoryResolver=new ip(this),this.instance=null;let n=new sl([...e.providers,{provide:Yi,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],e.parent||n_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kp(t,e,n=null){return new xw({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function AM(t){return L_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function I4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function L_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function xM(t,e,n){return t[e]=n}function Pr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function MM(t,e,n,r){let i=Pr(t,e,n);return Pr(t,e+1,r)||i}function D4(t){return(t.flags&32)===32}function C4(t,e,n,r,i,s,o,a,u){let l=e.consts,d=ml(e,t,4,o||null,a||null);x_(e,n,d,Ki(l,u)),Ip(e,d);let f=d.tView=A_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Mw(t,e,n,r,i,s,o,a,u,l){let d=n+En,f=e.firstCreatePass?C4(d,e,t,r,i,s,o,a,u):e.data[d];fo(f,!1);let m=b4(e,t,f,n);_p()&&Sp(e,t,m,f),Qi(m,t);let g=fM(m,t,m,f);return t[d]=g,Mp(t,g),s4(g,f,t),vp(f)&&T_(e,t,f),u!=null&&S_(t,f,l),f}function xn(t,e,n,r,i,s,o,a){let u=Ce(),l=Rt(),d=Ki(l.consts,s);return Mw(u,l,t,e,n,r,i,d,o,a),xn}var b4=T4;function T4(t,e,n,r){return Ep(!0),e[ft].createComment("")}function gl(t,e,n,r){let i=Ce(),s=pl();if(Pr(i,s,e)){let o=Rt(),a=h_();dB(a,i,t,e,n,r)}return gl}function S4(t,e,n,r){return Pr(t,pl(),n)?e+Aa(n)+r:dr}function A4(t,e,n,r,i,s){let o=Ej(),a=MM(t,o,n,i);return c_(2),a?e+Aa(n)+r+Aa(i)+s:dr}function xf(t,e){return t<<17|e<<2}function ho(t){return t>>17&32767}function x4(t){return(t&2)==2}function M4(t,e){return t&131071|e<<17}function Nw(t){return t|2}function Ua(t){return(t&131068)>>2}function Kv(t,e){return t&-131069|e<<2}function N4(t){return(t&1)===1}function Rw(t){return t|1}function R4(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ho(o),u=Ua(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||fl(f,d)>0)&&(l=!0)}else d=n;if(i)if(u!==0){let m=ho(t[a+1]);t[r+1]=xf(m,a),m!==0&&(t[m+1]=Kv(t[m+1],r)),t[a+1]=M4(t[a+1],r)}else t[r+1]=xf(a,0),a!==0&&(t[a+1]=Kv(t[a+1],r)),a=r;else t[r+1]=xf(u,0),a===0?a=r:t[u+1]=Kv(t[u+1],r),u=r;l&&(t[r+1]=Nw(t[r+1])),yA(t,d,r,!0),yA(t,d,r,!1),k4(e,d,t,r,s),o=xf(a,u),s?e.classBindings=o:e.styleBindings=o}function k4(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fl(s,e)>=0&&(n[r+1]=Rw(n[r+1]))}function yA(t,e,n,r){let i=t[n+1],s=e===null,o=r?ho(i):Ua(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];O4(u,e)&&(a=!0,t[o+1]=r?Rw(l):Nw(l)),o=r?ho(l):Ua(l)}a&&(t[n+1]=r?Nw(i):Rw(i))}function O4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fl(t,e)>=0:!1}var ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P4(t){return t.substring(ir.key,ir.keyEnd)}function F4(t){return V4(t),NM(t,RM(t,0,ir.textEnd))}function NM(t,e){let n=ir.textEnd;return n===e?-1:(e=ir.keyEnd=L4(t,ir.key=e,n),RM(t,e,n))}function V4(t){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=t.length}function RM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function L4(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ve(t,e,n){let r=Ce(),i=pl();if(Pr(r,i,e)){let s=Rt(),o=h_();lM(s,o,r,t,e,r[ft],n,!1)}return Ve}function kw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";M_(t,n,s[o],o,r)}function cn(t,e,n){return kM(t,e,n,!1),cn}function Op(t,e){return kM(t,e,null,!0),Op}function eee(t){U4(G4,j4,t,!0)}function j4(t,e){for(let n=F4(e);n>=0;n=NM(e,n))Jw(t,P4(e),!0)}function kM(t,e,n,r){let i=Ce(),s=Rt(),o=c_(2);if(s.firstUpdatePass&&PM(s,t,o,r),e!==dr&&Pr(i,o,e)){let a=s.data[hi()];FM(s,a,i,i[ft],t,i[o+1]=K4(e,n),r,o)}}function U4(t,e,n,r){let i=Rt(),s=c_(2);i.firstUpdatePass&&PM(i,null,s,r);let o=Ce();if(n!==dr&&Pr(o,s,n)){let a=i.data[hi()];if(VM(a,r)&&!OM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=ew(u,n||"")),kw(i,a,o,n,r)}else W4(i,a,o,o[ft],o[s+1],o[s+1]=q4(t,e,n),r,s)}}function OM(t,e){return e>=t.expandoStartIndex}function PM(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[hi()],o=OM(t,n);VM(s,r)&&e===null&&!o&&(e=!1),e=B4(i,s,e,r),R4(i,s,e,n,o,r)}}function B4(t,e,n,r){let i=Tj(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qv(null,t,e,n,r),n=dl(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Qv(i,t,e,n,r),s===null){let u=$4(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Qv(null,t,e,u[1],r),u=dl(u,e.attrs,r),H4(t,e,r,u))}else s=z4(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function $4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ua(r)!==0)return t[ho(r)]}function H4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ho(i)]=r}function z4(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=dl(r,o,n)}return dl(r,e.attrs,n)}function Qv(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=dl(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function dl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Jw(t,o,n?!0:e[++s]))}return t===void 0?null:t}function q4(t,e,n){if(n==null||n==="")return wn;let r=[],i=za(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function G4(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Jw(t,r,n)}function W4(t,e,n,r,i,s,o,a){i===dr&&(i=wn);let u=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=u<i.length?i[u+1]:void 0,g=l<s.length?s[l+1]:void 0,w=null,b;d===f?(u+=2,l+=2,m!==g&&(w=f,b=g)):f===null||d!==null&&d<f?(u+=2,w=d):(l+=2,w=f,b=g),w!==null&&FM(t,e,n,r,w,b,o,a),d=u<i.length?i[u]:null,f=l<s.length?s[l]:null}}function FM(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],d=N4(l)?vA(u,e,n,i,Ua(l),o):void 0;if(!up(d)){up(s)||x4(l)&&(s=vA(u,null,n,i,a,o));let f=cx(hi(),n);HU(r,o,f,i,s)}}function vA(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),d=l?u[1]:u,f=d===null,m=n[i+1];m===dr&&(m=f?wn:void 0);let g=f?jv(m,r):d===r?m:void 0;if(l&&!up(g)&&(g=jv(u,r)),up(g)&&(a=g,o))return a;let w=t[i+1];i=o?ho(w):Ua(w)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=jv(u,r))}return a}function up(t){return t!==void 0}function K4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=sn(za(t)))),t}function VM(t,e){return(t.flags&(e?8:16))!==0}var Ow=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Yv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Q4(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),d=e[s],f=Yv(s,l,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let m=t.at(o),g=e[u],w=Yv(o,m,u,g,n);if(w!==0){w<0&&t.updateValue(o,g),o--,u--;continue}let b=n(s,l),T=n(o,m),O=n(s,d);if(Object.is(O,T)){let j=n(u,g);Object.is(j,b)?(t.swap(s,o),t.updateValue(o,g),u--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new cp,i??=_A(t,s,o,n),Pw(t,r,s,O))t.updateValue(s,d),s++,o++;else if(i.has(O))r.set(b,t.detach(s)),o--;else{let j=t.create(s,e[s]);t.attach(s,j),s++,o++}}for(;s<=u;)wA(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let d=t.at(s),f=l.value,m=Yv(s,d,s,f,n);if(m!==0)m<0&&t.updateValue(s,f),s++,l=u.next();else{r??=new cp,i??=_A(t,s,o,n);let g=n(s,f);if(Pw(t,r,s,g))t.updateValue(s,f),s++,o++,l=u.next();else if(!i.has(g))t.attach(s,t.create(s,f)),s++,o++,l=u.next();else{let w=n(s,d);r.set(w,t.detach(s)),o--}}}for(;!l.done;)wA(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function Pw(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function wA(t,e,n,r,i){if(Pw(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function _A(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var cp=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var Fw=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-an}};var Vw=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function LM(t,e,n,r,i,s,o,a,u,l,d,f,m){qa("NgControlFlow");let g=Ce(),w=Rt(),b=u!==void 0,T=Ce(),O=a?o.bind(T[or][on]):o,j=new Vw(b,O);T[En+t]=j,Mw(g,w,t+1,e,n,r,i,Ki(w.consts,s)),b&&Mw(g,w,t+2,u,l,d,f,Ki(w.consts,m))}var Lw=class extends Ow{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-an}at(e){return this.getLView(e)[on].$implicit}attach(e,n){let r=n[ol];this.needsIndexUpdate||=e!==this.length,k_(this.lContainer,n,e,Xf(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Y4(this.lContainer,e)}create(e,n){let r=tp(this.lContainer,this.templateTNode.tView.ssrId),i=R_(this.hostLView,this.templateTNode,new Fw(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Tp(e[ve],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[on].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[on].$index=e}getLView(e){return Z4(this.lContainer,e)}};function jM(t){let e=De(null),n=hi();try{let r=Ce(),i=r[ve],s=r[n],o=n+1,a=EA(r,o);if(s.liveCollection===void 0){let l=IA(i,o);s.liveCollection=new Lw(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(Q4(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=pl(),d=u.length===0;if(Pr(r,l,d)){let f=n+2,m=EA(r,f);if(d){let g=IA(i,f),w=tp(m,g.tView.ssrId),b=R_(r,g,void 0,{dehydratedView:w});k_(m,b,0,Xf(g,w))}else EB(m,0)}}}finally{De(e)}}function EA(t,e){return t[e]}function Y4(t,e){return cl(t,e)}function Z4(t,e){return _B(t,e)}function IA(t,e){return i_(t,e)}function J4(t,e,n,r,i,s){let o=e.consts,a=Ki(o,i),u=ml(e,t,2,r,a);return x_(e,n,u,Ki(o,s)),u.attrs!==null&&rp(u,u.attrs,!1),u.mergedAttrs!==null&&rp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function se(t,e,n,r){let i=Ce(),s=Rt(),o=En+t,a=i[ft],u=s.firstCreatePass?J4(o,s,i,e,n,r):s.data[o],l=X4(s,i,u,a,e,t);i[o]=l;let d=vp(u);return fo(u,!0),rM(a,l,u),!D4(u)&&_p()&&Sp(s,i,l,u),fj()===0&&Qi(l,i),pj(),d&&(T_(s,i,u),b_(s,u,i)),r!==null&&S_(i,u),se}function ae(){let t=Qt();a_()?gx():(t=t.parent,fo(t,!1));let e=t;yj(e)&&vj(),mj();let n=Rt();return n.firstCreatePass&&(Ip(n,t),r_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kj(e)&&kw(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Oj(e)&&kw(n,e,Ce(),e.stylesWithoutHost,!1),ae}function es(t,e,n,r){return se(t,e,n,r),ae(),es}var X4=(t,e,n,r,i,s)=>(Ep(!0),Yx(r,i,xj()));function e$(t,e,n,r,i){let s=e.consts,o=Ki(s,r),a=ml(e,t,8,"ng-container",o);o!==null&&rp(a,o,!0);let u=Ki(s,i);return x_(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Pp(t,e,n){let r=Ce(),i=Rt(),s=t+En,o=i.firstCreatePass?e$(s,i,r,e,n):i.data[s];fo(o,!0);let a=t$(i,r,o,t);return r[s]=a,_p()&&Sp(i,r,a,o),Qi(a,r),vp(o)&&(T_(i,r,o),b_(i,o,r)),n!=null&&S_(r,o),Pp}function Fp(){let t=Qt(),e=Rt();return a_()?gx():(t=t.parent,fo(t,!1)),e.firstCreatePass&&(Ip(e,t),r_(t)&&e.queries.elementEnd(t)),Fp}var t$=(t,e,n,r)=>(Ep(!0),SU(e[ft],""));function ln(){return Ce()}var no=void 0;function n$(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var r$=["en",[["a","p"],["AM","PM"],no],[["AM","PM"],no,no],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],no,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],no,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",no,"{1} 'at' {0}",no],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",n$],Zv={};function Mn(t){let e=i$(t),n=DA(e);if(n)return n;let r=e.split("-")[0];if(n=DA(r),n)return n;if(r==="en")return r$;throw new ee(701,!1)}function DA(t){return t in Zv||(Zv[t]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[t]),Zv[t]}var ct=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ct||{});function i$(t){return t.toLowerCase().replace(/_/g,"-")}var lp="en-US";var s$=lp;function o$(t){typeof t=="string"&&(s$=t.toLowerCase().replace(/_/g,"-"))}var a$=(t,e,n)=>{};function be(t,e,n,r){let i=Ce(),s=Rt(),o=Qt();return UM(s,i,i[ft],o,t,e,r),be}function u$(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Uf],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function UM(t,e,n,r,i,s,o){let a=vp(r),l=t.firstCreatePass&&gB(t),d=e[on],f=mB(e),m=!0;if(r.type&3||o){let b=zn(r,e),T=o?o(b):b,O=f.length,j=o?K=>o(kr(K[r.index])):r.index,P=null;if(!o&&a&&(P=u$(t,e,i,r.index)),P!==null){let K=P.__ngLastListenerFn__||P;K.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,m=!1}else{s=bA(r,e,d,s),a$(b,i,s);let K=n.listen(T,i,s);f.push(s,K),l&&l.push(i,j,O,O+1)}}else s=bA(r,e,d,s);let g=r.outputs,w;if(m&&g!==null&&(w=g[i])){let b=w.length;if(b)for(let T=0;T<b;T+=2){let O=w[T],j=w[T+1],X=e[O][j].subscribe(s),ne=f.length;f.push(s,X),l&&l.push(i,r.index,ne,-(ne+1))}}}function CA(t,e,n,r){let i=De(null);try{return xr(6,e,n),n(r)!==!1}catch(s){return mM(t,s),!1}finally{xr(7,e,n),De(i)}}function bA(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Ji(t.index,e):e;O_(o,5);let a=CA(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=CA(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Ne(t=1){return Aj(t)}function c$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j_(t){let e=_j();return s_(e,En+t)}function rt(t,e=""){let n=Ce(),r=Rt(),i=t+En,s=r.firstCreatePass?ml(r,i,1,e,null):r.data[i],o=l$(r,n,s,e,t);n[i]=o,_p()&&Sp(r,n,o,s),fo(s,!1)}var l$=(t,e,n,r,i)=>(Ep(!0),bU(e[ft],r));function mo(t){return Vr("",t,""),mo}function Vr(t,e,n){let r=Ce(),i=S4(r,t,e,n);return i!==dr&&gM(r,hi(),i),Vr}function d$(t,e,n,r,i){let s=Ce(),o=A4(s,t,e,n,r,i);return o!==dr&&gM(s,hi(),o),d$}function Wa(t,e,n){SM(e)&&(e=e());let r=Ce(),i=pl();if(Pr(r,i,e)){let s=Rt(),o=h_();lM(s,o,r,t,e,r[ft],n,!1)}return Wa}function yl(t,e){let n=SM(t);return n&&t.set(e),n}function Ka(t,e){let n=Ce(),r=Rt(),i=Qt();return UM(r,n,n[ft],i,t,e),Ka}function h$(t,e,n){let r=Rt();if(r.firstCreatePass){let i=Wi(t);jw(n,r.data,r.blueprint,i,!0),jw(e,r.data,r.blueprint,i,!1)}}function jw(t,e,n,r,i){if(t=rn(t),Array.isArray(t))for(let s=0;s<t.length;s++)jw(t[s],e,n,r,i);else{let s=Rt(),o=Ce(),a=Qt(),u=Na(t)?t:rn(t.provide),l=tx(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Na(t)||!t.multi){let g=new co(l,i,pe),w=Xv(u,e,i?d:d+m,f);w===-1?(pw(Wf(a,o),s,u),Jv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[w]=g,o[w]=g)}else{let g=Xv(u,e,d+m,f),w=Xv(u,e,d,d+m),b=g>=0&&n[g],T=w>=0&&n[w];if(i&&!T||!i&&!b){pw(Wf(a,o),s,u);let O=m$(i?p$:f$,n.length,i,r,l);!i&&T&&(n[w].providerFactory=O),Jv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=BM(n[i?w:g],l,!i&&r);Jv(s,t,g>-1?g:w,O)}!i&&r&&T&&n[w].componentProviders++}}}function Jv(t,e,n,r){let i=Na(e),s=Q2(e);if(i||s){let u=(s?rn(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,u]):l[d+1].push(r,u)}else l.push(n,u)}}}function BM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function f$(t,e,n,r){return Uw(this.multi,[])}function p$(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Pa(n,n[ve],this.providerFactory.index,r);s=a.slice(0,o),Uw(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Uw(i,s);return s}function Uw(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function m$(t,e,n,r,i){let s=new co(t,n,pe);return s.multi=[],s.index=e,s.componentProviders=0,BM(s,i,r&&!n),s}function Vp(t,e=[]){return n=>{n.providersResolver=(r,i)=>h$(r,i?i(t):t,e)}}var g$=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=JA(!1,r.type),s=i.length>0?kp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(L(Sn))});let t=e;return t})();function hr(t){qa("NgStandalone"),t.getStandaloneInjector=e=>e.get(g$).getOrCreateStandaloneInjector(t)}function vl(t,e,n,r){return HM(Ce(),u_(),t,e,n,r)}function $M(t,e){let n=t[e];return n===dr?void 0:n}function HM(t,e,n,r,i,s){let o=e+n;return Pr(t,o,i)?xM(t,o+1,s?r.call(s,i):r(i)):$M(t,o+1)}function y$(t,e,n,r,i,s,o){let a=e+n;return MM(t,a,i,s)?xM(t,a+2,o?r.call(o,i,s):r(i,s)):$M(t,a+2)}function tee(t,e){let n=Rt(),r,i=t+En;n.firstCreatePass?(r=v$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=so(r.type,!0)),o,a=vn(pe);try{let u=Gf(!1),l=s();return Gf(u),c$(n,Ce(),i,l),l}finally{vn(a)}}function v$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function nee(t,e,n){let r=t+En,i=Ce(),s=s_(i,r);return zM(i,r)?HM(i,u_(),e,s.transform,n,s):s.transform(n)}function ree(t,e,n,r){let i=t+En,s=Ce(),o=s_(s,i);return zM(s,i)?y$(s,u_(),e,o.transform,n,r,o):o.transform(n,r)}function zM(t,e){return t[ve].data[e].pure}function U_(t,e){return DM(t,e)}var Mf=null;function w$(t){Mf!==null&&(t.defaultEncapsulation!==Mf.defaultEncapsulation||t.preserveWhitespaces!==Mf.preserveWhitespaces)||(Mf=t)}var ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qM=new ci("18.2.0");var Qa=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var B_=new G(""),wl=new G(""),Lp=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$_||(_$(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(L(Te),L(jp),L(wl))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),jp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return $_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function _$(t){$_=t}var $_;function ts(t){return!!t&&typeof t.then=="function"}function H_(t){return!!t&&typeof t.subscribe=="function"}var Up=new G(""),GM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(Up,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ts(o))r.push(o);else if(H_(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z_=new G("");function E$(){vS(()=>{throw new ee(600,!1)})}function I$(t){return t.isBoundToModule}var D$=10;function C$(t,e,n){try{let r=n();return ts(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function WM(t,e){return Array.isArray(e)?e.reduce(WM,t):I(I({},t),e)}var ns=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(tU),this.afterRenderEffectManager=B(F_),this.zonelessEnabled=B(CM),this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=B(Ha).hasPendingTasks.pipe(Z(r=>!r)),this._injector=B(Sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof np;if(!this._injector.get(GM).done){let g=!s&&KA(r),w=!1;throw new ee(405,w)}let a;s?a=r:a=this._injector.get(Va).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=I$(a)?void 0:this._injector.get(Yi),l=i||a.selector,d=a.create(An.NULL,[],l,u),f=d.location.nativeElement,m=d.injector.get(B_,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Pf(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ee(101,!1);let i=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,De(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(La,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<D$;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)b$(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>ul(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>ul(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Pf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(z_,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Pf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function b$(t,e,n,r){if(!n&&!ul(t))return;wM(t,e,n&&!r?0:1)}var Bw=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Bp=(()=>{let e=class e{compileModuleSync(r){return new ap(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=QA(r),o=Qx(s.declarations).reduce((a,u)=>{let l=Gi(u);return l&&a.push(new ja(l)),a},[]);return new Bw(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T$=new G("");function S$(t,e,n){let r=new ap(n);return Promise.resolve(r)}function TA(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var A$=(()=>{let e=class e{constructor(){this.zone=B(Te),this.changeDetectionScheduler=B(Fa),this.applicationRef=B(ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x$({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Te(KM()),[{provide:Te,useFactory:t},{provide:Ma,multi:!0,useFactory:()=>{let n=B(A$,{optional:!0});return()=>n.initialize()}},{provide:Ma,multi:!0,useFactory:()=>{let n=B(M$);return()=>{n.initialize()}}},e===!0?{provide:bM,useValue:!0}:[]]}function KM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var M$=(()=>{let e=class e{constructor(){this.subscription=new at,this.initialized=!1,this.zone=B(Te),this.pendingTasks=B(Ha)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N$=(()=>{let e=class e{constructor(){this.appRef=B(ns),this.taskService=B(Ha),this.ngZone=B(Te),this.zonelessEnabled=B(CM),this.disableScheduling=B(bM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qf):null,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?sA:Fx;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qf+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R$(){return typeof $localize<"u"&&$localize.locale||lp}var $p=new G("",{providedIn:"root",factory:()=>B($p,we.Optional|we.SkipSelf)||R$()});var q_=new G("");function Nf(t){return!!t.platformInjector}function k$(t){let e=Nf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{Nf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ui,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Nf(t)){let s=()=>e.destroy(),o=t.platformInjector.get(q_);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Pf(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return C$(r,n,()=>{let s=e.get(GM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get($p,lp);if(o$(o||lp),Nf(t)){let a=e.get(ns);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return O$(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function O$(t,e){let n=t.injector.get(ns);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ee(-403,!1);e.push(t)}var QM=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=()=>eU(i?.ngZone,KM({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),o=i?.ignoreChangesOutsideZone,a=[x$({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:Fa,useExisting:N$}],u=E4(r.moduleType,this.injector,a);return k$({moduleRef:u,allPlatformModules:this._modules})}bootstrapModule(r,i=[]){let s=WM({},i);return S$(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(q_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(L(An))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),nl=null,YM=new G("");function P$(t){if(nl&&!nl.get(YM,!1))throw new ee(400,!1);E$(),nl=t;let e=t.get(QM);return L$(t),e}function G_(t,e,n=[]){let r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=ZM();if(!o||o.injector.get(YM,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):P$(F$(a,r))}return V$(i)}}function F$(t=[],e){return An.create({name:e,providers:[{provide:mp,useValue:"platform"},{provide:q_,useValue:new Set([()=>nl=null])},...t]})}function V$(t){let e=ZM();if(!e)throw new ee(401,!1);return e}function ZM(){return nl?.get(QM)??null}function L$(t){t.get(v_,null)?.forEach(n=>n())}function W_(){return!1}var rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=j$;let t=e;return t})();function j$(t){return U$(Qt(),Ce(),(t&16)===16)}function U$(t,e,n){if(yp(t)&&!n){let r=Ji(t.index,e);return new lo(r,r)}else if(t.type&175){let r=e[or];return new lo(r,e)}return null}var $w=class{constructor(){}supports(e){return AM(e)}create(e){return new Hw(e)}},B$=(t,e)=>e,Hw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||B$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<SA(r,i,s)?n:r,a=SA(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,d=u-i;if(l!=d){for(let m=0;m<l;m++){let g=m<s.length?s[m]:s[m]=0,w=g+m;d<=w&&w<l&&(s[m]=g+1)}let f=o.previousIndex;s[f]=d-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!AM(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,I4(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zw(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new dp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new dp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zw=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},dp=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qw,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Gw=class{constructor(){}supports(e){return e instanceof Map||L_(e)}create(){return new Ww}},Ww=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||L_(e)))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Kw(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Kw=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function AA(){return new K_([new $w])}var K_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||AA()),deps:[[e,new pp,new Zi]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new ee(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:AA});let t=e;return t})();function xA(){return new Q_([new Gw])}var Q_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||xA()),deps:[[e,new pp,new Zi]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:xA});let t=e;return t})();var JM=G_(null,"core",[]),XM=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(L(ns))},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({});let t=e;return t})();var eN=new G("");function go(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Hp(t,e){qa("NgSignals");let n=mS(t);return e?.equal&&(n[si].equal=e.equal),n}function Lr(t){let e=De(null);try{return t()}finally{De(e)}}function tN(t){let e=Gi(t);if(!e)return null;let n=new ja(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uN=null;function jr(){return uN}function cN(t){uN??=t}var Jp=class{};var Lt=new G(""),aE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B($$),providedIn:"platform"});let t=e;return t})(),lN=new G(""),$$=(()=>{let e=class e extends aE{constructor(){super(),this._doc=B(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(r){let i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function uE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function nN(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function pi(t){return t&&t[0]!=="?"?"?"+t:t}var gi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(cE),providedIn:"root"});let t=e;return t})(),dN=new G(""),cE=(()=>{let e=class e extends gi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return uE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+pi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+pi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+pi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(aE),L(dN,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hN=(()=>{let e=class e extends gi{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=uE(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+pi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+pi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(aE),L(dN,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Ya=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=q$(nN(rN(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+pi(i))}normalize(r){return e.stripTrailingSlash(z$(this._basePath,rN(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=pi,e.joinWithSlash=uE,e.stripTrailingSlash=nN,e.\u0275fac=function(i){return new(i||e)(L(gi))},e.\u0275prov=W({token:e,factory:()=>H$(),providedIn:"root"});let t=e;return t})();function H$(){return new Ya(L(gi))}function z$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rN(t){return t.replace(/\/index.html$/,"")}function q$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var G$={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var dn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(dn||{}),He=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(He||{}),Nn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nn||{}),is={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W$(t){return Mn(t)[ct.LocaleId]}function K$(t,e,n){let r=Mn(t),i=[r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],s=qn(i,e);return qn(s,n)}function Q$(t,e,n){let r=Mn(t),i=[r[ct.DaysFormat],r[ct.DaysStandalone]],s=qn(i,e);return qn(s,n)}function Y$(t,e,n){let r=Mn(t),i=[r[ct.MonthsFormat],r[ct.MonthsStandalone]],s=qn(i,e);return qn(s,n)}function Z$(t,e){let r=Mn(t)[ct.Eras];return qn(r,e)}function zp(t,e){let n=Mn(t);return qn(n[ct.DateFormat],e)}function qp(t,e){let n=Mn(t);return qn(n[ct.TimeFormat],e)}function Gp(t,e){let r=Mn(t)[ct.DateTimeFormat];return qn(r,e)}function tm(t,e){let n=Mn(t),r=n[ct.NumberSymbols][e];if(typeof r>"u"){if(e===is.CurrencyDecimal)return n[ct.NumberSymbols][is.Decimal];if(e===is.CurrencyGroup)return n[ct.NumberSymbols][is.Group]}return r}function J$(t){return Mn(t)[ct.Currencies]}function fN(t){if(!t[ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function X$(t){let e=Mn(t);return fN(e),(e[ct.ExtraData][2]||[]).map(r=>typeof r=="string"?Z_(r):[Z_(r[0]),Z_(r[1])])}function eH(t,e,n){let r=Mn(t);fN(r);let i=[r[ct.ExtraData][0],r[ct.ExtraData][1]],s=qn(i,e)||[];return qn(s,n)||[]}function qn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Z_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function bee(t,e,n="en"){let r=J$(n)[t]||G$[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var tH=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wp={},nH=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(mi||{}),ke=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ke||{}),Re=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Re||{});function rH(t,e,n,r){let i=hH(t);e=fi(n,e)||e;let o=[],a;for(;e;)if(a=nH.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=mN(r,u),i=dH(i,r,!0));let l="";return o.forEach(d=>{let f=cH(d);l+=f?f(i,n,u):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Xp(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function fi(t,e){let n=W$(t);if(Wp[n]??={},Wp[n][e])return Wp[n][e];let r="";switch(e){case"shortDate":r=zp(t,Nn.Short);break;case"mediumDate":r=zp(t,Nn.Medium);break;case"longDate":r=zp(t,Nn.Long);break;case"fullDate":r=zp(t,Nn.Full);break;case"shortTime":r=qp(t,Nn.Short);break;case"mediumTime":r=qp(t,Nn.Medium);break;case"longTime":r=qp(t,Nn.Long);break;case"fullTime":r=qp(t,Nn.Full);break;case"short":let i=fi(t,"shortTime"),s=fi(t,"shortDate");r=Kp(Gp(t,Nn.Short),[i,s]);break;case"medium":let o=fi(t,"mediumTime"),a=fi(t,"mediumDate");r=Kp(Gp(t,Nn.Medium),[o,a]);break;case"long":let u=fi(t,"longTime"),l=fi(t,"longDate");r=Kp(Gp(t,Nn.Long),[u,l]);break;case"full":let d=fi(t,"fullTime"),f=fi(t,"fullDate");r=Kp(Gp(t,Nn.Full),[d,f]);break}return r&&(Wp[n][e]=r),r}function Kp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function fr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function iH(t,e){return fr(t,3).substring(0,e)}function Et(t,e,n=0,r=!1,i=!1){return function(s,o){let a=sH(t,s);if((n>0||a>-n)&&(a+=n),t===ke.Hours)a===0&&n===-12&&(a=12);else if(t===ke.FractionalSeconds)return iH(a,e);let u=tm(o,is.MinusSign);return fr(a,e,u,r,i)}}function sH(t,e){switch(t){case ke.FullYear:return e.getFullYear();case ke.Month:return e.getMonth();case ke.Date:return e.getDate();case ke.Hours:return e.getHours();case ke.Minutes:return e.getMinutes();case ke.Seconds:return e.getSeconds();case ke.FractionalSeconds:return e.getMilliseconds();case ke.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ge(t,e,n=dn.Format,r=!1){return function(i,s){return oH(i,s,t,e,n,r)}}function oH(t,e,n,r,i,s){switch(n){case Re.Months:return Y$(e,i,r)[t.getMonth()];case Re.Days:return Q$(e,i,r)[t.getDay()];case Re.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=X$(e),d=eH(e,i,r),f=l.findIndex(m=>{if(Array.isArray(m)){let[g,w]=m,b=o>=g.hours&&a>=g.minutes,T=o<w.hours||o===w.hours&&a<w.minutes;if(g.hours<w.hours){if(b&&T)return!0}else if(b||T)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return K$(e,i,r)[o<12?0:1];case Re.Eras:return Z$(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Qp(t){return function(e,n,r){let i=-1*r,s=tm(n,is.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case mi.Short:return(i>=0?"+":"")+fr(o,2,s)+fr(Math.abs(i%60),2,s);case mi.ShortGMT:return"GMT"+(i>=0?"+":"")+fr(o,1,s);case mi.Long:return"GMT"+(i>=0?"+":"")+fr(o,2,s)+":"+fr(Math.abs(i%60),2,s);case mi.Extended:return r===0?"Z":(i>=0?"+":"")+fr(o,2,s)+":"+fr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var aH=0,Zp=4;function uH(t){let e=Xp(t,aH,1).getDay();return Xp(t,0,1+(e<=Zp?Zp:Zp+7)-e)}function pN(t){let e=t.getDay(),n=e===0?-3:Zp-e;return Xp(t.getFullYear(),t.getMonth(),t.getDate()+n)}function J_(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=pN(n),o=uH(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return fr(i,t,tm(r,is.MinusSign))}}function Yp(t,e=!1){return function(n,r){let s=pN(n).getFullYear();return fr(s,t,tm(r,is.MinusSign),e)}}var X_={};function cH(t){if(X_[t])return X_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ge(Re.Eras,He.Abbreviated);break;case"GGGG":e=Ge(Re.Eras,He.Wide);break;case"GGGGG":e=Ge(Re.Eras,He.Narrow);break;case"y":e=Et(ke.FullYear,1,0,!1,!0);break;case"yy":e=Et(ke.FullYear,2,0,!0,!0);break;case"yyy":e=Et(ke.FullYear,3,0,!1,!0);break;case"yyyy":e=Et(ke.FullYear,4,0,!1,!0);break;case"Y":e=Yp(1);break;case"YY":e=Yp(2,!0);break;case"YYY":e=Yp(3);break;case"YYYY":e=Yp(4);break;case"M":case"L":e=Et(ke.Month,1,1);break;case"MM":case"LL":e=Et(ke.Month,2,1);break;case"MMM":e=Ge(Re.Months,He.Abbreviated);break;case"MMMM":e=Ge(Re.Months,He.Wide);break;case"MMMMM":e=Ge(Re.Months,He.Narrow);break;case"LLL":e=Ge(Re.Months,He.Abbreviated,dn.Standalone);break;case"LLLL":e=Ge(Re.Months,He.Wide,dn.Standalone);break;case"LLLLL":e=Ge(Re.Months,He.Narrow,dn.Standalone);break;case"w":e=J_(1);break;case"ww":e=J_(2);break;case"W":e=J_(1,!0);break;case"d":e=Et(ke.Date,1);break;case"dd":e=Et(ke.Date,2);break;case"c":case"cc":e=Et(ke.Day,1);break;case"ccc":e=Ge(Re.Days,He.Abbreviated,dn.Standalone);break;case"cccc":e=Ge(Re.Days,He.Wide,dn.Standalone);break;case"ccccc":e=Ge(Re.Days,He.Narrow,dn.Standalone);break;case"cccccc":e=Ge(Re.Days,He.Short,dn.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Re.Days,He.Abbreviated);break;case"EEEE":e=Ge(Re.Days,He.Wide);break;case"EEEEE":e=Ge(Re.Days,He.Narrow);break;case"EEEEEE":e=Ge(Re.Days,He.Short);break;case"a":case"aa":case"aaa":e=Ge(Re.DayPeriods,He.Abbreviated);break;case"aaaa":e=Ge(Re.DayPeriods,He.Wide);break;case"aaaaa":e=Ge(Re.DayPeriods,He.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Re.DayPeriods,He.Abbreviated,dn.Standalone,!0);break;case"bbbb":e=Ge(Re.DayPeriods,He.Wide,dn.Standalone,!0);break;case"bbbbb":e=Ge(Re.DayPeriods,He.Narrow,dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Re.DayPeriods,He.Abbreviated,dn.Format,!0);break;case"BBBB":e=Ge(Re.DayPeriods,He.Wide,dn.Format,!0);break;case"BBBBB":e=Ge(Re.DayPeriods,He.Narrow,dn.Format,!0);break;case"h":e=Et(ke.Hours,1,-12);break;case"hh":e=Et(ke.Hours,2,-12);break;case"H":e=Et(ke.Hours,1);break;case"HH":e=Et(ke.Hours,2);break;case"m":e=Et(ke.Minutes,1);break;case"mm":e=Et(ke.Minutes,2);break;case"s":e=Et(ke.Seconds,1);break;case"ss":e=Et(ke.Seconds,2);break;case"S":e=Et(ke.FractionalSeconds,1);break;case"SS":e=Et(ke.FractionalSeconds,2);break;case"SSS":e=Et(ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Qp(mi.Short);break;case"ZZZZZ":e=Qp(mi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qp(mi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qp(mi.Long);break;default:return null}return X_[t]=e,e}function mN(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function lH(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function dH(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=mN(e,i);return lH(t,r*(s-i))}function hH(t){if(iN(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Xp(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(tH))return fH(r)}let e=new Date(t);if(!iN(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function fH(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function iN(t){return t instanceof Date&&!isNaN(t.valueOf())}function gN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var eE=/\s+/,sN=[],nm=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=sN,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(eE):sN}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(eE):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(eE).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(pe(lr),pe(Fr))},e.\u0275dir=Wt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var tE=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yN=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new tE(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),oN(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);oN(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(pe(Ga),pe(Np),pe(K_))},e.\u0275dir=Wt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function oN(t,e){t.context.$implicit=e.item}var Za=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new nE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){aN("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){aN("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(pe(Ga),pe(Np))},e.\u0275dir=Wt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),nE=class{constructor(){this.$implicit=null,this.ngIf=null}};function aN(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${sn(e)}'.`)}var Tee=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Or.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(pe(lr),pe(Q_),pe(Fr))},e.\u0275dir=Wt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function vN(t,e){return new ee(2100,!1)}var rE=class{createSubscription(e,n){return Lr(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Lr(()=>e.unsubscribe())}},iE=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},pH=new iE,mH=new rE,See=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ts(r))return pH;if(H_(r))return mH;throw vN(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(pe(rs,16))},e.\u0275pipe=e_({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var gH="mediumDate",yH=new G(""),vH=new G(""),Aee=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??gH,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rH(r,a,o||this.locale,u)}catch(a){throw vN(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(pe($p,16),pe(yH,24),pe(vH,24))},e.\u0275pipe=e_({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ur=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({});let t=e;return t})(),lE="browser",wH="server";function _H(t){return t===lE}function yo(t){return t===wH}var wN=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>_H(B(In))?new sE(B(Lt),window):new oE});let t=e;return t})(),sE=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=EH(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function EH(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var oE=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},em=class{};var fE=class extends Jp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},pE=class t extends fE{static makeCurrent(){cN(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=DH();return n==null?null:CH(n)}resetBaseElement(){El=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gN(document.cookie,e)}},El=null;function DH(){return El=El||document.querySelector("base"),El?El.getAttribute("href"):null}function CH(t){return new URL(t,document.baseURI).pathname}var mE=class{addToWindow(e){nn.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new ee(5103,!1);return s},nn.getAllAngularTestabilities=()=>e.getAllTestabilities(),nn.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=nn.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};nn.frameworkStabilizers||(nn.frameworkStabilizers=[]),nn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?jr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},bH=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Il=new G(""),DN=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(Il),L(Te))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Ja=class{constructor(e){this._doc=e}},dE="ng-app-id",CN=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yo(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${dE}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(dE),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(dE,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Lt),L(Cp),L(w_,8),L(In))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),hE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vE=/%COMP%/g,bN="%COMP%",TH=`_nghost-${bN}`,SH=`_ngcontent-${bN}`,AH=!0,xH=new G("",{providedIn:"root",factory:()=>AH});function MH(t){return SH.replace(vE,t)}function NH(t){return TH.replace(vE,t)}function TN(t,e){return e.map(n=>n.replace(vE,t))}var _N=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=yo(u),this.defaultRenderer=new Dl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Nr.ShadowDom&&(i=z(I({},i),{encapsulation:Nr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof rm?s.applyToHost(r):s instanceof Cl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Nr.Emulated:o=new rm(l,d,i,this.appId,f,a,u,m);break;case Nr.ShadowDom:return new gE(l,d,r,i,a,u,this.nonce,m);default:o=new Cl(l,d,i,f,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(DN),L(CN),L(Cp),L(xH),L(Lt),L(In),L(Te),L(w_))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Dl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(EN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(EN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=hE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=hE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function EN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gE=class extends Dl{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TN(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cl=class extends Dl{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?TN(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rm=class extends Cl{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=MH(l),this.hostAttr=NH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},RH=(()=>{let e=class e extends Ja{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),kH=(()=>{let e=class e extends Ja{constructor(r){super(r),this.delegate=B(eN,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),IN=["alt","control","meta","shift"],OH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FH=(()=>{let e=class e extends Ja{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),IN.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=OH[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),IN.forEach(a=>{if(a!==s){let u=PH[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function VH(){pE.makeCurrent()}function LH(){return new ui}function jH(){return Hx(document),document}var UH=[{provide:In,useValue:lE},{provide:v_,useValue:VH,multi:!0},{provide:Lt,useFactory:jH,deps:[]}],Kee=G_(JM,"browser",UH),BH=new G(""),$H=[{provide:wl,useClass:mE,deps:[]},{provide:B_,useClass:Lp,deps:[Te,jp,wl]},{provide:Lp,useClass:Lp,deps:[Te,jp,wl]}],HH=[{provide:mp,useValue:"root"},{provide:ui,useFactory:LH,deps:[]},{provide:Il,useClass:RH,multi:!0,deps:[Lt,Te,In]},{provide:Il,useClass:FH,multi:!0,deps:[Lt]},{provide:Il,useClass:kH,multi:!0},_N,CN,DN,{provide:La,useExisting:_N},{provide:em,useClass:bH,deps:[]},[]],Qee=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Cp,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(L(BH,12))},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({providers:[...HH,...$H],imports:[Ur,XM]});let t=e;return t})();var SN=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zH={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},yE=new G("HammerGestureConfig"),AN=new G("HammerLoader"),qH=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),GH=(()=>{let e=class e extends Ja{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!zH.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,u=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){u=()=>{};return}a||(u=this.addEventListener(r,i,s))}).catch(()=>{u=()=>{}})),()=>{u()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),u=function(l){o.runGuarded(function(){s(l)})};return a.on(i,u),()=>{a.off(i,u),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(L(Lt),L(yE),L(Qa),L(AN,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Yee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({providers:[{provide:Il,useClass:GH,multi:!0,deps:[Lt,yE,Qa,[new Zi,AN]]},{provide:yE,useClass:qH,deps:[]}]});let t=e;return t})();var FN=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(pe(Fr),pe(lr))},e.\u0275dir=Wt({type:e});let t=e;return t})(),VN=(()=>{let e=class e extends FN{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=po(e)))(s||e)}})(),e.\u0275dir=Wt({type:e,features:[Xi]});let t=e;return t})(),DE=new G(""),KH={provide:DE,useExisting:Ba(()=>CE),multi:!0},CE=(()=>{let e=class e extends VN{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=po(e)))(s||e)}})(),e.\u0275dir=Wt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&be("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Vp([KH]),Xi]});let t=e;return t})(),QH={provide:DE,useExisting:Ba(()=>LN),multi:!0};function YH(){let t=jr()?jr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ZH=new G(""),LN=(()=>{let e=class e extends FN{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!YH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(pe(Fr),pe(lr),pe(ZH,8))},e.\u0275dir=Wt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&be("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Vp([QH]),Xi]});let t=e;return t})();var JH=new G(""),XH=new G("");function jN(t){return t!=null}function UN(t){return ts(t)?he(t):t}function BN(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function $N(t,e){return e.map(n=>n(t))}function ez(t){return!t.validate}function HN(t){return t.map(e=>ez(e)?e:n=>e.validate(n))}function tz(t){if(!t)return null;let e=t.filter(jN);return e.length==0?null:function(n){return BN($N(n,e))}}function zN(t){return t!=null?tz(HN(t)):null}function nz(t){if(!t)return null;let e=t.filter(jN);return e.length==0?null:function(n){let r=$N(n,e).map(UN);return kv(r).pipe(Z(BN))}}function qN(t){return t!=null?nz(HN(t)):null}function xN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rz(t){return t._rawValidators}function iz(t){return t._rawAsyncValidators}function wE(t){return t?Array.isArray(t)?t:[t]:[]}function sm(t,e){return Array.isArray(t)?t.includes(e):t===e}function MN(t,e){let n=wE(e);return wE(t).forEach(i=>{sm(n,i)||n.push(i)}),n}function NN(t,e){return wE(e).filter(n=>!sm(t,n))}var om=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},_E=class extends om{get formDirective(){return null}get path(){return null}},xl=class extends om{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},EE=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fte=z(I({},sz),{"[class.ng-submitted]":"isSubmitted"}),GN=(()=>{let e=class e extends EE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(pe(xl,2))},e.\u0275dir=Wt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Op("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Xi]});let t=e;return t})();var bl="VALID",im="INVALID",Xa="PENDING",Tl="DISABLED",tu=class{},am=class extends tu{constructor(e,n){super(),this.value=e,this.source=n}},Sl=class extends tu{constructor(e,n){super(),this.pristine=e,this.source=n}},Al=class extends tu{constructor(e,n){super(),this.touched=e,this.source=n}},eu=class extends tu{constructor(e,n){super(),this.status=e,this.source=n}};function oz(t){return(um(t)?t.validators:t)||null}function az(t){return Array.isArray(t)?zN(t):t||null}function uz(t,e){return(um(e)?e.asyncValidators:t)||null}function cz(t){return Array.isArray(t)?qN(t):t||null}function um(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var IE=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Hp(()=>this.statusReactive()),this.statusReactive=Rp(void 0),this._pristine=Hp(()=>this.pristineReactive()),this.pristineReactive=Rp(!0),this._touched=Hp(()=>this.touchedReactive()),this.touchedReactive=Rp(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lr(this.statusReactive)}set status(e){Lr(()=>this.statusReactive.set(e))}get valid(){return this.status===bl}get invalid(){return this.status===im}get pending(){return this.status==Xa}get disabled(){return this.status===Tl}get enabled(){return this.status!==Tl}get pristine(){return Lr(this.pristineReactive)}set pristine(e){Lr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Lr(this.touchedReactive)}set touched(e){Lr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NN(e,this._rawAsyncValidators))}hasValidator(e){return sm(this._rawValidators,e)}hasAsyncValidator(e){return sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Al(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Al(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Sl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Sl(!0,r))}markAsPending(e={}){this.status=Xa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new eu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tl,this.errors=null,this._forEachChild(i=>{i.disable(z(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new am(this.value,r)),this._events.next(new eu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bl,this._forEachChild(r=>{r.enable(z(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bl||this.status===Xa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new am(this.value,n)),this._events.next(new eu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tl:bl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=UN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new eu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Tl:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xa)?Xa:this._anyControlsHaveStatus(im)?im:bl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Sl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Al(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=az(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cz(this._rawAsyncValidators)}};var WN=new G("CallSetDisabledState",{providedIn:"root",factory:()=>bE}),bE="always";function lz(t,e){return[...e.path,t]}function dz(t,e,n=bE){fz(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),pz(t,e),gz(t,e),mz(t,e),hz(t,e)}function RN(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fz(t,e){let n=rz(t);e.validator!==null?t.setValidators(xN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=iz(t);e.asyncValidator!==null?t.setAsyncValidators(xN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();RN(e._rawValidators,i),RN(e._rawAsyncValidators,i)}function pz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KN(t,e)})}function mz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function yz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vz(t){return Object.getPrototypeOf(t.constructor)===VN}function wz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===LN?n=s:vz(s)?r=s:i=s}),i||r||n||null}function kN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ON(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _z=class extends IE{constructor(e=null,n,r){super(oz(n),uz(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ON(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ON(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ez={provide:xl,useExisting:Ba(()=>TE)},PN=Promise.resolve(),TE=(()=>{let e=class e extends xl{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new _z,this._registered=!1,this.name="",this.update=new Ue,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=wz(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),yz(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dz(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){PN.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&go(i);PN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?lz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(pe(_E,9),pe(JH,10),pe(XH,10),pe(DE,10),pe(rs,8),pe(WN,8))},e.\u0275dir=Wt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vp([Ez]),Xi,Kt]});let t=e;return t})();var Iz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({});let t=e;return t})();var nu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:WN,useValue:r.callSetDisabledState??bE}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({imports:[Iz]});let t=e;return t})();var QN=()=>{},WE={},w1={},_1=null,E1={mark:QN,measure:QN};try{typeof window<"u"&&(WE=window),typeof document<"u"&&(w1=document),typeof MutationObserver<"u"&&(_1=MutationObserver),typeof performance<"u"&&(E1=performance)}catch{}var{userAgent:YN=""}=WE.navigator||{},as=WE,Ye=w1,ZN=_1,cm=E1,gte=!!as.document,wi=!!Ye.documentElement&&!!Ye.head&&typeof Ye.addEventListener=="function"&&typeof Ye.createElement=="function",I1=~YN.indexOf("MSIE")||~YN.indexOf("Trident/"),Je="classic",D1="duotone",Rn="sharp",kn="sharp-duotone",Cz=[Je,D1,Rn,kn],bz={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},JN={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Tz=["kit"],Sz=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,Az=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,xz={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Mz={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},Nz={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},Rz={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},kz={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},Oz={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},C1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Pz=["solid","regular","light","thin","duotone","brands"],b1=[1,2,3,4,5,6,7,8,9,10],Fz=b1.concat([11,12,13,14,15,16,17,18,19,20]),Ml={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vz=[...Object.keys(Rz),...Pz,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ml.GROUP,Ml.SWAP_OPACITY,Ml.PRIMARY,Ml.SECONDARY].concat(b1.map(t=>"".concat(t,"x"))).concat(Fz.map(t=>"w-".concat(t))),Lz={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},jz={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Uz={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},XN={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},yi="___FONT_AWESOME___",RE=16,T1="fa",S1="svg-inline--fa",Eo="data-fa-i2svg",kE="data-fa-pseudo-element",Bz="data-fa-pseudo-element-pending",KE="data-prefix",QE="data-icon",e1="fontawesome-i2svg",$z="async",Hz=["HTML","HEAD","STYLE","SCRIPT"],A1=(()=>{try{return!0}catch{return!1}})(),x1=[Je,Rn,kn];function Fl(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Je]}})}var M1=I({},C1);M1[Je]=I(I(I({},C1[Je]),JN.kit),JN["kit-duotone"]);var wo=Fl(M1),OE=I({},Oz);OE[Je]=I(I(I({},OE[Je]),XN.kit),XN["kit-duotone"]);var Ol=Fl(OE),PE=I({},kz);PE[Je]=I(I({},PE[Je]),Uz.kit);var _o=Fl(PE),FE=I({},Nz);FE[Je]=I(I({},FE[Je]),jz.kit);var zz=Fl(FE),qz=Sz,N1="fa-layers-text",Gz=Az,Wz=I({},bz),yte=Fl(Wz),Kz=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],SE=Ml,su=new Set;Object.keys(Ol[Je]).map(su.add.bind(su));Object.keys(Ol[Rn]).map(su.add.bind(su));Object.keys(Ol[kn]).map(su.add.bind(su));var Qz=[...Tz,...Vz],Rl=as.FontAwesomeConfig||{};function Yz(t){var e=Ye.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Zz(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ye&&typeof Ye.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=Zz(Yz(n));i!=null&&(Rl[r]=i)});var R1={styleDefault:"solid",familyDefault:"classic",cssPrefix:T1,replacementClass:S1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Rl.familyPrefix&&(Rl.cssPrefix=Rl.familyPrefix);var ou=I(I({},R1),Rl);ou.autoReplaceSvg||(ou.observeMutations=!1);var J={};Object.keys(R1).forEach(t=>{Object.defineProperty(J,t,{enumerable:!0,set:function(e){ou[t]=e,kl.forEach(n=>n(J))},get:function(){return ou[t]}})});Object.defineProperty(J,"familyPrefix",{enumerable:!0,set:function(t){ou.cssPrefix=t,kl.forEach(e=>e(J))},get:function(){return ou.cssPrefix}});as.FontAwesomeConfig=J;var kl=[];function Jz(t){return kl.push(t),()=>{kl.splice(kl.indexOf(t),1)}}var ss=RE,Br={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Xz(t){if(!t||!wi)return;let e=Ye.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=Ye.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Ye.head.insertBefore(e,r),t}var e3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Pl(){let t=12,e="";for(;t-- >0;)e+=e3[Math.random()*62|0];return e}function au(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function YE(t){return t.classList?au(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function k1(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t3(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(k1(t[n]),'" '),"").trim()}function pm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function ZE(t){return t.size!==Br.size||t.x!==Br.x||t.y!==Br.y||t.rotate!==Br.rotate||t.flipX||t.flipY}function n3(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:l}}function r3(t){let{transform:e,width:n=RE,height:r=RE,startCentered:i=!1}=t,s="";return i&&I1?s+="translate(".concat(e.x/ss-n/2,"em, ").concat(e.y/ss-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/ss,"em), calc(-50% + ").concat(e.y/ss,"em)) "):s+="translate(".concat(e.x/ss,"em, ").concat(e.y/ss,"em) "),s+="scale(".concat(e.size/ss*(e.flipX?-1:1),", ").concat(e.size/ss*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var i3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function O1(){let t=T1,e=S1,n=J.cssPrefix,r=J.replacementClass,i=i3;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var t1=!1;function AE(){J.autoAddCss&&!t1&&(Xz(O1()),t1=!0)}var s3={mixout(){return{dom:{css:O1,insertCss:AE}}},hooks(){return{beforeDOMElementCreation(){AE()},beforeI2svg(){AE()}}}},vi=as||{};vi[yi]||(vi[yi]={});vi[yi].styles||(vi[yi].styles={});vi[yi].hooks||(vi[yi].hooks={});vi[yi].shims||(vi[yi].shims=[]);var $r=vi[yi],P1=[],F1=function(){Ye.removeEventListener("DOMContentLoaded",F1),hm=1,P1.map(t=>t())},hm=!1;wi&&(hm=(Ye.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ye.readyState),hm||Ye.addEventListener("DOMContentLoaded",F1));function o3(t){wi&&(hm?setTimeout(t,0):P1.push(t))}function Vl(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?k1(t):"<".concat(e," ").concat(t3(n),">").concat(r.map(Vl).join(""),"</").concat(e,">")}function n1(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var a3=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},xE=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?a3(n,i):n,u,l,d;for(r===void 0?(u=1,d=e[s[0]]):(u=0,d=r);u<o;u++)l=s[u],d=a(d,e[l],l,e);return d};function u3(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function VE(t){let e=u3(t);return e.length===1?e[0].toString(16):null}function c3(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function r1(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function LE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=r1(e);typeof $r.hooks.addPack=="function"&&!r?$r.hooks.addPack(t,r1(e)):$r.styles[t]=I(I({},$r.styles[t]||{}),i),t==="fas"&&LE("fa",e)}var{styles:vo,shims:l3}=$r,d3={[Je]:Object.values(_o[Je]),[Rn]:Object.values(_o[Rn]),[kn]:Object.values(_o[kn])},JE=null,V1={},L1={},j1={},U1={},B1={},h3={[Je]:Object.keys(wo[Je]),[Rn]:Object.keys(wo[Rn]),[kn]:Object.keys(wo[kn])};function f3(t){return~Qz.indexOf(t)}function p3(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!f3(i)?i:null}var $1=()=>{let t=r=>xE(vo,(i,s,o)=>(i[o]=xE(s,r,{}),i),{});V1=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),L1=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),B1=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});let e="far"in vo||J.autoFetchSvg,n=xE(l3,(r,i)=>{let s=i[0],o=i[1],a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});j1=n.names,U1=n.unicodes,JE=mm(J.styleDefault,{family:J.familyDefault})};Jz(t=>{JE=mm(t.styleDefault,{family:J.familyDefault})});$1();function XE(t,e){return(V1[t]||{})[e]}function m3(t,e){return(L1[t]||{})[e]}function os(t,e){return(B1[t]||{})[e]}function H1(t){return j1[t]||{prefix:null,iconName:null}}function g3(t){let e=U1[t],n=XE("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function us(){return JE}var e0=()=>({prefix:null,iconName:null,rest:[]});function mm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=Je}=e,r=wo[n][t],i=Ol[n][t]||Ol[n][r],s=t in $r.styles?t:null;return i||s||null}var y3={[Je]:Object.keys(_o[Je]),[Rn]:Object.keys(_o[Rn]),[kn]:Object.keys(_o[kn])};function gm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r={[Je]:"".concat(J.cssPrefix,"-").concat(Je),[Rn]:"".concat(J.cssPrefix,"-").concat(Rn),[kn]:"".concat(J.cssPrefix,"-").concat(kn)},i=null,s=Je,o=Cz.filter(u=>u!==D1);o.forEach(u=>{(t.includes(r[u])||t.some(l=>y3[u].includes(l)))&&(s=u)});let a=t.reduce((u,l)=>{let d=p3(J.cssPrefix,l);if(vo[l]?(l=d3[s].includes(l)?zz[s][l]:l,i=l,u.prefix=l):h3[s].indexOf(l)>-1?(i=l,u.prefix=mm(l,{family:s})):d?u.iconName=d:l!==J.replacementClass&&!o.some(f=>l===r[f])&&u.rest.push(l),!n&&u.prefix&&u.iconName){let f=i==="fa"?H1(u.iconName):{},m=os(u.prefix,u.iconName);f.prefix&&(i=null),u.iconName=f.iconName||m||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!vo.far&&vo.fas&&!J.autoFetchSvg&&(u.prefix="fas")}return u},e0());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===Rn&&(vo.fass||J.autoFetchSvg)&&(a.prefix="fass",a.iconName=os(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===kn&&(vo.fasds||J.autoFetchSvg)&&(a.prefix="fasds",a.iconName=os(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=us()||"fas"),a}var jE=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=I(I({},this.definitions[s]||{}),i[s]),LE(s,i[s]);let o=_o[Je][s];o&&LE(o,i[s]),$1()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:a}=r[i],u=a[2];e[s]||(e[s]={}),u.length>0&&u.forEach(l=>{typeof l=="string"&&(e[s][l]=a)}),e[s][o]=a}),e}},i1=[],ru={},iu={},v3=Object.keys(iu);function w3(t,e){let{mixoutsTo:n}=e;return i1=t,ru={},Object.keys(iu).forEach(r=>{v3.indexOf(r)===-1&&delete iu[r]}),i1.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{ru[o]||(ru[o]=[]),ru[o].push(s[o])})}r.provides&&r.provides(iu)}),n}function UE(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ru[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Io(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ru[t]||[]).forEach(s=>{s.apply(null,n)})}function cs(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return iu[t]?iu[t].apply(null,e):void 0}function BE(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||us();if(e)return e=os(n,e)||e,n1(z1.definitions,n,e)||n1($r.styles,n,e)}var z1=new jE,_3=()=>{J.autoReplaceSvg=!1,J.observeMutations=!1,Io("noAuto")},E3={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wi?(Io("beforeI2svg",t),cs("pseudoElements2svg",t),cs("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;J.autoReplaceSvg===!1&&(J.autoReplaceSvg=!0),J.observeMutations=!0,o3(()=>{D3({autoReplaceSvgRoot:e}),Io("watch",t)})}},I3={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:os(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=mm(t[0]);return{prefix:n,iconName:os(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(J.cssPrefix,"-"))>-1||t.match(qz))){let e=gm(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||us(),iconName:os(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=us();return{prefix:e,iconName:os(e,t)||t}}}},On={noAuto:_3,config:J,dom:E3,parse:I3,library:z1,findIconDefinition:BE,toHtml:Vl},D3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Ye}=t;(Object.keys($r.styles).length>0||J.autoFetchSvg)&&wi&&J.autoReplaceSvg&&On.dom.i2svg({node:e})};function ym(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Vl(n))}}),Object.defineProperty(t,"node",{get:function(){if(!wi)return;let n=Ye.createElement("div");return n.innerHTML=t.html,n.children}}),t}function C3(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(ZE(o)&&n.found&&!r.found){let{width:a,height:u}=n,l={x:a/u/2,y:.5};i.style=pm(z(I({},s),{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function b3(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(J.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:z(I({},i),{id:o}),children:r}]}]}function t0(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:u,titleId:l,extra:d,watchable:f=!1}=t,{width:m,height:g}=n.found?n:e,w=r==="fak",b=[J.replacementClass,i?"".concat(J.cssPrefix,"-").concat(i):""].filter(X=>d.classes.indexOf(X)===-1).filter(X=>X!==""||!!X).concat(d.classes).join(" "),T={children:[],attributes:z(I({},d.attributes),{"data-prefix":r,"data-icon":i,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},O=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(T.attributes[Eo]=""),a&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(l||Pl())},children:[a]}),delete T.attributes.title);let j=z(I({},T),{prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:s,symbol:o,styles:I(I({},O),d.styles)}),{children:P,attributes:K}=n.found&&e.found?cs("generateAbstractMask",j)||{children:[],attributes:{}}:cs("generateAbstractIcon",j)||{children:[],attributes:{}};return j.children=P,j.attributes=K,o?b3(j):C3(j)}function s1(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,u=z(I(I({},o.attributes),s?{title:s}:{}),{class:o.classes.join(" ")});a&&(u[Eo]="");let l=I({},o.styles);ZE(i)&&(l.transform=r3({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);let d=pm(l);d.length>0&&(u.style=d);let f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function T3(t){let{content:e,title:n,extra:r}=t,i=z(I(I({},r.attributes),n?{title:n}:{}),{class:r.classes.join(" ")}),s=pm(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:ME}=$r;function $E(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(J.cssPrefix,"-").concat(SE.GROUP)},children:[{tag:"path",attributes:{class:"".concat(J.cssPrefix,"-").concat(SE.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(J.cssPrefix,"-").concat(SE.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var S3={found:!1,width:512,height:512};function A3(t,e){!A1&&!J.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function HE(t,e){let n=e;return e==="fa"&&J.styleDefault!==null&&(e=us()),new Promise((r,i)=>{if(n==="fa"){let s=H1(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&ME[e]&&ME[e][t]){let s=ME[e][t];return r($E(s))}A3(t,e),r(z(I({},S3),{icon:J.showMissingIcons&&t?cs("missingIconAbstract")||{}:{}}))})}var o1=()=>{},zE=J.measurePerformance&&cm&&cm.mark&&cm.measure?cm:{mark:o1,measure:o1},Nl='FA "6.6.0"',x3=t=>(zE.mark("".concat(Nl," ").concat(t," begins")),()=>q1(t)),q1=t=>{zE.mark("".concat(Nl," ").concat(t," ends")),zE.measure("".concat(Nl," ").concat(t),"".concat(Nl," ").concat(t," begins"),"".concat(Nl," ").concat(t," ends"))},n0={begin:x3,end:q1},lm=()=>{};function a1(t){return typeof(t.getAttribute?t.getAttribute(Eo):null)=="string"}function M3(t){let e=t.getAttribute?t.getAttribute(KE):null,n=t.getAttribute?t.getAttribute(QE):null;return e&&n}function N3(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(J.replacementClass)}function R3(){return J.autoReplaceSvg===!0?dm.replace:dm[J.autoReplaceSvg]||dm.replace}function k3(t){return Ye.createElementNS("http://www.w3.org/2000/svg",t)}function O3(t){return Ye.createElement(t)}function G1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?k3:O3}=e;if(typeof t=="string")return Ye.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(G1(s,{ceFn:n}))}),r}function P3(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var dm={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(G1(n),e)}),e.getAttribute(Eo)===null&&J.keepOriginalSource){let n=Ye.createComment(P3(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~YE(e).indexOf(J.replacementClass))return dm.replace(t);let r=new RegExp("".concat(J.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===J.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>Vl(s)).join(`
`);e.setAttribute(Eo,""),e.innerHTML=i}};function u1(t){t()}function W1(t,e){let n=typeof e=="function"?e:lm;if(t.length===0)n();else{let r=u1;J.mutateApproach===$z&&(r=as.requestAnimationFrame||u1),r(()=>{let i=R3(),s=n0.begin("mutate");t.map(i),s(),n()})}}var r0=!1;function K1(){r0=!0}function qE(){r0=!1}var fm=null;function c1(t){if(!ZN||!J.observeMutations)return;let{treeCallback:e=lm,nodeCallback:n=lm,pseudoElementsCallback:r=lm,observeMutationsRoot:i=Ye}=t;fm=new ZN(s=>{if(r0)return;let o=us();au(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!a1(a.addedNodes[0])&&(J.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&J.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&a1(a.target)&&~Kz.indexOf(a.attributeName))if(a.attributeName==="class"&&M3(a.target)){let{prefix:u,iconName:l}=gm(YE(a.target));a.target.setAttribute(KE,u||o),l&&a.target.setAttribute(QE,l)}else N3(a.target)&&n(a.target)})}),wi&&fm.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function F3(){fm&&fm.disconnect()}function V3(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function L3(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=gm(YE(t));return i.prefix||(i.prefix=us()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=m3(i.prefix,t.innerText)||XE(i.prefix,VE(t.innerText))),!i.iconName&&J.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function j3(t){let e=au(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return J.autoA11y&&(n?e["aria-labelledby"]="".concat(J.replacementClass,"-title-").concat(r||Pl()):(e["aria-hidden"]="true",e.focusable="false")),e}function U3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Br,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function l1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=L3(t),s=j3(t),o=UE("parseNodeAttributes",{},t),a=e.styleParser?V3(t):[];return I({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Br,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}var{styles:B3}=$r;function Q1(t){let e=J.autoReplaceSvg==="nest"?l1(t,{styleParser:!1}):l1(t);return~e.extra.classes.indexOf(N1)?cs("generateLayersText",t,e):cs("generateSvgReplacementMutation",t,e)}var Hr=new Set;x1.map(t=>{Hr.add("fa-".concat(t))});Object.keys(wo[Je]).map(Hr.add.bind(Hr));Object.keys(wo[Rn]).map(Hr.add.bind(Hr));Object.keys(wo[kn]).map(Hr.add.bind(Hr));Hr=[...Hr];function d1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!wi)return Promise.resolve();let n=Ye.documentElement.classList,r=d=>n.add("".concat(e1,"-").concat(d)),i=d=>n.remove("".concat(e1,"-").concat(d)),s=J.autoFetchSvg?Hr:x1.map(d=>"fa-".concat(d)).concat(Object.keys(B3));s.includes("fa")||s.push("fa");let o=[".".concat(N1,":not([").concat(Eo,"])")].concat(s.map(d=>".".concat(d,":not([").concat(Eo,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=au(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();let u=n0.begin("onTree"),l=a.reduce((d,f)=>{try{let m=Q1(f);m&&d.push(m)}catch(m){A1||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,f)=>{Promise.all(l).then(m=>{W1(m,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(m=>{u(),f(m)})})}function $3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Q1(t).then(n=>{n&&W1([n],e)})}function H3(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:BE(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:BE(i||{})),t(r,z(I({},n),{mask:i}))}}var z3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Br,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:u=[],attributes:l={},styles:d={}}=e;if(!t)return;let{prefix:f,iconName:m,icon:g}=t;return ym(I({type:"icon"},t),()=>(Io("beforeDOMElementCreation",{iconDefinition:t,params:e}),J.autoA11y&&(o?l["aria-labelledby"]="".concat(J.replacementClass,"-title-").concat(a||Pl()):(l["aria-hidden"]="true",l.focusable="false")),t0({icons:{main:$E(g),mask:i?$E(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:m,transform:I(I({},Br),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:l,styles:d,classes:u}})))},q3={mixout(){return{icon:H3(z3)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=d1,t.nodeCallback=$3,t}}},provides(t){t.i2svg=function(e){let{node:n=Ye,callback:r=()=>{}}=e;return d1(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:u,mask:l,maskId:d,extra:f}=n;return new Promise((m,g)=>{Promise.all([HE(r,o),l.iconName?HE(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[b,T]=w;m([e,t0({icons:{main:b,mask:T},prefix:o,iconName:r,transform:a,symbol:u,maskId:d,title:i,titleId:s,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,a=pm(o);a.length>0&&(r.style=a);let u;return ZE(s)&&(u=cs("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:r}}}},G3={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return ym({type:"layer"},()=>{Io("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(J.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},W3={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return ym({type:"counter",content:t},()=>(Io("beforeDOMElementCreation",{content:t,params:e}),T3({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(J.cssPrefix,"-layers-counter"),...r]}})))}}}},K3={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Br,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return ym({type:"text",content:t},()=>(Io("beforeDOMElementCreation",{content:t,params:e}),s1({content:t,transform:I(I({},Br),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(J.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,a=null;if(I1){let u=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/u,a=l.height/u}return J.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,s1({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}},Q3=new RegExp('"',"ug"),h1=[1105920,1112319],f1=I(I(I({FontAwesome:{normal:"fas",400:"fas"}},Mz),xz),Lz),GE=Object.keys(f1).reduce((t,e)=>(t[e.toLowerCase()]=f1[e],t),{}),Y3=Object.keys(GE).reduce((t,e)=>{let n=GE[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Z3(t){let e=t.replace(Q3,""),n=c3(e,0),r=n>=h1[0]&&n<=h1[1],i=e.length===2?e[0]===e[1]:!1;return{value:VE(i?e[0]:e),isSecondary:r||i}}function J3(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(GE[n]||{})[i]||Y3[n]}function p1(t,e){let n="".concat(Bz).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=au(t.children).filter(m=>m.getAttribute(kE)===e)[0],a=as.getComputedStyle(t,e),u=a.getPropertyValue("font-family"),l=u.match(Gz),d=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&f!=="none"&&f!==""){let m=a.getPropertyValue("content"),g=J3(u,d),{value:w,isSecondary:b}=Z3(m),T=l[0].startsWith("FontAwesome"),O=XE(g,w),j=O;if(T){let P=g3(w);P.iconName&&P.prefix&&(O=P.iconName,g=P.prefix)}if(O&&!b&&(!o||o.getAttribute(KE)!==g||o.getAttribute(QE)!==j)){t.setAttribute(n,j),o&&t.removeChild(o);let P=U3(),{extra:K}=P;K.attributes[kE]=e,HE(O,g).then(X=>{let ne=t0(z(I({},P),{icons:{main:X,mask:e0()},prefix:g,iconName:j,extra:K,watchable:!0})),D=Ye.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(D,t.firstChild):t.appendChild(D),D.outerHTML=ne.map(v=>Vl(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function X3(t){return Promise.all([p1(t,"::before"),p1(t,"::after")])}function eq(t){return t.parentNode!==document.head&&!~Hz.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(kE)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function m1(t){if(wi)return new Promise((e,n)=>{let r=au(t.querySelectorAll("*")).filter(eq).map(X3),i=n0.begin("searchPseudoElements");K1(),Promise.all(r).then(()=>{i(),qE(),e()}).catch(()=>{i(),qE(),n()})})}var tq={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=m1,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=Ye}=e;J.searchPseudoElements&&m1(n)}}},g1=!1,nq={mixout(){return{dom:{unwatch(){K1(),g1=!0}}}},hooks(){return{bootstrap(){c1(UE("mutationObserverCallbacks",{}))},noAuto(){F3()},watch(t){let{observeMutationsRoot:e}=t;g1?qE():c1(UE("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},y1=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},rq={mixout(){return{parse:{transform:t=>y1(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=y1(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(a," ").concat(u," ").concat(l)},f={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:d,path:f};return{tag:"g",attributes:I({},m.outer),children:[{tag:"g",attributes:I({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:I(I({},n.icon.attributes),m.path)}]}]}}}},NE={x:0,y:0,width:"100%",height:"100%"};function v1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function iq(t){return t.tag==="g"?t.children:[t]}var sq={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?gm(n.split(" ").map(i=>i.trim())):e0();return r.prefix||(r.prefix=us()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e,{width:u,icon:l}=i,{width:d,icon:f}=s,m=n3({transform:a,containerWidth:d,iconWidth:u}),g={tag:"rect",attributes:z(I({},NE),{fill:"white"})},w=l.children?{children:l.children.map(v1)}:{},b={tag:"g",attributes:I({},m.inner),children:[v1(I({tag:l.tag,attributes:I(I({},l.attributes),m.path)},w))]},T={tag:"g",attributes:I({},m.outer),children:[b]},O="mask-".concat(o||Pl()),j="clip-".concat(o||Pl()),P={tag:"mask",attributes:z(I({},NE),{id:O,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,T]},K={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:iq(f)},P]};return n.push(K,{tag:"rect",attributes:I({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(O,")")},NE)}),{children:n,attributes:r}}}},oq={provides(t){let e=!1;as.matchMedia&&(e=as.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:z(I({},r),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=z(I({},i),{attributeName:"opacity"}),o={tag:"circle",attributes:z(I({},r),{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:z(I({},i),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:z(I({},s),{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:z(I({},r),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:z(I({},s),{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:z(I({},r),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:z(I({},s),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},aq={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},uq=[s3,q3,G3,W3,K3,tq,nq,rq,sq,oq,aq];w3(uq,{mixoutsTo:On});var vte=On.noAuto,cq=On.config,wte=On.library,lq=On.dom,dq=On.parse,_te=On.findIconDefinition,Ete=On.toHtml,hq=On.icon,Ite=On.layer,fq=On.text,pq=On.counter;var Mte=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({});let t=e;return t})();var me="primary",Zl=Symbol("RouteTitle"),u0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fu(t){return new u0(t)}function mq(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gq(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zr(t[n],e[n]))return!1;return!0}function zr(t,e){let n=t?c0(t):void 0,r=e?c0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!oR(t[i],e[i]))return!1;return!0}function c0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function aR(t){return t.length>0?t[t.length-1]:null}function hs(t){return Rv(t)?t:ts(t)?he(Promise.resolve(t)):Y(t)}var yq={exact:cR,subset:lR},uR={exact:vq,subset:wq,ignored:()=>!0};function Y1(t,e,n){return yq[n.paths](t.root,e.root,n.matrixParams)&&uR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vq(t,e){return zr(t,e)}function cR(t,e,n){if(!Co(t.segments,e.segments)||!_m(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cR(t.children[r],e.children[r],n))return!1;return!0}function wq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oR(t[n],e[n]))}function lR(t,e,n){return dR(t,e,e.segments,n)}function dR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Co(i,n)||e.hasChildren()||!_m(i,n,r))}else if(t.segments.length===n.length){if(!Co(t.segments,n)||!_m(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Co(t.segments,i)||!_m(t.segments,i,r)||!t.children[me]?!1:dR(t.children[me],e,s,r)}}function _m(t,e,n){return e.every((r,i)=>uR[n](t[i].parameters,r.parameters))}var Ei=class{constructor(e=new Le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fu(this.queryParams),this._queryParamMap}toString(){return Iq.serialize(this)}},Le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Em(this)}},Do=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fu(this.parameters),this._parameterMap}toString(){return fR(this)}};function _q(t,e){return Co(t,e)&&t.every((n,r)=>zr(n.parameters,e[r].parameters))}function Co(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Eq(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var Jl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new pu,providedIn:"root"});let t=e;return t})(),pu=class{parse(e){let n=new d0(e);return new Ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ll(e.root,!0)}`,r=bq(e.queryParams),i=typeof e.fragment=="string"?`#${Dq(e.fragment)}`:"";return`${n}${r}${i}`}},Iq=new pu;function Em(t){return t.segments.map(e=>fR(e)).join("/")}function Ll(t,e){if(!t.hasChildren())return Em(t);if(e){let n=t.children[me]?Ll(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${Ll(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Eq(t,(r,i)=>i===me?[Ll(t.children[me],!1)]:[`${i}:${Ll(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Em(t)}/${n[0]}`:`${Em(t)}/(${n.join("//")})`}}function hR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vm(t){return hR(t).replace(/%3B/gi,";")}function Dq(t){return encodeURI(t)}function l0(t){return hR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Im(t){return decodeURIComponent(t)}function Z1(t){return Im(t.replace(/\+/g,"%20"))}function fR(t){return`${l0(t.path)}${Cq(t.parameters)}`}function Cq(t){return Object.entries(t).map(([e,n])=>`;${l0(e)}=${l0(n)}`).join("")}function bq(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${vm(n)}=${vm(i)}`).join("&"):`${vm(n)}=${vm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Tq=/^[^\/()?;#]+/;function i0(t){let e=t.match(Tq);return e?e[0]:""}var Sq=/^[^\/()?;=#]+/;function Aq(t){let e=t.match(Sq);return e?e[0]:""}var xq=/^[^=?&#]+/;function Mq(t){let e=t.match(xq);return e?e[0]:""}var Nq=/^[^&#]+/;function Rq(t){let e=t.match(Nq);return e?e[0]:""}var d0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Le(e,n)),r}parseSegment(){let e=i0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Do(Im(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Aq(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=i0(this.remaining);i&&(r=i,this.capture(r))}e[Im(n)]=Im(r)}parseQueryParam(e){let n=Mq(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Rq(this.remaining);o&&(r=o,this.capture(r))}let i=Z1(n),s=Z1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=i0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new Le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function pR(t){return t.segments.length>0?new Le([],{[me]:t}):t}function mR(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=mR(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Le(t.segments,e);return kq(n)}function kq(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Le(t.segments.concat(e.segments),e.children)}return t}function bo(t){return t instanceof Ei}function Oq(t,e,n=null,r=null){let i=gR(t);return yR(i,e,n,r)}function gR(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Le(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=pR(r);return e??i}function yR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return s0(i,i,i,n,r);let s=Pq(e);if(s.toRoot())return s0(i,i,new Le([],{}),n,r);let o=Fq(s,i,t),a=o.processChildren?Bl(o.segmentGroup,o.index,s.commands):wR(o.segmentGroup,o.index,s.commands);return s0(i,o.segmentGroup,a,n,r)}function Dm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function zl(t){return typeof t=="object"&&t!=null&&t.outlets}function s0(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=vR(t,e,n);let a=pR(mR(o));return new Ei(a,s,i)}function vR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=vR(s,e,n)}),new Le(t.segments,r)}var Cm=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dm(r[0]))throw new ee(4003,!1);let i=r.find(zl);if(i&&i!==aR(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Pq(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Cm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Cm(n,e,r)}var lu=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Fq(t,e,n){if(t.isAbsolute)return new lu(e,!0,0);if(!n)return new lu(e,!1,NaN);if(n.parent===null)return new lu(n,!0,0);let r=Dm(t.commands[0])?0:1,i=n.segments.length-1+r;return Vq(n,i,t.numberOfDoubleDots)}function Vq(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new lu(r,!1,i-s)}function Lq(t){return zl(t[0])?t[0].outlets:{[me]:t}}function wR(t,e,n){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return Bl(t,e,n);let r=jq(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Le(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Le(t.segments.slice(r.pathIndex),t.children),Bl(s,0,i)}else return r.match&&i.length===0?new Le(t.segments,{}):r.match&&!t.hasChildren()?h0(t,e,n):r.match?Bl(t,0,i):h0(t,e,n)}function Bl(t,e,n){if(n.length===0)return new Le(t.segments,{});{let r=Lq(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=Bl(t.children[me],e,n);return new Le(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=wR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Le(t.segments,i)}}function jq(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(zl(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!X1(u,l,o))return s;r+=2}else{if(!X1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function h0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(zl(s)){let u=Uq(s.outlets);return new Le(r,u)}if(i===0&&Dm(n[0])){let u=t.segments[e];r.push(new Do(u.path,J1(n[0]))),i++;continue}let o=zl(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dm(a)?(r.push(new Do(o,J1(a))),i+=2):(r.push(new Do(o,{})),i++)}return new Le(r,{})}function Uq(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=h0(new Le([],{}),0,r))}),e}function J1(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function X1(t,e,n){return t==n.path&&zr(e,n.parameters)}var $l="imperative",Ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ot||{}),Gn=class{constructor(e,n){this.id=e,this.url=n}},mu=class extends Gn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends Gn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Fn||{}),bm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bm||{}),_i=class extends Gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ls=class extends Gn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ot.NavigationSkipped}},ql=class extends Gn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tm=class extends Gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f0=class extends Gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p0=class extends Gn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},m0=class extends Gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g0=class extends Gn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y0=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},v0=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},w0=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_0=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E0=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I0=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Gl=class{},gu=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Bq(t,e){return t.providers&&!t._injector&&(t._injector=kp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function pr(t){return t.outlet||me}function $q(t,e){let n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}function Xl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var D0=class{get injector(){return Xl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ed(this.rootInjector),this.attachRef=null}},ed=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new D0(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(L(Sn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Am=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=C0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=C0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=b0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b0(e,this._root).map(n=>n.value)}};function C0(t,e){if(t===e.value)return e;for(let n of e.children){let r=C0(t,n);if(r)return r}return null}function b0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=b0(t,n);if(r.length)return r.unshift(e),r}return[]}var Pn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cu(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xm=class extends Am{constructor(e,n){super(e),this.snapshot=n,O0(this,e)}toString(){return this.snapshot.toString()}};function _R(t){let e=Hq(t),n=new Ft([new Do("",{})]),r=new Ft({}),i=new Ft({}),s=new Ft({}),o=new Ft(""),a=new To(n,r,s,o,i,me,t,e.root);return a.snapshot=e.root,new xm(new Pn(a,[]),e)}function Hq(t){let e={},n={},r={},i="",s=new du([],e,r,i,n,me,t,null,{});return new Nm("",new Pn(s,[]))}var To=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Zl]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>fu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>fu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&IR(i)&&(r.resolve[Zl]=i.title),r}var du=class{get title(){return this.data?.[Zl]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nm=class extends Am{constructor(e,n){super(n),this.url=e,O0(this,n)}toString(){return ER(this._root)}};function O0(t,e){e.value._routerState=t,e.children.forEach(n=>O0(t,n))}function ER(t){let e=t.children.length>0?` { ${t.children.map(ER).join(", ")} } `:"";return`${t.value}${e}`}function o0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zr(e.params,n.params)||t.paramsSubject.next(n.params),gq(e.url,n.url)||t.urlSubject.next(n.url),zr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function T0(t,e){let n=zr(t.params,e.params)&&_q(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||T0(t.parent,e.parent))}function IR(t){return typeof t.title=="string"||t.title===null}var zq=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=B(ed),this.location=B(Ga),this.changeDetector=B(rs),this.inputBinder=B(Fm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new S0(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Wt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kt]});let t=e;return t})(),S0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===To?this.route:e===ed?this.childContexts:this.parent.get(e,n)}},Fm=new G(""),eR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Zc([i.queryParams,i.params,i.data]).pipe(nt(([o,a,u],l)=>(u=I(I(I({},o),a),u),l===0?Y(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=tN(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function qq(t,e,n){let r=Wl(t,e._root,n?n._root:void 0);return new xm(r,e)}function Wl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Gq(t,e,n);return new Pn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wl(t,a)),o}}let r=Wq(e.value),i=e.children.map(s=>Wl(t,s));return new Pn(r,i)}}function Gq(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wl(t,r,i);return Wl(t,r)})}function Wq(t){return new To(new Ft(t.url),new Ft(t.params),new Ft(t.queryParams),new Ft(t.fragment),new Ft(t.data),t.outlet,t.component,t)}var Kl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},DR="ngNavigationCancelingError";function Rm(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CR(!1,Fn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function CR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[DR]=!0,n.cancellationCode=e,n}function Kq(t){return bR(t)&&bo(t.url)}function bR(t){return!!t&&t[DR]}var Qq=(t,e,n,r)=>Z(i=>(new A0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),A0=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),o0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=cu(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=cu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=cu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=cu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new I0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(o0(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),o0(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},km=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hu=class{constructor(e,n){this.component=e,this.route=n}};function Yq(t,e,n){let r=t._root,i=e?e._root:null;return jl(r,i,n,[r.value])}function Zq(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!kA(t)?t:e.get(t):r}function jl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=cu(e);return t.children.forEach(o=>{Jq(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hl(a,n.getContext(o),i)),i}function Jq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Xq(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new km(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?jl(t,e,a?a.children:null,r,i):jl(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hu(a.outlet.component,o))}else o&&Hl(e,a,i),i.canActivateChecks.push(new km(r)),s.component?jl(t,null,a?a.children:null,r,i):jl(t,null,n,r,i);return i}function Xq(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Co(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Co(t.url,e.url)||!zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T0(t,e)||!zr(t.queryParams,e.queryParams);case"paramsChange":default:return!T0(t,e)}}function Hl(t,e,n){let r=cu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Hl(o,e.children.getContext(s),n):Hl(o,null,n):Hl(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new hu(e.outlet.component,i)):n.canDeactivateChecks.push(new hu(null,i)):n.canDeactivateChecks.push(new hu(null,i))}function td(t){return typeof t=="function"}function e6(t){return typeof t=="boolean"}function t6(t){return t&&td(t.canLoad)}function n6(t){return t&&td(t.canActivate)}function r6(t){return t&&td(t.canActivateChild)}function i6(t){return t&&td(t.canDeactivate)}function s6(t){return t&&td(t.canMatch)}function TR(t){return t instanceof ai||t?.name==="EmptyError"}var wm=Symbol("INITIAL_VALUE");function yu(){return nt(t=>Zc(t.map(e=>e.pipe(Ar(1),eo(wm)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===wm)return wm;if(n===!1||o6(n))return n}return!0}),Vt(e=>e!==wm),Ar(1)))}function o6(t){return bo(t)||t instanceof Kl}function a6(t,e){return vt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(z(I({},n),{guardsResult:!0})):u6(o,r,i,t).pipe(vt(a=>a&&e6(a)?c6(r,s,t,e):Y(a)),Z(a=>z(I({},n),{guardsResult:a})))})}function u6(t,e,n,r){return he(t).pipe(vt(i=>p6(i.component,i.route,n,e,r)),Tn(i=>i!==!0,!0))}function c6(t,e,n,r){return he(e).pipe(Js(i=>Ea(d6(i.route.parent,r),l6(i.route,r),f6(t,i.path,n),h6(t,i.route,n))),Tn(i=>i!==!0,!0))}function l6(t,e){return t!==null&&e&&e(new E0(t)),Y(!0)}function d6(t,e){return t!==null&&e&&e(new w0(t)),Y(!0)}function h6(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>If(()=>{let o=Xl(e)??n,a=vu(s,o),u=n6(a)?a.canActivate(e,t):ur(o,()=>a(e,t));return hs(u).pipe(Tn())}));return Y(i).pipe(yu())}function f6(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Zq(o)).filter(o=>o!==null).map(o=>If(()=>{let a=o.guards.map(u=>{let l=Xl(o.node)??n,d=vu(u,l),f=r6(d)?d.canActivateChild(r,t):ur(l,()=>d(r,t));return hs(f).pipe(Tn())});return Y(a).pipe(yu())}));return Y(s).pipe(yu())}function p6(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=Xl(e)??i,l=vu(a,u),d=i6(l)?l.canDeactivate(t,e,n,r):ur(u,()=>l(t,e,n,r));return hs(d).pipe(Tn())});return Y(o).pipe(yu())}function m6(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=vu(o,t),u=t6(a)?a.canLoad(e,n):ur(t,()=>a(e,n));return hs(u)});return Y(s).pipe(yu(),SR(r))}function SR(t){return Tv(ut(e=>{if(typeof e!="boolean")throw Rm(t,e)}),Z(e=>e===!0))}function g6(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=vu(o,t),u=s6(a)?a.canMatch(e,n):ur(t,()=>a(e,n));return hs(u)});return Y(s).pipe(yu(),SR(r))}var Ql=class{constructor(e){this.segmentGroup=e||null}},Yl=class extends Error{constructor(e){super(),this.urlTree=e}};function uu(t){return _a(new Ql(t))}function y6(t){return _a(new ee(4e3,!1))}function v6(t){return _a(CR(!1,Fn.GuardRejected))}var x0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[me])return y6(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:d,url:f,outlet:m,params:g,data:w,title:b}=i,T=ur(s,()=>a({params:g,data:w,queryParams:u,fragment:l,routeConfig:d,url:f,outlet:m,title:b}));if(T instanceof Ei)throw new Yl(T);n=T}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Yl(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Ei(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},M0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w6(t,e,n,r,i){let s=P0(t,e,n);return s.matched?(r=Bq(e,r),g6(r,e,n,i).pipe(Z(o=>o===!0?s:I({},M0)))):Y(s)}function P0(t,e,n){if(e.path==="**")return _6(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},M0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mq)(n,t,e);if(!i)return I({},M0);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _6(t){return{matched:!0,parameters:t.length>0?aR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tR(t,e,n,r){return n.length>0&&D6(t,n,r)?{segmentGroup:new Le(e,I6(r,new Le(n,t.children))),slicedSegments:[]}:n.length===0&&C6(t,n,r)?{segmentGroup:new Le(t.segments,E6(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function E6(t,e,n,r){let i={};for(let s of n)if(Vm(t,e,s)&&!r[pr(s)]){let o=new Le([],{});i[pr(s)]=o}return I(I({},r),i)}function I6(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&pr(r)!==me){let i=new Le([],{});n[pr(r)]=i}return n}function D6(t,e,n){return n.some(r=>Vm(t,e,r)&&pr(r)!==me)}function C6(t,e,n){return n.some(r=>Vm(t,e,r))}function Vm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function b6(t,e,n,r){return pr(t)!==r&&(r===me||!Vm(e,n,t))?!1:P0(e,t,n).matched}function T6(t,e,n){return e.length===0&&!t.children[n]}var N0=class{};function S6(t,e,n,r,i,s,o="emptyOnly"){return new R0(t,e,n,r,i,o,s).recognize()}var A6=31,R0=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new x0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=tR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new Pn(r,n),s=new Nm("",i),o=Oq(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new du([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Ui(r=>{if(r instanceof Yl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ql?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Pn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return he(s).pipe(Js(o=>{let a=r.children[o],u=$q(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Xs((o,a)=>(o.push(...a),o)),Bi(null),Vv(),vt(o=>{if(o===null)return uu(r);let a=AR(o);return x6(a),Y(a)}))}processSegment(e,n,r,i,s,o,a){return he(n).pipe(Js(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Ui(l=>{if(l instanceof Ql)return Y(null);throw l}))),Tn(u=>!!u),Ui(u=>{if(TR(u))return T6(r,i,s)?Y(new N0):uu(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return b6(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):uu(i):uu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=P0(n,i,s);if(!u)return uu(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A6&&(this.allowRedirects=!1));let g=new du(s,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,nR(i),pr(i),i.component??i._loadedComponent??null,i,rR(i)),w=Mm(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let b=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(vt(T=>this.processSegment(e,r,n,T.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=w6(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=u,w=new du(m,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,nR(r),pr(r),r.component??r._loadedComponent??null,r,rR(r)),b=Mm(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(b.params),w.data=Object.freeze(b.data);let{segmentGroup:T,slicedSegments:O}=tR(n,m,g,l);if(O.length===0&&T.hasChildren())return this.processChildren(d,l,T,w).pipe(Z(P=>new Pn(w,P)));if(l.length===0&&O.length===0)return Y(new Pn(w,[]));let j=pr(r)===s;return this.processSegment(d,l,T,O,j?me:s,!0,w).pipe(Z(P=>new Pn(w,P instanceof Pn?[P]:[])))}))):uu(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):m6(e,n,r,this.urlSerializer).pipe(vt(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):v6(n))):Y({routes:[],injector:e})}};function x6(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function M6(t){let e=t.value.routeConfig;return e&&e.path===""}function AR(t){let e=[],n=new Set;for(let r of t){if(!M6(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=AR(r.children);e.push(new Pn(r.value,i))}return e.filter(r=>!n.has(r))}function nR(t){return t.data||{}}function rR(t){return t.resolve||{}}function N6(t,e,n,r,i,s){return vt(o=>S6(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:u})=>z(I({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function R6(t,e){return vt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of xR(u))o.add(l);let a=0;return he(o).pipe(Js(u=>s.has(u)?k6(u,r,t,e):(u.data=Mm(u,u.parent,t).resolve,Y(void 0))),ut(()=>a++),Ia(1),vt(u=>a===o.size?Y(n):tn))})}function xR(t){let e=t.children.map(n=>xR(n)).flat();return[t,...e]}function k6(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!IR(i)&&(s[Zl]=i.title),O6(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=Mm(t,t.parent,n).resolve,null)))}function O6(t,e,n,r){let i=c0(t);if(i.length===0)return Y({});let s={};return he(i).pipe(vt(o=>P6(t[o],e,n,r).pipe(Tn(),ut(a=>{if(a instanceof Kl)throw Rm(new pu,a);s[o]=a}))),Ia(1),Pv(s),Ui(o=>TR(o)?tn:_a(o)))}function P6(t,e,n,r){let i=Xl(e)??r,s=vu(t,i),o=s.resolve?s.resolve(e,n):ur(i,()=>s(e,n));return hs(o)}function a0(t){return nt(e=>{let n=t(e);return n?he(n).pipe(Z(()=>e)):Y(e)})}var MR=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[Zl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(F6),providedIn:"root"});let t=e;return t})(),F6=(()=>{let e=class e extends MR{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(SN))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nd=new G("",{providedIn:"root",factory:()=>({})}),V6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ar({type:e,selectors:[["ng-component"]],standalone:!0,features:[hr],decls:1,vars:0,template:function(i,s){i&1&&es(0,"router-outlet")},dependencies:[zq],encapsulation:2});let t=e;return t})();function F0(t){let e=t.children&&t.children.map(F0),n=e?z(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=V6),n}var Om=new G(""),V0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Bp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hs(r.loadComponent()).pipe(Z(NR),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jc(()=>{this.componentLoaders.delete(r)})),s=new ga(i,()=>new qe).pipe(ma());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=L6(i,this.compiler,r,this.onLoadEndListener).pipe(Jc(()=>{this.childrenLoaders.delete(i)})),a=new ga(o,()=>new qe).pipe(ma());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L6(t,e,n,r){return hs(t.loadChildren()).pipe(Z(NR),vt(i=>i instanceof ll||Array.isArray(i)?Y(i):he(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Om,[],{optional:!0,self:!0}).flat()),{routes:o.map(F0),injector:s}}))}function j6(t){return t&&typeof t=="object"&&"default"in t}function NR(t){return j6(t)?t.default:t}var L0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(U6),providedIn:"root"});let t=e;return t})(),U6=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RR=new G(""),kR=new G("");function B6(t,e,n){let r=t.get(kR),i=t.get(Lt);return t.get(Te).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),$6(t))),{onViewTransitionCreated:u}=r;return u&&ur(t,()=>u({transition:a,from:e,to:n})),o})}function $6(t){return new Promise(e=>{P_({read:()=>setTimeout(e)},{injector:t})})}var H6=new G(""),j0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=B(V0),this.environmentInjector=B(Sn),this.urlSerializer=B(Jl),this.rootContexts=B(ed),this.location=B(Ya),this.inputBindingEnabled=B(Fm,{optional:!0})!==null,this.titleStrategy=B(MR),this.options=B(nd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(L0),this.createViewTransition=B(RR,{optional:!0}),this.navigationErrorHandler=B(H6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new y0(s)),i=s=>this.events.next(new v0(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(z(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$l,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),Z(o=>z(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),nt(o=>{let a=!1,u=!1;return Y(o).pipe(nt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Fn.SupersededByNewNavigation),tn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new ls(l.id,this.urlSerializer.serialize(l.rawUrl),m,bm.IgnoredSameUrlNavigation)),l.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(nt(m=>{let g=this.transitions?.getValue();return this.events.next(new mu(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?tn:Promise.resolve(m)}),N6(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=z(I({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new Tm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:g,source:w,restoredState:b,extras:T}=l,O=new mu(m,this.urlSerializer.serialize(g),w,b);this.events.next(O);let j=_R(this.rootComponentType).snapshot;return this.currentTransition=o=z(I({},l),{targetSnapshot:j,urlAfterRedirects:g,extras:z(I({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Y(o)}else{let m="";return this.events.next(new ls(l.id,this.urlSerializer.serialize(l.extractedUrl),m,bm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),tn}}),ut(l=>{let d=new f0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Z(l=>(this.currentTransition=o=z(I({},l),{guards:Yq(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),a6(this.environmentInjector,l=>this.events.next(l)),ut(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Rm(this.urlSerializer,l.guardsResult);let d=new p0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Fn.GuardRejected),!1)),a0(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(ut(d=>{let f=new m0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),nt(d=>{let f=!1;return Y(d).pipe(R6(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Fn.NoDataFromResolver)}}))}),ut(d=>{let f=new g0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),a0(l=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(ut(g=>{f.component=g}),Z(()=>{})));for(let g of f.children)m.push(...d(g));return m};return Zc(d(l.targetSnapshot.root)).pipe(Bi(null),Ar(1))}),a0(()=>this.afterPreactivation()),nt(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?he(f).pipe(Z(()=>o)):Y(o)}),Z(l=>{let d=qq(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(I({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),ut(()=>{this.events.next(new Gl)}),Qq(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ar(1),ut({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),to(this.transitionAbortSubject.pipe(ut(l=>{throw l}))),Jc(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Fn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ui(l=>{if(u=!0,bR(l))this.events.next(new _i(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Kq(l)?this.events.next(new gu(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ql(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=ur(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Kl){let{message:m,cancellationCode:g}=Rm(this.urlSerializer,f);this.events.next(new _i(o.id,this.urlSerializer.serialize(o.extractedUrl),m,g)),this.events.next(new gu(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=r.errorHandler(l);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return tn}))}))}cancelNavigationTransition(r,i,s){let o=new _i(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z6(t){return t!==$l}var q6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(G6),providedIn:"root"});let t=e;return t})(),k0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},G6=(()=>{let e=class e extends k0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=po(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(W6),providedIn:"root"});let t=e;return t})(),W6=(()=>{let e=class e extends OR{constructor(){super(...arguments),this.location=B(Ya),this.urlSerializer=B(Jl),this.options=B(nd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(L0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ei,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_R(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof mu)this.stateMemento=this.createStateMemento();else if(r instanceof ls)this.rawUrlTree=i.initialUrl;else if(r instanceof Tm){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Gl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof _i&&(r.code===Fn.GuardRejected||r.code===Fn.NoDataFromResolver)?this.restoreHistory(i):r instanceof ql?this.restoreHistory(i,!0):r instanceof qr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Ei?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=po(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ul=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ul||{});function PR(t,e){t.events.pipe(Vt(n=>n instanceof qr||n instanceof _i||n instanceof ql||n instanceof ls),Z(n=>n instanceof qr||n instanceof ls?Ul.COMPLETE:(n instanceof _i?n.code===Fn.Redirect||n.code===Fn.SupersededByNewNavigation:!1)?Ul.REDIRECTING:Ul.FAILED),Vt(n=>n!==Ul.REDIRECTING),Ar(1)).subscribe(()=>{e()})}function K6(t){throw t}var Q6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Y6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ds=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(Qa),this.stateManager=B(OR),this.options=B(nd,{optional:!0})||{},this.pendingTasks=B(Ha),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(j0),this.urlSerializer=B(Jl),this.location=B(Ya),this.urlHandlingStrategy=B(L0),this._events=new qe,this.errorHandler=this.options.errorHandler||K6,this.navigated=!1,this.routeReuseStrategy=B(q6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Om,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(Fm,{optional:!0}),this.eventsSubscription=new at,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof _i&&i.code!==Fn.Redirect&&i.code!==Fn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qr)this.navigated=!0;else if(i instanceof gu){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=I({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||z6(s.source)},a);this.scheduleNavigation(u,$l,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}J6(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=I({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(F0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":f=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=s?s.snapshot:this.routerState.snapshot.root;m=gR(g)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return yR(m,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=bo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,$l,null,i)}navigate(r,i={skipLocationChange:!1}){return Z6(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},Q6):i===!1?s=I({},Y6):s=i,bo(r))return Y1(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Y1(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,d;a?(u=a.resolve,l=a.reject,d=a.promise):d=new Promise((m,g)=>{u=m,l=g});let f=this.pendingTasks.add();return PR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z6(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ee(4008,!1)}function J6(t){return!(t instanceof Gl)&&!(t instanceof gu)}var Zte=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(bo(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Gx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:bo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(pe(ds),pe(To),p_("tabindex"),pe(Fr),pe(lr),pe(gi))},e.\u0275dir=Wt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&be("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gl("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",go],skipLocationChange:[2,"skipLocationChange","skipLocationChange",go],replaceUrl:[2,"replaceUrl","replaceUrl",go],routerLink:"routerLink"},standalone:!0,features:[V_,Kt]});let t=e;return t})();var Pm=class{};var X6=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(r=>r instanceof qr),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=kp(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return he(s).pipe(ji())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=Y(null);let o=s.pipe(vt(a=>a===null?Y(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return he([o,a]).pipe(ji())}else return o})}};e.\u0275fac=function(i){return new(i||e)(L(ds),L(Bp),L(Sn),L(Pm),L(V0))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FR=new G(""),e9=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof mu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof qr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ls&&r.code===bm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Sm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){sM()},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function t9(t){return t.routerState.root}function rd(t,e){return{\u0275kind:t,\u0275providers:e}}function n9(){let t=B(An);return e=>{let n=t.get(ns);if(e!==n.components[0])return;let r=t.get(ds),i=t.get(VR);t.get(U0)===1&&r.initialNavigation(),t.get(LR,null,we.Optional)?.setUpPreloading(),t.get(FR,null,we.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VR=new G("",{factory:()=>new qe}),U0=new G("",{providedIn:"root",factory:()=>1});function r9(){return rd(2,[{provide:U0,useValue:0},{provide:Up,multi:!0,deps:[An],useFactory:e=>{let n=e.get(lN,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ds),s=e.get(VR);PR(i,()=>{r(!0)}),e.get(j0).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}])}function i9(){return rd(3,[{provide:Up,multi:!0,useFactory:()=>{let e=B(ds);return()=>{e.setUpLocationChangeListener()}}},{provide:U0,useValue:2}])}var LR=new G("");function s9(t){return rd(0,[{provide:LR,useExisting:X6},{provide:Pm,useExisting:t}])}function o9(){return rd(8,[eR,{provide:Fm,useExisting:eR}])}function a9(t){let e=[{provide:RR,useValue:B6},{provide:kR,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return rd(9,e)}var iR=new G("ROUTER_FORROOT_GUARD"),u9=[Ya,{provide:Jl,useClass:pu},ds,ed,{provide:To,useFactory:t9,deps:[ds]},V0,[]],Jte=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[u9,[],{provide:Om,multi:!0,useValue:r},{provide:iR,useFactory:h9,deps:[[ds,new Zi,new pp]]},{provide:nd,useValue:i||{}},i?.useHash?l9():d9(),c9(),i?.preloadingStrategy?s9(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?f9(i):[],i?.bindToComponentInputs?o9().\u0275providers:[],i?.enableViewTransitions?a9().\u0275providers:[],p9()]}}static forChild(r){return{ngModule:e,providers:[{provide:Om,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(L(iR,8))},e.\u0275mod=Nt({type:e}),e.\u0275inj=Mt({});let t=e;return t})();function c9(){return{provide:FR,useFactory:()=>{let t=B(wN),e=B(Te),n=B(nd),r=B(j0),i=B(Jl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new e9(i,r,t,e,n)}}}function l9(){return{provide:gi,useClass:hN}}function d9(){return{provide:gi,useClass:cE}}function h9(t){return"guarded"}function f9(t){return[t.initialNavigation==="disabled"?i9().\u0275providers:[],t.initialNavigation==="enabledBlocking"?r9().\u0275providers:[]]}var sR=new G("");function p9(){return[{provide:sR,useFactory:n9},{provide:z_,multi:!0,useExisting:sR}]}var jR=t=>{let e=fs.find(n=>n.id===t);return e?e.name:""},tne=t=>fs.find(e=>e.id===t),fs=[{id:"subscriptions",name:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0430",icon:"fas fa-newspaper",color:"#FFC107",includeInBalance:!1},{id:"entertainments",name:"\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435",icon:"fas fa-film",color:"#795548",includeInBalance:!0},{id:"nicotine",name:"\u0421\u0438\u0433\u0430\u0440\u0435\u0442\u044B",icon:"fas fa-smoking",color:"#FF5722",includeInBalance:!0},{id:"travel",name:"\u041F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435",icon:"fas fa-plane",color:"#009688",includeInBalance:!0},{id:"home",name:"\u0414\u043B\u044F \u0434\u043E\u043C\u0430",icon:"fas fa-home",color:"#9C27B0",includeInBalance:!0},{id:"alcohol",name:"\u0412\u044B\u043F\u0438\u0432\u043A\u0430",icon:"fas fa-wine-bottle",color:"#FF5722",includeInBalance:!0},{id:"meal",name:"\u041F\u0438\u0442\u0430\u043D\u0438\u0435",icon:"fa-solid fa-bell-concierge",color:"#474747",includeInBalance:!0},{id:"bus",name:"\u041E\u0431\u0449. \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",icon:"fas fa-bus",color:"#3F51B5",includeInBalance:!0},{id:"utility-bills",name:"\u041A\u043E\u043C\u043C\u0443\u043D\u0430\u043B\u043A\u0430",icon:"fas fa-water",color:"#2196F3",includeInBalance:!1},{id:"pharmacy",name:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",icon:"fas fa-prescription-bottle-alt",color:"#2196F3",includeInBalance:!0},{id:"barbershop",name:"\u041F\u0430\u0440\u0438\u043A\u043C\u0430\u0445\u0435\u0440\u0441\u043A\u0430\u044F",icon:"fas fa-cut",color:"#FFC107",includeInBalance:!0},{id:"electronics",name:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u0438\u043A\u0430",icon:"fas fa-tablet-alt",color:"#9E9E9E",includeInBalance:!0},{id:"clothes",name:"\u041E\u0434\u0435\u0436\u0434\u0430",icon:"fas fa-tshirt",color:"#a99e00",includeInBalance:!0},{id:"another",name:"\u0420\u0430\u0437\u043D\u043E\u0435",icon:"fas fa-random",color:"#FF5722",includeInBalance:!0},{id:"sport",name:"\u0421\u043F\u043E\u0440\u0442",icon:"fas fa-dumbbell",color:"#607D8B",includeInBalance:!1},{id:"rental-payment",name:"\u0410\u0440\u0435\u043D\u0434\u0430 \u0436\u0438\u043B\u044C\u044F",icon:"fas fa-building",color:"#673AB7",includeInBalance:!1}];var Ii=class extends Error{},Lm=class extends Ii{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},jm=class extends Ii{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Um=class extends Ii{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},mr=class extends Ii{},wu=class extends Ii{constructor(e){super(`Invalid unit ${e}`)}},lt=class extends Ii{},gr=class extends Ii{constructor(){super("Zone is an abstract class")}};var q="numeric",yr="short",Vn="long",ps={year:q,month:q,day:q},id={year:q,month:yr,day:q},B0={year:q,month:yr,day:q,weekday:yr},sd={year:q,month:Vn,day:q},od={year:q,month:Vn,day:q,weekday:Vn},ad={hour:q,minute:q},ud={hour:q,minute:q,second:q},cd={hour:q,minute:q,second:q,timeZoneName:yr},ld={hour:q,minute:q,second:q,timeZoneName:Vn},dd={hour:q,minute:q,hourCycle:"h23"},hd={hour:q,minute:q,second:q,hourCycle:"h23"},fd={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:yr},pd={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:Vn},md={year:q,month:q,day:q,hour:q,minute:q},gd={year:q,month:q,day:q,hour:q,minute:q,second:q},yd={year:q,month:yr,day:q,hour:q,minute:q},vd={year:q,month:yr,day:q,hour:q,minute:q,second:q},$0={year:q,month:yr,day:q,weekday:yr,hour:q,minute:q},wd={year:q,month:Vn,day:q,hour:q,minute:q,timeZoneName:yr},_d={year:q,month:Vn,day:q,hour:q,minute:q,second:q,timeZoneName:yr},Ed={year:q,month:Vn,day:q,weekday:Vn,hour:q,minute:q,timeZoneName:Vn},Id={year:q,month:Vn,day:q,weekday:Vn,hour:q,minute:q,second:q,timeZoneName:Vn};var Ln=class{get type(){throw new gr}get name(){throw new gr}get ianaName(){return this.name}get isUniversal(){throw new gr}offsetName(e,n){throw new gr}formatOffset(e,n){throw new gr}offset(e){throw new gr}equals(e){throw new gr}get isValid(){throw new gr}};var H0=null,So=class t extends Ln{static get instance(){return H0===null&&(H0=new t),H0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return $m(e,n,r)}formatOffset(e,n){return ms(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var zm={};function m9(t){return zm[t]||(zm[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),zm[t]}var g9={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function y9(t,e){let n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,a,u,l,d]=r;return[o,i,s,a,u,l,d]}function v9(t,e){let n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){let{type:s,value:o}=n[i],a=g9[s];s==="era"?r[a]=o:ie(a)||(r[a]=parseInt(o,10))}return r}var Hm={},hn=class t extends Ln{static create(e){return Hm[e]||(Hm[e]=new t(e)),Hm[e]}static resetCache(){Hm={},zm={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return $m(e,n,r,this.name)}formatOffset(e,n){return ms(this.offset(e),n)}offset(e){let n=new Date(e);if(isNaN(n))return NaN;let r=m9(this.name),[i,s,o,a,u,l,d]=r.formatToParts?v9(r,n):y9(r,n);a==="BC"&&(i=-Math.abs(i)+1);let m=_u({year:i,month:s,day:o,hour:u===24?0:u,minute:l,second:d,millisecond:0}),g=+n,w=g%1e3;return g-=w>=0?w:1e3+w,(m-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var UR={};function w9(t,e={}){let n=JSON.stringify([t,e]),r=UR[n];return r||(r=new Intl.ListFormat(t,e),UR[n]=r),r}var z0={};function q0(t,e={}){let n=JSON.stringify([t,e]),r=z0[n];return r||(r=new Intl.DateTimeFormat(t,e),z0[n]=r),r}var G0={};function _9(t,e={}){let n=JSON.stringify([t,e]),r=G0[n];return r||(r=new Intl.NumberFormat(t,e),G0[n]=r),r}var W0={};function E9(t,e={}){let o=e,{base:n}=o,r=uv(o,["base"]),i=JSON.stringify([t,r]),s=W0[i];return s||(s=new Intl.RelativeTimeFormat(t,e),W0[i]=s),s}var Dd=null;function I9(){return Dd||(Dd=new Intl.DateTimeFormat().resolvedOptions().locale,Dd)}var BR={};function D9(t){let e=BR[t];if(!e){let n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,BR[t]=e}return e}function C9(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=q0(t).resolvedOptions(),i=t}catch{let u=t.substring(0,n);r=q0(u).resolvedOptions(),i=u}let{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function b9(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function T9(t){let e=[];for(let n=1;n<=12;n++){let r=le.utc(2009,n,1);e.push(t(r))}return e}function S9(t){let e=[];for(let n=1;n<=7;n++){let r=le.utc(2016,11,13+n);e.push(t(r))}return e}function qm(t,e,n,r){let i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function A9(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var K0=class{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let a=r,{padTo:i,floor:s}=a,o=uv(a,["padTo","floor"]);if(!n||Object.keys(o).length>0){let u=I({useGrouping:!1},r);r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=_9(e,u)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):Eu(e,3);return it(n,this.padTo)}}},Q0=class{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&hn.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let s=I({},this.opts);s.timeZone=s.timeZone||i,this.dtf=q0(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){let r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return z(I({},n),{value:r})}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},Y0=class{constructor(e,n,r){this.opts=I({style:"long"},r),!n&&Gm()&&(this.rtf=E9(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):$R(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},x9={firstDay:1,minimalDays:4,weekend:[6,7]},Pe=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){let o=e||Oe.defaultLocale,a=o||(s?"en-US":I9()),u=n||Oe.defaultNumberingSystem,l=r||Oe.defaultOutputCalendar,d=Cd(i)||Oe.defaultWeekSettings;return new t(a,u,l,d,o)}static resetCache(){Dd=null,z0={},G0={},W0={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return t.create(e,n,r,i)}constructor(e,n,r,i,s){let[o,a,u]=C9(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=b9(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=A9(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Cd(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(z(I({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(z(I({},e),{defaultToEN:!1}))}months(e,n=!1){return qm(this,e,Z0,()=>{let r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=T9(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return qm(this,e,J0,()=>{let r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=S9(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return qm(this,void 0,()=>X0,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[le.utc(2016,11,13,9),le.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return qm(this,e,eI,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[le.utc(-40,1,1),le.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){let i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new K0(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Q0(e,this.intl,n)}relFormatter(e={}){return new Y0(this.intl,this.isEnglish(),e)}listFormatter(e={}){return w9(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Wm()?D9(this.locale):x9}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var nI=null,jt=class t extends Ln{static get utcInstance(){return nI===null&&(nI=new t(0)),nI}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(Ao(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ms(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ms(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return ms(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var bd=class extends Ln{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function vr(t,e){let n;if(ie(t)||t===null)return e;if(t instanceof Ln)return t;if(HR(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?So.instance:r==="utc"||r==="gmt"?jt.utcInstance:jt.parseSpecifier(r)||hn.create(t)}else return wr(t)?jt.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new bd(t)}var rI={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},zR={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},M9=rI.hanidec.replace(/[\[|\]]/g,"").split("");function qR(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(t[n].search(rI.hanidec)!==-1)e+=M9.indexOf(t[n]);else for(let i in zR){let[s,o]=zR[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}var Iu={};function GR(){Iu={}}function Wn({numberingSystem:t},e=""){let n=t||"latn";return Iu[n]||(Iu[n]={}),Iu[n][e]||(Iu[n][e]=new RegExp(`${rI[n]}${e}`)),Iu[n][e]}var WR=()=>Date.now(),KR="system",QR=null,YR=null,ZR=null,JR=60,XR,ek=null,Oe=class{static get now(){return WR}static set now(e){WR=e}static set defaultZone(e){KR=e}static get defaultZone(){return vr(KR,So.instance)}static get defaultLocale(){return QR}static set defaultLocale(e){QR=e}static get defaultNumberingSystem(){return YR}static set defaultNumberingSystem(e){YR=e}static get defaultOutputCalendar(){return ZR}static set defaultOutputCalendar(e){ZR=e}static get defaultWeekSettings(){return ek}static set defaultWeekSettings(e){ek=Cd(e)}static get twoDigitCutoffYear(){return JR}static set twoDigitCutoffYear(e){JR=e%100}static get throwOnInvalid(){return XR}static set throwOnInvalid(e){XR=e}static resetCaches(){Pe.resetCache(),hn.resetCache(),le.resetCache(),GR()}};var Ut=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var tk=[0,31,59,90,120,151,181,212,243,273,304,334],nk=[0,31,60,91,121,152,182,213,244,274,305,335];function Kn(t,e){return new Ut("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Km(t,e,n){let r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let i=r.getUTCDay();return i===0?7:i}function rk(t,e,n){return n+(Mo(t)?nk:tk)[e-1]}function ik(t,e){let n=Mo(t)?nk:tk,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Qm(t,e){return(t-e+7)%7+1}function Td(t,e=4,n=1){let{year:r,month:i,day:s}=t,o=rk(r,i,s),a=Qm(Km(r,i,s),n),u=Math.floor((o-a+14-e)/7),l;return u<1?(l=r-1,u=xo(l,e,n)):u>xo(r,e,n)?(l=r+1,u=1):l=r,I({weekYear:l,weekNumber:u,weekday:a},Ad(t))}function iI(t,e=4,n=1){let{weekYear:r,weekNumber:i,weekday:s}=t,o=Qm(Km(r,1,e),n),a=gs(r),u=i*7+s-o-7+e,l;u<1?(l=r-1,u+=gs(l)):u>a?(l=r+1,u-=gs(r)):l=r;let{month:d,day:f}=ik(l,u);return I({year:l,month:d,day:f},Ad(t))}function Ym(t){let{year:e,month:n,day:r}=t,i=rk(e,n,r);return I({year:e,ordinal:i},Ad(t))}function sI(t){let{year:e,ordinal:n}=t,{month:r,day:i}=ik(e,n);return I({year:e,month:r,day:i},Ad(t))}function oI(t,e){if(!ie(t.localWeekday)||!ie(t.localWeekNumber)||!ie(t.localWeekYear)){if(!ie(t.weekday)||!ie(t.weekNumber)||!ie(t.weekYear))throw new mr("Cannot mix locale-based week fields with ISO-based week fields");return ie(t.localWeekday)||(t.weekday=t.localWeekday),ie(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ie(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function sk(t,e=4,n=1){let r=Sd(t.weekYear),i=jn(t.weekNumber,1,xo(t.weekYear,e,n)),s=jn(t.weekday,1,7);return r?i?s?!1:Kn("weekday",t.weekday):Kn("week",t.weekNumber):Kn("weekYear",t.weekYear)}function ok(t){let e=Sd(t.year),n=jn(t.ordinal,1,gs(t.year));return e?n?!1:Kn("ordinal",t.ordinal):Kn("year",t.year)}function aI(t){let e=Sd(t.year),n=jn(t.month,1,12),r=jn(t.day,1,Du(t.year,t.month));return e?n?r?!1:Kn("day",t.day):Kn("month",t.month):Kn("year",t.year)}function uI(t){let{hour:e,minute:n,second:r,millisecond:i}=t,s=jn(e,0,23)||e===24&&n===0&&r===0&&i===0,o=jn(n,0,59),a=jn(r,0,59),u=jn(i,0,999);return s?o?a?u?!1:Kn("millisecond",i):Kn("second",r):Kn("minute",n):Kn("hour",e)}function ie(t){return typeof t>"u"}function wr(t){return typeof t=="number"}function Sd(t){return typeof t=="number"&&t%1===0}function HR(t){return typeof t=="string"}function uk(t){return Object.prototype.toString.call(t)==="[object Date]"}function Gm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Wm(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ck(t){return Array.isArray(t)?t:[t]}function cI(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{let s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function lk(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cd(t){if(t==null)return null;if(typeof t!="object")throw new lt("Week settings must be an object");if(!jn(t.firstDay,1,7)||!jn(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!jn(e,1,7)))throw new lt("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function jn(t,e,n){return Sd(t)&&t>=e&&t<=n}function N9(t,e){return t-e*Math.floor(t/e)}function it(t,e=2){let n=t<0,r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Di(t){if(!(ie(t)||t===null||t===""))return parseInt(t,10)}function vs(t){if(!(ie(t)||t===null||t===""))return parseFloat(t)}function xd(t){if(!(ie(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Eu(t,e,n=!1){let r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Mo(t){return t%4===0&&(t%100!==0||t%400===0)}function gs(t){return Mo(t)?366:365}function Du(t,e){let n=N9(e-1,12)+1,r=t+(e-n)/12;return n===2?Mo(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function _u(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ak(t,e,n){return-Qm(Km(t,1,e),n)+e-1}function xo(t,e=4,n=1){let r=ak(t,e,n),i=ak(t+1,e,n);return(gs(t)-r+i)/7}function Md(t){return t>99?t:t>Oe.twoDigitCutoffYear?1900+t:2e3+t}function $m(t,e,n,r=null){let i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);let o=I({timeZoneName:e},s),a=new Intl.DateTimeFormat(n,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return a?a.value:null}function Ao(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);let r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function lI(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new lt(`Invalid unit value ${t}`);return e}function Cu(t,e){let n={};for(let r in t)if(ys(t,r)){let i=t[r];if(i==null)continue;n[e(r)]=lI(i)}return n}function ms(t,e){let n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${it(n,2)}:${it(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${it(n,2)}${it(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Ad(t){return lk(t,["hour","minute","second","millisecond"])}var R9=["January","February","March","April","May","June","July","August","September","October","November","December"],dI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k9=["J","F","M","A","M","J","J","A","S","O","N","D"];function Z0(t){switch(t){case"narrow":return[...k9];case"short":return[...dI];case"long":return[...R9];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var hI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],O9=["M","T","W","T","F","S","S"];function J0(t){switch(t){case"narrow":return[...O9];case"short":return[...fI];case"long":return[...hI];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var X0=["AM","PM"],P9=["Before Christ","Anno Domini"],F9=["BC","AD"],V9=["B","A"];function eI(t){switch(t){case"narrow":return[...V9];case"short":return[...F9];case"long":return[...P9];default:return null}}function dk(t){return X0[t.hour<12?0:1]}function hk(t,e){return J0(e)[t.weekday-1]}function fk(t,e){return Z0(e)[t.month-1]}function pk(t,e){return eI(e)[t.year<0?0:1]}function $R(t,e,n="always",r=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){let f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`;default:}}let o=Object.is(e,-0)||e<0,a=Math.abs(e),u=a===1,l=i[t],d=r?u?l[1]:l[2]||l[1]:u?i[t][0]:t;return o?`${a} ${d} ago`:`in ${a} ${d}`}function mk(t,e){let n="";for(let r of t)r.literal?n+=r.val:n+=e(r.val);return n}var L9={D:ps,DD:id,DDD:sd,DDDD:od,t:ad,tt:ud,ttt:cd,tttt:ld,T:dd,TT:hd,TTT:fd,TTTT:pd,f:md,ff:yd,fff:wd,ffff:Ed,F:gd,FF:vd,FFF:_d,FFFF:Id},Bt=class t{static create(e,n={}){return new t(e,n)}static parseFormat(e){let n=null,r="",i=!1,s=[];for(let o=0;o<e.length;o++){let a=e.charAt(o);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||a===n?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,n=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return L9[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,I(I({},this.opts),n)).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,I(I({},this.opts),n))}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return it(e,n);let r=I({},this.opts);return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){let r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(g,w)=>this.loc.extract(e,g,w),o=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",a=()=>r?dk(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(g,w)=>r?fk(e,g):s(w?{month:g}:{month:g,day:"numeric"},"month"),l=(g,w)=>r?hk(e,g):s(w?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),d=g=>{let w=t.macroTokenToFormatOpts(g);return w?this.formatWithSystemDefault(e,w):g},f=g=>r?pk(e,g):s({era:g},"era"),m=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(g)}};return mk(t.parseFormat(n),m)}formatDurationFromString(e,n){let r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>l=>{let d=r(l);return d?this.num(u.get(d),l.length):l},s=t.parseFormat(n),o=s.reduce((u,{literal:l,val:d})=>l?u:u.concat(d),[]),a=e.shiftTo(...o.map(r).filter(u=>u));return mk(s,i(a))}};var yk=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Tu(...t){let e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Su(...t){return e=>t.reduce(([n,r,i],s)=>{let[o,a,u]=s(e,i);return[I(I({},n),o),a||r,u]},[{},null,1]).slice(0,2)}function Au(t,...e){if(t==null)return[null,null];for(let[n,r]of e){let i=n.exec(t);if(i)return r(i)}return[null,null]}function vk(...t){return(e,n)=>{let r={},i;for(i=0;i<t.length;i++)r[t[i]]=Di(e[n+i]);return[r,null,n+i]}}var wk=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,j9=`(?:${wk.source}?(?:\\[(${yk.source})\\])?)?`,pI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_k=RegExp(`${pI.source}${j9}`),mI=RegExp(`(?:T${_k.source})?`),U9=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,B9=/(\d{4})-?W(\d\d)(?:-?(\d))?/,$9=/(\d{4})-?(\d{3})/,H9=vk("weekYear","weekNumber","weekDay"),z9=vk("year","ordinal"),q9=/(\d{4})-(\d\d)-(\d\d)/,Ek=RegExp(`${pI.source} ?(?:${wk.source}|(${yk.source}))?`),G9=RegExp(`(?: ${Ek.source})?`);function bu(t,e,n){let r=t[e];return ie(r)?n:Di(r)}function W9(t,e){return[{year:bu(t,e),month:bu(t,e+1,1),day:bu(t,e+2,1)},null,e+3]}function xu(t,e){return[{hours:bu(t,e,0),minutes:bu(t,e+1,0),seconds:bu(t,e+2,0),milliseconds:xd(t[e+3])},null,e+4]}function Nd(t,e){let n=!t[e]&&!t[e+1],r=Ao(t[e+1],t[e+2]),i=n?null:jt.instance(r);return[{},i,e+3]}function Rd(t,e){let n=t[e]?hn.create(t[e]):null;return[{},n,e+1]}var K9=RegExp(`^T?${pI.source}$`),Q9=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Y9(t){let[e,n,r,i,s,o,a,u,l]=t,d=e[0]==="-",f=u&&u[0]==="-",m=(g,w=!1)=>g!==void 0&&(w||g&&d)?-g:g;return[{years:m(vs(n)),months:m(vs(r)),weeks:m(vs(i)),days:m(vs(s)),hours:m(vs(o)),minutes:m(vs(a)),seconds:m(vs(u),u==="-0"),milliseconds:m(xd(l),f)}]}var Z9={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gI(t,e,n,r,i,s,o){let a={year:e.length===2?Md(Di(e)):Di(e),month:dI.indexOf(n)+1,day:Di(r),hour:Di(i),minute:Di(s)};return o&&(a.second=Di(o)),t&&(a.weekday=t.length>3?hI.indexOf(t)+1:fI.indexOf(t)+1),a}var J9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function X9(t){let[,e,n,r,i,s,o,a,u,l,d,f]=t,m=gI(e,i,r,n,s,o,a),g;return u?g=Z9[u]:l?g=0:g=Ao(d,f),[m,new jt(g)]}function e5(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var t5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,n5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,r5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gk(t){let[,e,n,r,i,s,o,a]=t;return[gI(e,i,r,n,s,o,a),jt.utcInstance]}function i5(t){let[,e,n,r,i,s,o,a]=t;return[gI(e,a,n,r,i,s,o),jt.utcInstance]}var s5=Tu(U9,mI),o5=Tu(B9,mI),a5=Tu($9,mI),u5=Tu(_k),Ik=Su(W9,xu,Nd,Rd),c5=Su(H9,xu,Nd,Rd),l5=Su(z9,xu,Nd,Rd),d5=Su(xu,Nd,Rd);function Dk(t){return Au(t,[s5,Ik],[o5,c5],[a5,l5],[u5,d5])}function Ck(t){return Au(e5(t),[J9,X9])}function bk(t){return Au(t,[t5,gk],[n5,gk],[r5,i5])}function Tk(t){return Au(t,[Q9,Y9])}var h5=Su(xu);function Sk(t){return Au(t,[K9,h5])}var f5=Tu(q9,G9),p5=Tu(Ek),m5=Su(xu,Nd,Rd);function Ak(t){return Au(t,[f5,Ik],[p5,m5])}var xk="Invalid Duration",Nk={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},g5=I({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Nk),Qn=146097/400,Mu=146097/4800,y5=I({years:{quarters:4,months:12,weeks:Qn/7,days:Qn,hours:Qn*24,minutes:Qn*24*60,seconds:Qn*24*60*60,milliseconds:Qn*24*60*60*1e3},quarters:{months:3,weeks:Qn/28,days:Qn/4,hours:Qn*24/4,minutes:Qn*24*60/4,seconds:Qn*24*60*60/4,milliseconds:Qn*24*60*60*1e3/4},months:{weeks:Mu/7,days:Mu,hours:Mu*24,minutes:Mu*24*60,seconds:Mu*24*60*60,milliseconds:Mu*24*60*60*1e3}},Nk),No=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],v5=No.slice(0).reverse();function ws(t,e,n=!1){let r={values:n?e.values:I(I({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new dt(r)}function Rk(t,e){let n=e.milliseconds??0;for(let r of v5.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function Mk(t,e){let n=Rk(t,e)<0?-1:1;No.reduceRight((r,i)=>{if(ie(e[i]))return r;if(r){let s=e[r]*n,o=t[i][r],a=Math.floor(s/o);e[i]+=a*n,e[r]-=a*o*n}return i},null),No.reduce((r,i)=>{if(ie(e[i]))return r;if(r){let s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function w5(t){let e={};for(let[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}var dt=class t{constructor(e){let n=e.conversionAccuracy==="longterm"||!1,r=n?y5:g5;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Pe.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return t.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new lt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:Cu(e,t.normalizeUnit),loc:Pe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(wr(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new lt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[r]=Tk(e);return r?t.fromObject(r,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[r]=Sk(e);return r?t.fromObject(r,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new lt("need to specify a reason the Duration is invalid");let r=e instanceof Ut?e:new Ut(e,n);if(Oe.throwOnInvalid)throw new Um(r);return new t({invalid:r})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new wu(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let r=z(I({},n),{floor:n.round!==!1&&n.floor!==!1});return this.isValid?Bt.create(this.loc,r).formatDurationFromString(this,e):xk}toHuman(e={}){if(!this.isValid)return xk;let n=No.map(r=>{let i=this.values[r];return ie(i)?null:this.loc.numberFormatter(z(I({style:"unit",unitDisplay:"long"},e),{unit:r.slice(0,-1)})).format(i)}).filter(r=>r);return this.loc.listFormatter(I({type:"conjunction",style:e.listStyle||"narrow"},e)).format(n)}toObject(){return this.isValid?I({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Eu(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();return n<0||n>=864e5?null:(e=z(I({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{includeOffset:!1}),le.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Rk(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e),r={};for(let i of No)(ys(n.values,i)||ys(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ws(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let r of Object.keys(this.values))n[r]=lI(e(this.values[r],r));return ws(this,{values:n},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n=I(I({},this.values),Cu(e,t.normalizeUnit));return ws(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ws(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Mk(this.matrix,e),ws(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=w5(this.normalize().shiftToAll().toObject());return ws(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>t.normalizeUnit(o));let n={},r={},i=this.toObject(),s;for(let o of No)if(e.indexOf(o)>=0){s=o;let a=0;for(let l in r)a+=this.matrix[l][o]*r[l],r[l]=0;wr(i[o])&&(a+=i[o]);let u=Math.trunc(a);n[o]=u,r[o]=(a*1e3-u*1e3)/1e3}else wr(i[o])&&(r[o]=i[o]);for(let o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return Mk(this.matrix,n),ws(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ws(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(let r of No)if(!n(this.values[r],e.values[r]))return!1;return!0}};var Nu="Invalid Interval";function _5(t,e){return!t||!t.isValid?_s.invalid("missing or invalid start"):!e||!e.isValid?_s.invalid("missing or invalid end"):e<t?_s.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var _s=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new lt("need to specify a reason the Interval is invalid");let r=e instanceof Ut?e:new Ut(e,n);if(Oe.throwOnInvalid)throw new jm(r);return new t({invalid:r})}static fromDateTimes(e,n){let r=Ru(e),i=Ru(n),s=_5(r,i);return s??new t({start:r,end:i})}static after(e,n){let r=dt.fromDurationLike(n),i=Ru(e);return t.fromDateTimes(i,i.plus(r))}static before(e,n){let r=dt.fromDurationLike(n),i=Ru(e);return t.fromDateTimes(i.minus(r),i)}static fromISO(e,n){let[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=le.fromISO(r,n),o=s.isValid}catch{o=!1}let a,u;try{a=le.fromISO(i,n),u=a.isValid}catch{u=!1}if(o&&u)return t.fromDateTimes(s,a);if(o){let l=dt.fromISO(i,n);if(l.isValid)return t.after(s,l)}else if(u){let l=dt.fromISO(r,n);if(l.isValid)return t.before(a,l)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;let r=this.start.startOf(e,n),i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?t.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map(Ru).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[],{s:i}=this,s=0;for(;i<this.e;){let o=n[s]||this.e,a=+o>+this.e?this.e:o;r.push(t.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(e){let n=dt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s,o=[];for(;r<this.e;){let a=this.start.plus(n.mapUnits(u=>u*i));s=+a>+this.e?this.e:a,o.push(t.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:t.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return t.fromDateTimes(n,r)}static merge(e){let[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0,i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((u,l)=>u.time-l.time);for(let u of a)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(t.fromDateTimes(n,u.time)),n=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Nu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ps,n={}){return this.isValid?Bt.create(this.s.loc.clone(n),e).formatInterval(this):Nu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Nu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Nu}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Nu}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):dt.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}};var Es=class{static hasDST(e=Oe.defaultZone){let n=le.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return hn.isValidZone(e)}static normalizeZone(e){return vr(e,Oe.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Pe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Pe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Pe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Pe.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Pe.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Pe.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Pe.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Pe.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Pe.create(n,null,"gregory").eras(e)}static features(){return{relative:Gm(),localeWeek:Wm()}}};function kk(t,e){let n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(dt.fromMillis(r).as("days"))}function E5(t,e,n){let r=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let d=kk(u,l);return(d-d%7)/7}],["days",kk]],i={},s=t,o,a;for(let[u,l]of r)n.indexOf(u)>=0&&(o=u,i[u]=l(t,e),a=s.plus(i),a>e?(i[u]--,t=s.plus(i),t>e&&(a=t,i[u]--,t=s.plus(i))):t=a);return[t,i,a,o]}function Ok(t,e,n,r){let[i,s,o,a]=E5(t,e,n),u=e-i,l=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);l.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+u/(o-i)));let d=dt.fromObject(s,r);return l.length>0?dt.fromMillis(u,r).shiftTo(...l).plus(d):d}var I5="missing Intl.DateTimeFormat.formatToParts support";function Fe(t,e=n=>n){return{regex:t,deser:([n])=>e(qR(n))}}var D5="\xA0",Vk=`[ ${D5}]`,Lk=new RegExp(Vk,"g");function C5(t){return t.replace(/\./g,"\\.?").replace(Lk,Vk)}function Pk(t){return t.replace(/\./g,"").replace(Lk," ").toLowerCase()}function _r(t,e){return t===null?null:{regex:RegExp(t.map(C5).join("|")),deser:([n])=>t.findIndex(r=>Pk(n)===Pk(r))+e}}function Fk(t,e){return{regex:t,deser:([,n,r])=>Ao(n,r),groups:e}}function Zm(t){return{regex:t,deser:([e])=>e}}function b5(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function T5(t,e){let n=Wn(e),r=Wn(e,"{2}"),i=Wn(e,"{3}"),s=Wn(e,"{4}"),o=Wn(e,"{6}"),a=Wn(e,"{1,2}"),u=Wn(e,"{1,3}"),l=Wn(e,"{1,6}"),d=Wn(e,"{1,9}"),f=Wn(e,"{2,4}"),m=Wn(e,"{4,6}"),g=T=>({regex:RegExp(b5(T.val)),deser:([O])=>O,literal:!0}),b=(T=>{if(t.literal)return g(T);switch(T.val){case"G":return _r(e.eras("short"),0);case"GG":return _r(e.eras("long"),0);case"y":return Fe(l);case"yy":return Fe(f,Md);case"yyyy":return Fe(s);case"yyyyy":return Fe(m);case"yyyyyy":return Fe(o);case"M":return Fe(a);case"MM":return Fe(r);case"MMM":return _r(e.months("short",!0),1);case"MMMM":return _r(e.months("long",!0),1);case"L":return Fe(a);case"LL":return Fe(r);case"LLL":return _r(e.months("short",!1),1);case"LLLL":return _r(e.months("long",!1),1);case"d":return Fe(a);case"dd":return Fe(r);case"o":return Fe(u);case"ooo":return Fe(i);case"HH":return Fe(r);case"H":return Fe(a);case"hh":return Fe(r);case"h":return Fe(a);case"mm":return Fe(r);case"m":return Fe(a);case"q":return Fe(a);case"qq":return Fe(r);case"s":return Fe(a);case"ss":return Fe(r);case"S":return Fe(u);case"SSS":return Fe(i);case"u":return Zm(d);case"uu":return Zm(a);case"uuu":return Fe(n);case"a":return _r(e.meridiems(),0);case"kkkk":return Fe(s);case"kk":return Fe(f,Md);case"W":return Fe(a);case"WW":return Fe(r);case"E":case"c":return Fe(n);case"EEE":return _r(e.weekdays("short",!1),1);case"EEEE":return _r(e.weekdays("long",!1),1);case"ccc":return _r(e.weekdays("short",!0),1);case"cccc":return _r(e.weekdays("long",!0),1);case"Z":case"ZZ":return Fk(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Fk(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Zm(/[a-z_+-/]{1,256}?/i);case" ":return Zm(/[^\S\n\r]/);default:return g(T)}})(t)||{invalidReason:I5};return b.token=t,b}var S5={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function A5(t,e,n){let{type:r,value:i}=t;if(r==="literal"){let u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}let s=e[r],o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=S5[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function x5(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function M5(t,e,n){let r=t.match(e);if(r){let i={},s=1;for(let o in n)if(ys(n,o)){let a=n[o],u=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function N5(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,r;return ie(t.z)||(n=hn.create(t.z)),ie(t.Z)||(n||(n=new jt(t.Z)),r=t.Z),ie(t.q)||(t.M=(t.q-1)*3+1),ie(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ie(t.u)||(t.S=xd(t.u)),[Object.keys(t).reduce((s,o)=>{let a=e(o);return a&&(s[a]=t[o]),s},{}),n,r]}var yI=null;function R5(){return yI||(yI=le.fromMillis(1555555555555)),yI}function k5(t,e){if(t.literal)return t;let n=Bt.macroTokenToFormatOpts(t.val),r=_I(n,e);return r==null||r.includes(void 0)?t:r}function vI(t,e){return Array.prototype.concat(...t.map(n=>k5(n,e)))}var kd=class{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=vI(Bt.parseFormat(n),e),this.units=this.tokens.map(r=>T5(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){let[r,i]=x5(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){let[n,r]=M5(e,this.regex,this.handlers),[i,s,o]=r?N5(r):[null,null,void 0];if(ys(r,"a")&&ys(r,"H"))throw new mr("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function wI(t,e,n){return new kd(t,n).explainFromTokens(e)}function jk(t,e,n){let{result:r,zone:i,specificOffset:s,invalidReason:o}=wI(t,e,n);return[r,i,s,o]}function _I(t,e){if(!t)return null;let r=Bt.create(e,t).dtFormatter(R5()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>A5(o,t,s))}var EI="Invalid DateTime",Uk=864e13;function Od(t){return new Ut("unsupported zone",`the zone "${t.name}" is not supported`)}function II(t){return t.weekData===null&&(t.weekData=Td(t.c)),t.weekData}function DI(t){return t.localWeekData===null&&(t.localWeekData=Td(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ro(t,e){let n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new le(z(I(I({},n),e),{old:n}))}function Wk(t,e,n){let r=t-e*60*1e3,i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;let s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Jm(t,e){t+=e*60*1e3;let n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function eg(t,e,n){return Wk(_u(t),e,n)}function Bk(t,e){let n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=z(I({},t.c),{year:r,month:i,day:Math.min(t.c.day,Du(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=dt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=_u(s),[u,l]=Wk(a,n,t.zone);return o!==0&&(u+=o,l=t.zone.offset(u)),{ts:u,o:l}}function ku(t,e,n,r,i,s){let{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){let u=e||a,l=le.fromObject(t,z(I({},n),{zone:u,specificOffset:s}));return o?l:l.setZone(a)}else return le.invalid(new Ut("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Xm(t,e,n=!0){return t.isValid?Bt.create(Pe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function CI(t,e){let n=t.c.year>9999||t.c.year<0,r="";return n&&t.c.year>=0&&(r+="+"),r+=it(t.c.year,n?6:4),e?(r+="-",r+=it(t.c.month),r+="-",r+=it(t.c.day)):(r+=it(t.c.month),r+=it(t.c.day)),r}function $k(t,e,n,r,i,s){let o=it(t.c.hour);return e?(o+=":",o+=it(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=it(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=it(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=it(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=it(Math.trunc(-t.o/60)),o+=":",o+=it(Math.trunc(-t.o%60))):(o+="+",o+=it(Math.trunc(t.o/60)),o+=":",o+=it(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}var Kk={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},O5={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},P5={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Qk=["year","month","day","hour","minute","second","millisecond"],F5=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],V5=["year","ordinal","hour","minute","second","millisecond"];function L5(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new wu(t);return e}function Hk(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return L5(t)}}function j5(t){return ng[t]||(tg===void 0&&(tg=Oe.now()),ng[t]=t.offset(tg)),ng[t]}function zk(t,e){let n=vr(e.zone,Oe.defaultZone);if(!n.isValid)return le.invalid(Od(n));let r=Pe.fromObject(e),i,s;if(ie(t.year))i=Oe.now();else{for(let u of Qk)ie(t[u])&&(t[u]=Kk[u]);let o=aI(t)||uI(t);if(o)return le.invalid(o);let a=j5(n);[i,s]=eg(t,a,n)}return new le({ts:i,zone:n,loc:r,o:s})}function qk(t,e,n){let r=ie(n.round)?!0:n.round,i=(o,a)=>(o=Eu(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(let o of n.units){let a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function Gk(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}var tg,ng={},le=class t{constructor(e){let n=e.zone||Oe.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new Ut("invalid input"):null)||(n.isValid?null:Od(n));this.ts=ie(e.ts)?Oe.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{let a=wr(e.o)&&!e.old?e.o:n.offset(this.ts);i=Jm(this.ts,a),r=Number.isNaN(i.year)?new Ut("invalid input"):null,i=r?null:i,s=r?null:a}this._zone=n,this.loc=e.loc||Pe.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,n]=Gk(arguments),[r,i,s,o,a,u,l]=n;return zk({year:r,month:i,day:s,hour:o,minute:a,second:u,millisecond:l},e)}static utc(){let[e,n]=Gk(arguments),[r,i,s,o,a,u,l]=n;return e.zone=jt.utcInstance,zk({year:r,month:i,day:s,hour:o,minute:a,second:u,millisecond:l},e)}static fromJSDate(e,n={}){let r=uk(e)?e.valueOf():NaN;if(Number.isNaN(r))return t.invalid("invalid input");let i=vr(n.zone,Oe.defaultZone);return i.isValid?new t({ts:r,zone:i,loc:Pe.fromObject(n)}):t.invalid(Od(i))}static fromMillis(e,n={}){if(wr(e))return e<-Uk||e>Uk?t.invalid("Timestamp out of range"):new t({ts:e,zone:vr(n.zone,Oe.defaultZone),loc:Pe.fromObject(n)});throw new lt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(wr(e))return new t({ts:e*1e3,zone:vr(n.zone,Oe.defaultZone),loc:Pe.fromObject(n)});throw new lt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let r=vr(n.zone,Oe.defaultZone);if(!r.isValid)return t.invalid(Od(r));let i=Pe.fromObject(n),s=Cu(e,Hk),{minDaysInFirstWeek:o,startOfWeek:a}=oI(s,i),u=Oe.now(),l=ie(n.specificOffset)?r.offset(u):n.specificOffset,d=!ie(s.ordinal),f=!ie(s.year),m=!ie(s.month)||!ie(s.day),g=f||m,w=s.weekYear||s.weekNumber;if((g||d)&&w)throw new mr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new mr("Can't mix ordinal dates with month/day");let b=w||s.weekday&&!g,T,O,j=Jm(u,l);b?(T=F5,O=O5,j=Td(j,o,a)):d?(T=V5,O=P5,j=Ym(j)):(T=Qk,O=Kk);let P=!1;for(let C of T){let S=s[C];ie(S)?P?s[C]=O[C]:s[C]=j[C]:P=!0}let K=b?sk(s,o,a):d?ok(s):aI(s),X=K||uI(s);if(X)return t.invalid(X);let ne=b?iI(s,o,a):d?sI(s):s,[D,v]=eg(ne,l,r),_=new t({ts:D,zone:r,o:v,loc:i});return s.weekday&&g&&e.weekday!==_.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${_.toISO()}`):_.isValid?_:t.invalid(_.invalid)}static fromISO(e,n={}){let[r,i]=Dk(e);return ku(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[r,i]=Ck(e);return ku(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[r,i]=bk(e);return ku(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ie(e)||ie(n))throw new lt("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:s=null}=r,o=Pe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,u,l,d]=jk(o,e,n);return d?t.invalid(d):ku(a,u,r,`format ${n}`,e,l)}static fromString(e,n,r={}){return t.fromFormat(e,n,r)}static fromSQL(e,n={}){let[r,i]=Ak(e);return ku(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new lt("need to specify a reason the DateTime is invalid");let r=e instanceof Ut?e:new Ut(e,n);if(Oe.throwOnInvalid)throw new Lm(r);return new t({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){let r=_I(e,Pe.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return vI(Bt.parseFormat(e),Pe.fromObject(n)).map(i=>i.val).join("")}static resetCache(){tg=void 0,ng={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?II(this).weekYear:NaN}get weekNumber(){return this.isValid?II(this).weekNumber:NaN}get weekday(){return this.isValid?II(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?DI(this).weekday:NaN}get localWeekNumber(){return this.isValid?DI(this).weekNumber:NaN}get localWeekYear(){return this.isValid?DI(this).weekYear:NaN}get ordinal(){return this.isValid?Ym(this.c).ordinal:NaN}get monthShort(){return this.isValid?Es.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Es.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Es.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Es.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,n=6e4,r=_u(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),a=this.zone.offset(r-s*n);if(o===a)return[this];let u=r-o*n,l=r-a*n,d=Jm(u,o),f=Jm(l,a);return d.hour===f.hour&&d.minute===f.minute&&d.second===f.second&&d.millisecond===f.millisecond?[Ro(this,{ts:u}),Ro(this,{ts:l})]:[this]}get isInLeapYear(){return Mo(this.year)}get daysInMonth(){return Du(this.year,this.month)}get daysInYear(){return this.isValid?gs(this.year):NaN}get weeksInWeekYear(){return this.isValid?xo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:r,calendar:i}=Bt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(jt.instance(e),n)}toLocal(){return this.setZone(Oe.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=vr(e,Oe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){let s=e.offset(this.ts),o=this.toObject();[i]=eg(o,s,e)}return Ro(this,{ts:i,zone:e})}else return t.invalid(Od(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){let i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ro(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=Cu(e,Hk),{minDaysInFirstWeek:r,startOfWeek:i}=oI(n,this.loc),s=!ie(n.weekYear)||!ie(n.weekNumber)||!ie(n.weekday),o=!ie(n.ordinal),a=!ie(n.year),u=!ie(n.month)||!ie(n.day),l=a||u,d=n.weekYear||n.weekNumber;if((l||o)&&d)throw new mr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new mr("Can't mix ordinal dates with month/day");let f;s?f=iI(I(I({},Td(this.c,r,i)),n),r,i):ie(n.ordinal)?(f=I(I({},this.toObject()),n),ie(n.day)&&(f.day=Math.min(Du(f.year,f.month),f.day))):f=sI(I(I({},Ym(this.c)),n));let[m,g]=eg(f,this.o,this.zone);return Ro(this,{ts:m,o:g})}plus(e){if(!this.isValid)return this;let n=dt.fromDurationLike(e);return Ro(this,Bk(this,n))}minus(e){if(!this.isValid)return this;let n=dt.fromDurationLike(e).negate();return Ro(this,Bk(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;let r={},i=dt.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break;case"milliseconds":break}if(i==="weeks")if(n){let s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){let s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Bt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):EI}toLocaleString(e=ps,n={}){return this.isValid?Bt.create(this.loc.clone(n),e).formatDateTime(this):EI}toLocaleParts(e={}){return this.isValid?Bt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let o=e==="extended",a=CI(this,o);return a+="T",a+=$k(this,o,n,r,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?CI(this,e==="extended"):null}toISOWeekDate(){return Xm(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+$k(this,o==="extended",n,e,r,s):null}toRFC2822(){return Xm(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Xm(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?CI(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Xm(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():EI}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n=I({},this.c);return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return dt.invalid("created by diffing an invalid DateTime");let i=I({locale:this.locale,numberingSystem:this.numberingSystem},r),s=ck(n).map(dt.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,u=o?e:this,l=Ok(a,u,s,i);return o?l.negate():l}diffNow(e="milliseconds",n={}){return this.diff(t.now(),e,n)}until(e){return this.isValid?_s.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;let i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||t.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),qk(n,this.plus(r),z(I({},e),{numeric:"always",units:i,unit:s}))}toRelativeCalendar(e={}){return this.isValid?qk(e.base||t.fromObject({},{zone:this.zone}),this,z(I({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(t.isDateTime))throw new lt("min requires all arguments be DateTimes");return cI(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new lt("max requires all arguments be DateTimes");return cI(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){let{locale:i=null,numberingSystem:s=null}=r,o=Pe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return wI(o,e,n)}static fromStringExplain(e,n,r={}){return t.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){let{locale:r=null,numberingSystem:i=null}=n,s=Pe.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new kd(s,e)}static fromFormatParser(e,n,r={}){if(ie(e)||ie(n))throw new lt("fromFormatParser requires an input string and a format parser");let{locale:i=null,numberingSystem:s=null}=r,o=Pe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new lt(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);let{result:a,zone:u,specificOffset:l,invalidReason:d}=n.explainFromTokens(e);return d?t.invalid(d):ku(a,u,r,`format ${n.format}`,e,l)}static get DATE_SHORT(){return ps}static get DATE_MED(){return id}static get DATE_MED_WITH_WEEKDAY(){return B0}static get DATE_FULL(){return sd}static get DATE_HUGE(){return od}static get TIME_SIMPLE(){return ad}static get TIME_WITH_SECONDS(){return ud}static get TIME_WITH_SHORT_OFFSET(){return cd}static get TIME_WITH_LONG_OFFSET(){return ld}static get TIME_24_SIMPLE(){return dd}static get TIME_24_WITH_SECONDS(){return hd}static get TIME_24_WITH_SHORT_OFFSET(){return fd}static get TIME_24_WITH_LONG_OFFSET(){return pd}static get DATETIME_SHORT(){return md}static get DATETIME_SHORT_WITH_SECONDS(){return gd}static get DATETIME_MED(){return yd}static get DATETIME_MED_WITH_SECONDS(){return vd}static get DATETIME_MED_WITH_WEEKDAY(){return $0}static get DATETIME_FULL(){return wd}static get DATETIME_FULL_WITH_SECONDS(){return _d}static get DATETIME_HUGE(){return Ed}static get DATETIME_HUGE_WITH_SECONDS(){return Id}};function Ru(t){if(le.isDateTime(t))return t;if(t&&t.valueOf&&wr(t.valueOf()))return le.fromJSDate(t);if(t&&typeof t=="object")return le.fromObject(t);throw new lt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var bI=(i=>(i.DAY="day",i.WEEK="week",i.MONTH="month",i.YEAR="year",i))(bI||{});var U5=(t,e)=>e.value,Yk=t=>({"date-filter-drop-down-button-active":t});function B5(t,e){if(t&1){let n=ln();se(0,"li",6),be("click",function(){let i=wt(n).$implicit,s=Ne(2);return _t(s.onSelectValue(i))}),rt(1),ae()}if(t&2){let n=e.$implicit,r=Ne(2);cn("background-color",(r.selectedOption==null?null:r.selectedOption.display)===(n==null?null:n.display)?"#ffe9eb":"white"),oe(),Vr(" ",n==null?null:n.display," ")}}function $5(t,e){if(t&1&&(se(0,"ul",4),LM(1,B5,2,3,"li",5,U5),ae()),t&2){let n=Ne();oe(),jM(n.options)}}var rg=class t{options=[];name;activatedName;value;hideOptions=!1;select=new Ue;toggleClick=new Ue;selectedOption;dropdownOpen=!1;isActivated=!1;onDocumentClick(e){this.isClickInsideComponent(e)||(this.dropdownOpen=!1)}ngOnChanges(e){e?.options&&Array.isArray(this.options)&&this.options.length>0&&(this.selectedOption=this.options[0]),e?.activatedName&&(this.isActivated=this.activatedName===this.name,!this.isActivated&&Array.isArray(this.options)&&this.options.length>0&&(this.selectedOption=this.options[0])),e?.hideOptions&&this.hideOptions&&(this.dropdownOpen=!1),(e?.value||e?.name||e?.activatedName)&&this.updateSelectedOption()}updateSelectedOption(){this.value&&this.name&&this.activatedName&&this.activatedName===this.name&&(this.selectedOption=this.value)}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen,this.toggleClick.emit(this.name)}onSelectValue(e){this.selectedOption=e,this.isActivated=!0,this.select.emit({name:this.name,value:e.value}),this.dropdownOpen=!1}onDisplayValueClick(){this.isActivated?this.dropdownOpen=!this.dropdownOpen:this.dropdownOpen&&(this.dropdownOpen=!1),this.isActivated=!0,this.select.emit({name:this.name,value:this.selectedOption?.value})}onClick(e){e.stopPropagation()}isClickInsideComponent(e){return e.target.closest(".date-filter-drop-down")!==null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ar({type:t,selectors:[["app-date-filter-drop-down"]],hostBindings:function(n,r){n&1&&be("click",function(s){return r.onDocumentClick(s)},!1,Kx)},inputs:{options:"options",name:"name",activatedName:"activatedName",value:"value",hideOptions:"hideOptions"},outputs:{select:"select",toggleClick:"toggleClick"},standalone:!0,features:[Kt,hr],decls:6,vars:8,consts:[[1,"date-filter-drop-down",3,"click"],[1,"date-filter-drop-down-button",3,"click","ngClass"],[1,"date-filter-drop-down-button","date-filter-drop-down-button-toggle",3,"click","ngClass"],["class","date-filter-drop-down-list",4,"ngIf"],[1,"date-filter-drop-down-list"],[3,"background-color"],[3,"click"]],template:function(n,r){n&1&&(se(0,"div",0),be("click",function(s){return r.onClick(s)}),se(1,"button",1),be("click",function(){return r.onDisplayValueClick()}),rt(2),ae(),se(3,"button",2),be("click",function(){return r.toggleDropdown()}),rt(4," v "),ae(),xn(5,$5,3,0,"ul",3),ae()),n&2&&(oe(),Ve("ngClass",vl(4,Yk,r.isActivated)),oe(),Vr(" ",r.selectedOption==null?null:r.selectedOption.display," "),oe(),Ve("ngClass",vl(6,Yk,r.isActivated)),oe(2),Ve("ngIf",r.dropdownOpen))},dependencies:[Ur,nm,Za,nu],styles:[".date-filter-drop-down[_ngcontent-%COMP%]{display:inline-block;position:relative}.date-filter-drop-down[_ngcontent-%COMP%]   .date-filter-drop-down-button[_ngcontent-%COMP%]{margin:0 1px;padding:5px 10px;font-size:.9rem;font-family:Montserrat,sans-serif;border:1px solid #e0e0e0;border-radius:5px;background-color:transparent;cursor:pointer}.date-filter-drop-down[_ngcontent-%COMP%]   .date-filter-drop-down-button-toggle[_ngcontent-%COMP%]{font-weight:600}.date-filter-drop-down[_ngcontent-%COMP%]   .date-filter-drop-down-list[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;border:1px solid #ccc;background-color:#fff;max-height:300px;overflow-y:auto;z-index:1000;list-style:none;padding:0;margin:0}.date-filter-drop-down[_ngcontent-%COMP%]   .date-filter-drop-down-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;border:1px solid #e7e7e7}.date-filter-drop-down[_ngcontent-%COMP%]   .date-filter-drop-down-button-active[_ngcontent-%COMP%]{background-color:#f8d7da;border:#f8d7da 1px solid}"]})};function H5(t,e){if(t&1){let n=ln();se(0,"i",3),be("click",function(){wt(n);let i=Ne();return _t(i.onRefresh())}),ae()}}var ig=class t{static initialDayFrameLabel="\u0441\u0435\u0433\u043E\u0434\u043D\u044F";static initialWeekFrameLabel="\u044D\u0442\u0430 \u043D\u0435\u0434\u0435\u043B\u044F";static initialMonthFrameLabel="\u044D\u0442\u043E\u0442 \u043C\u0435\u0441\u044F\u0446";static initialYearFrameLabel="\u044D\u0442\u043E\u0442 \u0433\u043E\u0434";static initialValue={start:le.now().startOf("day"),finish:le.now().endOf("day"),display:t.initialDayFrameLabel,mode:"day"};static initialMonthValue={start:le.now().startOf("month"),finish:le.now().endOf("month"),mode:"month",display:t.initialMonthFrameLabel};value;defaultValue;changeFilter=new Ue;Mode=bI;clickedMode;optionsForDaysSelect=[];optionsForWeeksSelect=[];optionsForMonthsSelect=[];optionsForYearsSelect=[];currentFilter;defaultLabel;firstDayOption={value:t.initialValue,display:t.initialDayFrameLabel};ngOnChanges(e){e.value&&this.setCurrentState(this.value)}ngOnInit(){this.initOptions(),this.defaultLabel=this.defaultValue?.display}onRefresh(){this.setCurrentState(this.defaultValue),this.changeFilter.emit(this.currentFilter?.value)}onDateSelect(e){this.clickedMode=e.name,this.setCurrentState(e.value),this.changeFilter.emit(this.currentFilter?.value)}onDropdownToggleClick(e){this.clickedMode=e}setCurrentState(e){e?e?.display!==this.currentFilter?.display&&(this.currentFilter={value:e,display:e.display}):this.currentFilter=void 0}initOptions(){this.initDayOptions(),this.initWeekOptions(),this.initMonthOptions(),this.initYearOptions()}initDayOptions(){let e=le.now(),n=[this.firstDayOption];for(let r=1;r<31;r++){let i=e.minus({days:r}).setLocale("ru").toFormat("d MMMM");n.push({value:{start:e.minus({days:r}).startOf("day"),finish:e.minus({days:r}).endOf("day"),mode:"day",display:i},display:i})}this.optionsForDaysSelect=n}initWeekOptions(){let n=le.now().startOf("week"),i=[{value:{start:n,finish:le.now().endOf("week"),mode:"week",display:t.initialWeekFrameLabel},display:t.initialWeekFrameLabel}];for(let s=1;s<5;s++){let o=n.minus({weeks:s}).setLocale("ru").toFormat("d MMMM")+" - "+n.minus({weeks:s}).endOf("week").setLocale("ru").toFormat("d MMMM");i.push({value:{start:n.minus({weeks:s}),finish:n.minus({weeks:s}).endOf("week"),mode:"week",display:o},display:o})}this.optionsForWeeksSelect=i}initMonthOptions(){let n=le.now().startOf("month"),i=[{value:{start:n,finish:le.now().endOf("month"),mode:"month",display:t.initialMonthFrameLabel},display:t.initialMonthFrameLabel}];for(let s=1;s<12;s++){let o=n.minus({months:s}).setLocale("ru").toFormat("LLLL");i.push({value:{start:n.minus({months:s}),finish:n.minus({months:s}).endOf("month"),mode:"month",display:o},display:o})}this.optionsForMonthsSelect=i}initYearOptions(){let n=le.now().startOf("year"),i=[{value:{start:n,finish:le.now().endOf("year"),mode:"year",display:t.initialYearFrameLabel},display:t.initialYearFrameLabel}];for(let s=1;s<5;s++){let o=n.minus({years:s}).setLocale("ru").toFormat("yyyy");i.push({value:{start:n.minus({years:s}),finish:n.minus({years:s}).endOf("year"),mode:"year",display:o},display:o})}this.optionsForYearsSelect=i}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ar({type:t,selectors:[["app-date-filter"]],inputs:{value:"value",defaultValue:"defaultValue"},outputs:{changeFilter:"changeFilter"},standalone:!0,features:[Kt,hr],decls:6,vars:21,consts:[[1,"statistics-period"],[3,"select","toggleClick","options","name","activatedName","value","hideOptions"],["class","fas fa-redo-alt statistics-refresh-button",3,"click",4,"ngIf"],[1,"fas","fa-redo-alt","statistics-refresh-button",3,"click"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"app-date-filter-drop-down",1),be("select",function(s){return r.onDateSelect(s)})("toggleClick",function(s){return r.onDropdownToggleClick(s)}),ae(),se(2,"app-date-filter-drop-down",1),be("select",function(s){return r.onDateSelect(s)})("toggleClick",function(s){return r.onDropdownToggleClick(s)}),ae(),se(3,"app-date-filter-drop-down",1),be("select",function(s){return r.onDateSelect(s)})("toggleClick",function(s){return r.onDropdownToggleClick(s)}),ae(),se(4,"app-date-filter-drop-down",1),be("select",function(s){return r.onDateSelect(s)})("toggleClick",function(s){return r.onDropdownToggleClick(s)}),ae(),xn(5,H5,1,0,"i",2),ae()),n&2&&(oe(),Ve("options",r.optionsForDaysSelect)("name",r.Mode.DAY)("activatedName",r.currentFilter==null||r.currentFilter.value==null?null:r.currentFilter.value.mode)("value",r.currentFilter)("hideOptions",r.clickedMode!==r.Mode.DAY),oe(),Ve("options",r.optionsForWeeksSelect)("name",r.Mode.WEEK)("activatedName",r.currentFilter==null||r.currentFilter.value==null?null:r.currentFilter.value.mode)("value",r.currentFilter)("hideOptions",r.clickedMode!==r.Mode.WEEK),oe(),Ve("options",r.optionsForMonthsSelect)("name",r.Mode.MONTH)("activatedName",r.currentFilter==null||r.currentFilter.value==null?null:r.currentFilter.value.mode)("value",r.currentFilter)("hideOptions",r.clickedMode!==r.Mode.MONTH),oe(),Ve("options",r.optionsForYearsSelect)("name",r.Mode.YEAR)("activatedName",r.currentFilter==null||r.currentFilter.value==null?null:r.currentFilter.value.mode)("value",r.currentFilter)("hideOptions",r.clickedMode!==r.Mode.YEAR),oe(),Ve("ngIf",(r.currentFilter==null?null:r.currentFilter.display)!=r.defaultLabel))},dependencies:[Ur,Za,rg],styles:[".statistics-period[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem}.statistics-period[_ngcontent-%COMP%]   .statistics-refresh-button[_ngcontent-%COMP%]{font-size:14px;padding:10px 10px 10px 0}"]})};function z5(t,e){if(t&1){let n=ln();Pp(0),se(1,"div",9)(2,"input",10),be("change",function(){wt(n);let i=Ne();return _t(i.emitChanges())}),Ka("ngModelChange",function(i){let s=wt(n).$implicit,o=Ne();return yl(o.filterCategories[s.id],i)||(o.filterCategories[s.id]=i),_t(i)}),ae(),se(3,"label",11),rt(4),ae()(),Fp()}if(t&2){let n=e.$implicit,r=Ne();oe(2),Ve("value",n.id)("id",n.id)("checked",r.filterCategories[n.id]),Wa("ngModel",r.filterCategories[n.id]),oe(),Ve("for",n.id),oe(),mo(n.name)}}function q5(t,e){if(t&1){let n=ln();Pp(0),se(1,"div",9)(2,"input",10),be("change",function(){wt(n);let i=Ne();return _t(i.emitChanges())}),Ka("ngModelChange",function(i){let s=wt(n).$implicit,o=Ne();return yl(o.filterCategories[s.id],i)||(o.filterCategories[s.id]=i),_t(i)}),ae(),se(3,"label",11),rt(4),ae()(),Fp()}if(t&2){let n=e.$implicit,r=Ne();oe(2),Ve("value",n.id)("id",n.id)("checked",r.filterCategories[n.id]),Wa("ngModel",r.filterCategories[n.id]),oe(),Ve("for",n.id),oe(),mo(n.name)}}var sg=class t{value;selectedCategories=new Ue;regularValue="regular";irregularValue="irregular";filterCategories=fs.reduce((e,n)=>(e[n.id]=!1,e),{});categories={regular:fs.filter(e=>!e.includeInBalance),irregular:fs.filter(e=>e.includeInBalance)};ngOnChanges(e){e.value&&Array.isArray(this.value)&&(this.initiateFilterCategory(),this.filterCategories=fs.reduce((n,r)=>(n[r.id]=this.value.length>0?this.value.includes(r.id):!1,n),{}),this.checkMainCategory())}clearCategoryFilters(){this.initiateFilterCategory(),this.emitChanges()}filterCategory(e){let n=e===this.regularValue?this.categories.regular:this.categories.irregular;n=n.map(r=>r.id),this.filterCategories[e]&&n.forEach(r=>{this.filterCategories[r]=!1});for(let r in this.filterCategories)n.includes(r)&&(this.filterCategories[r]=!this.filterCategories[r]);this.emitChanges()}emitChanges(){this.checkMainCategory();let e=this.getSelectedCategories();e=e?.length===fs.length?[]:e,this.selectedCategories.emit(e)}checkMainCategory(){let e=this.categories.regular.map(s=>s.id),n=this.categories.irregular.map(s=>s.id),r=e.every(s=>this.filterCategories[s]),i=n.every(s=>this.filterCategories[s]);return this.filterCategories.regular=r,this.filterCategories.irregular=i,{regularChecked:r,irregularChecked:i}}getSelectedCategories(){return Object.keys(this.filterCategories).reduce((e,n)=>(this.filterCategories[n]&&n!==this.regularValue&&n!==this.irregularValue&&e.push(n),e),[])}initiateFilterCategory(){for(let e in this.filterCategories)this.filterCategories[e]=!1;this.filterCategories.irregular=!1,this.filterCategories.regular=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ar({type:t,selectors:[["app-category-filter"]],inputs:{value:"value"},outputs:{selectedCategories:"selectedCategories"},standalone:!0,features:[Kt,hr],decls:19,vars:6,consts:[[1,"category-filter"],[1,"category-filter-clear",3,"click"],[1,"category-filter-checkbox","category-filter-checkbox-main"],["type","checkbox","value","regular","id","category-regular",3,"change","ngModelChange","checked","ngModel"],["for","category-regular"],[1,"category-filter-sub-items"],[4,"ngFor","ngForOf"],["type","checkbox","value","irregular","id","category-irregular",3,"change","ngModelChange","checked","ngModel"],["for","category-irregular"],[1,"category-filter-checkbox","category-filter-checkbox-sub"],["type","checkbox",3,"change","ngModelChange","value","id","checked","ngModel"],[3,"for"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"span"),rt(2,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:"),ae(),es(3,"br"),se(4,"button",1),be("click",function(){return r.clearCategoryFilters()}),rt(5," \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0432\u0441\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B "),ae(),es(6,"br"),se(7,"div",2)(8,"input",3),be("change",function(){return r.filterCategory(r.regularValue)}),Ka("ngModelChange",function(s){return yl(r.filterCategories.regular,s)||(r.filterCategories.regular=s),s}),ae(),se(9,"label",4),rt(10,"\u0420\u0435\u0433\u0443\u043B\u044F\u0440\u043D\u043E\u0435"),ae()(),se(11,"div",5),xn(12,z5,5,6,"ng-container",6),ae(),se(13,"div",2)(14,"input",7),be("change",function(){return r.filterCategory(r.irregularValue)}),Ka("ngModelChange",function(s){return yl(r.filterCategories.irregular,s)||(r.filterCategories.irregular=s),s}),ae(),se(15,"label",8),rt(16,"\u041D\u0435\u0440\u0435\u0433\u0443\u043B\u044F\u0440\u043D\u043E\u0435"),ae()(),se(17,"div"),xn(18,q5,5,6,"ng-container",6),ae()()),n&2&&(oe(8),Ve("checked",r.filterCategories.regular),Wa("ngModel",r.filterCategories.regular),oe(4),Ve("ngForOf",r.categories.regular),oe(2),Ve("checked",r.filterCategories.irregular),Wa("ngModel",r.filterCategories.irregular),oe(4),Ve("ngForOf",r.categories.irregular))},dependencies:[Ur,yN,nu,CE,GN,TE],styles:[".category-filter[_ngcontent-%COMP%]   .category-filter-clear[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:gray;border:none;background-color:transparent;cursor:pointer;margin:.5rem 0 0;padding:0;text-decoration:underline}.category-filter[_ngcontent-%COMP%]   .category-filter-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;gap:.5rem;margin-top:.5rem}.category-filter[_ngcontent-%COMP%]   .category-filter-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}.category-filter[_ngcontent-%COMP%]   .category-filter-checkbox-main[_ngcontent-%COMP%]{display:flex;font-family:Montserrat,sans-serif;color:#000;flex-direction:row;gap:.5rem}.category-filter[_ngcontent-%COMP%]   .category-filter-checkbox-sub[_ngcontent-%COMP%]{margin-left:2rem}"]})};var G5="firebase",W5="10.13.2";Li(G5,W5,"app");var Ou=new ci("ANGULARFIRE2_VERSION");var K5=(t,e)=>{let n=e?[e]:oS(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ko=class{constructor(){return K5(Q5)}},Q5="app-check";function SI(){}var og=class{zone;delegate;constructor(e,n=Mv){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},AI=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",SI,{},SI,SI)),n.pipe(ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ag=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new og(Zone.current)),this.insideAngular=n.run(()=>new og(Zone.current,Yc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Te))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y5(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Dn(t){return Z5(Y5())(t)}function Z5(t){return function(n){return n=n.lift(new AI(t.ngZone)),n.pipe(nr(t.outsideAngular),$n(t.insideAngular))}}var eG=new Map,tG={activated:!1,tokenObservers:[]},nG={initialized:!1,enabled:!1};function Er(t){return eG.get(t)||Object.assign({},tG)}function nO(){return nG}var rG="https://content-firebaseappcheck.googleapis.com/v1";var iG="exchangeDebugToken",Jk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dse=24*60*60*1e3;var MI=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return k(this,null,function*(){this.stop();try{this.pending=new lv,this.pending.promise.catch(n=>{}),yield sG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new lv,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function sG(t){return new Promise(e=>{setTimeout(e,t)})}var oG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Is=new iS("appCheck","AppCheck",oG);function rO(t){if(!Er(t).activated)throw Is.create("use-before-activation",{appName:t.name})}function iO(r,i){return k(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let g=yield o.getHeartbeatsHeader();g&&(s["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(t,a)}catch(g){throw Is.create("fetch-network-error",{originalErrorMessage:g?.message})}if(u.status!==200)throw Is.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(g){throw Is.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function sO(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rG}/projects/${n}/apps/${r}:${iG}?key=${i}`,body:{debug_token:e}}}var aG="firebase-app-check-database",uG=1,NI="firebase-app-check-store";var ug=null;function cG(){return ug||(ug=new Promise((t,e)=>{try{let n=indexedDB.open(aG,uG);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Is.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(NI,{keyPath:"compositeKey"})}}}catch(n){e(Is.create("storage-open",{originalErrorMessage:n?.message}))}}),ug)}function lG(t,e){return dG(hG(t),e)}function dG(t,e){return k(this,null,function*(){let r=(yield cG()).transaction(NI,"readwrite"),s=r.objectStore(NI).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Is.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function hG(t){return`${t.options.appId}-${t.name}`}var RI=new qh("@firebase/app-check");function xI(t,e){return zh()?lG(t,e).catch(n=>{RI.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oO(){return nO().enabled}function aO(){return k(this,null,function*(){let t=nO();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fG={error:"UNKNOWN_ERROR"};function pG(t){return tS.encodeString(JSON.stringify(t),!1)}function kI(t,e=!1){return k(this,null,function*(){let n=t.app;rO(n);let r=Er(n),i=r.token,s;if(i&&!Pd(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Pd(u)?i=u:yield xI(n,void 0))}if(!e&&i&&Pd(i))return{token:i.token};let o=!1;if(oO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=iO(sO(n,yield aO()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let u=yield r.exchangeTokenPromise;return yield xI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Er(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?RI.warn(u.message):RI.error(u),s=u}let a;return i?s?Pd(i)?a={token:i.token,internalError:s}:a=eO(s):(a={token:i.token},r.token=i,yield xI(n,i)):a=eO(s),o&&vG(n,a),a})}function mG(t){return k(this,null,function*(){let e=t.app;rO(e);let{provider:n}=Er(e);if(oO()){let r=yield aO(),{token:i}=yield iO(sO(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function gG(t,e,n,r){let{app:i}=t,s=Er(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Pd(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Xk(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Xk(t))}function uO(t,e){let n=Er(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Xk(t){let{app:e}=t,n=Er(e),r=n.tokenRefresher;r||(r=yG(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function yG(t){let{app:e}=t;return new MI(()=>k(this,null,function*(){let n=Er(e),r;if(n.token?r=yield kI(t,!0):r=yield kI(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Er(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Jk.RETRIAL_MIN_WAIT,Jk.RETRIAL_MAX_WAIT)}function vG(t,e){let n=Er(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pd(t){return t.expireTimeMillis-Date.now()>0}function eO(t){return{token:pG(fG),error:t}}var OI=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Er(this.app);for(let n of e)uO(this.app,n.next);return Promise.resolve()}};function wG(t,e){return new OI(t,e)}function _G(t){return{getToken:e=>kI(t,e),getLimitedUseToken:()=>mG(t),addTokenListener:e=>gG(t,"INTERNAL",e),removeTokenListener:e=>uO(t.app,e)}}var EG="@firebase/app-check",IG="0.8.8";var DG="app-check",tO="app-check-internal";function CG(){zc(new Ks(DG,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return wG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tO).initialize()})),zc(new Ks(tO,t=>{let e=t.getProvider("app-check").getImmediate();return _G(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Li(EG,IG)}CG();var bG=["localhost","0.0.0.0","127.0.0.1"],Dse=typeof window<"u"&&bG.includes(window.location.hostname);var TG="firebase",SG="10.13.2";gn.registerVersion(TG,SG,"app-compat");var AG=["ngOnDestroy"],dO=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(AG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let u=a?.[s];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(d=>{let f=d?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,f),f})})})});var cg=class{constructor(e){return e}},Pu=new G("angularfire2.app.options"),Fu=new G("angularfire2.app.name");function Fd(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=gn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>gn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;xG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new cg(o)}var xG=(t,...e)=>{W_()&&typeof console<"u"&&console[t](...e)},MG={provide:cg,useFactory:Fd,deps:[Pu,Te,[new Zi,Fu]]},Ose=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Pu,useValue:n},{provide:Fu,useValue:r}]}}constructor(n){gn.registerVersion("angularfire",Ou.full,"core"),gn.registerVersion("angularfire",Ou.full,"app-compat"),gn.registerVersion("angular",qM.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(In))};static \u0275mod=Nt({type:t});static \u0275inj=Mt({providers:[MG]})}return t})();function lg(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return NG(i,o)||(lO("error",`${e} was already initialized on the ${n} Firebase App with different settings.${RG?" You may need to reload as Firebase is not HMR aware.":""}`),lO("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function NG(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var RG=typeof module<"u"&&!!module.hot,lO=(t,...e)=>{W_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var PI=new G("angularfire2.auth.use-emulator"),FI=new G("angularfire2.auth.settings"),VI=new G("angularfire2.auth.tenant-id"),LI=new G("angularfire2.auth.langugage-code"),jI=new G("angularfire2.auth.use-device-language"),UI=new G("angularfire.auth.persistence"),BI=(t,e,n,r,i,s,o,a)=>lg(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(let[l,d]of Object.entries(o))u.settings[l]=d;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]),dg=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,d,f,m,g){let w=new qe,b=Y(void 0).pipe($n(o.outsideAngular),nt(()=>s.runOutsideAngular(()=>import("./chunk-RQNR5L7X.js"))),Z(()=>Fd(n,s,r)),Z(T=>BI(T,s,a,l,d,f,u,m)),Cf({bufferSize:1,refCount:!1}));if(yo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Y(null);else{b.pipe(Tn()).subscribe();let T=b.pipe(nt(P=>P.getRedirectResult().then(K=>K,()=>null)),Dn,Cf({bufferSize:1,refCount:!1})),O=b.pipe(nt(P=>new Ee(K=>({unsubscribe:s.runOutsideAngular(()=>P.onAuthStateChanged(X=>K.next(X),X=>K.error(X),()=>K.complete()))})))),j=b.pipe(nt(P=>new Ee(K=>({unsubscribe:s.runOutsideAngular(()=>P.onIdTokenChanged(X=>K.next(X),X=>K.error(X),()=>K.complete()))}))));this.authState=T.pipe(bf(O),nr(o.outsideAngular),$n(o.insideAngular)),this.user=T.pipe(bf(j),nr(o.outsideAngular),$n(o.insideAngular)),this.idToken=this.user.pipe(nt(P=>P?he(P.getIdToken()):Y(null))),this.idTokenResult=this.user.pipe(nt(P=>P?he(P.getIdTokenResult()):Y(null))),this.credential=Ov(T,w,this.authState.pipe(Vt(P=>!P))).pipe(Z(P=>P?.user?P:null),nr(o.outsideAngular),$n(o.insideAngular))}return dO(this,b,s,{spy:{apply:(T,O,j)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&j.then(P=>w.next(P))}}})}static \u0275fac=function(r){return new(r||t)(L(Pu),L(Fu,8),L(In),L(Te),L(ag),L(PI,8),L(FI,8),L(VI,8),L(LI,8),L(jI,8),L(UI,8),L(ko,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var fO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pO={};var Ds,$I;(function(){var t;function e(D,v){function _(){}_.prototype=v.prototype,D.D=v.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(C,S,x){for(var E=Array(arguments.length-2),ni=2;ni<arguments.length;ni++)E[ni-2]=arguments[ni];return v.prototype[S].apply(C,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,_){_||(_=0);var C=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)C[S]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(S=0;16>S;++S)C[S]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=D.g[0],_=D.g[1],S=D.g[2];var x=D.g[3],E=v+(x^_&(S^x))+C[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+C[1]+3905402710&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+C[2]+606105819&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+C[3]+3250441966&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+C[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+C[5]+1200080426&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+C[6]+2821735955&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+C[7]+4249261313&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+C[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+C[9]+2336552879&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+C[10]+4294925233&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+C[11]+2304563134&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+C[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+C[13]+4254626195&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+C[14]+2792965006&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+C[15]+1236535329&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(S^x&(_^S))+C[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+C[6]+3225465664&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+C[11]+643717713&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+C[0]+3921069994&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+C[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+C[10]+38016083&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+C[15]+3634488961&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+C[4]+3889429448&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+C[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+C[14]+3275163606&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+C[3]+4107603335&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+C[8]+1163531501&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+C[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+C[2]+4243563512&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+C[7]+1735328473&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+C[12]+2368359562&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(_^S^x)+C[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+C[8]+2272392833&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+C[11]+1839030562&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+C[14]+4259657740&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+C[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+C[4]+1272893353&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+C[7]+4139469664&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+C[10]+3200236656&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+C[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+C[0]+3936430074&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+C[3]+3572445317&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+C[6]+76029189&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+C[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+C[12]+3873151461&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+C[15]+530742520&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+C[2]+3299628645&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(S^(_|~x))+C[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+C[7]+1126891415&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+C[14]+2878612391&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+C[5]+4237533241&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+C[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+C[3]+2399980690&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+C[10]+4293915773&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+C[1]+2240044497&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+C[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+C[15]+4264355552&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+C[6]+2734768916&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+C[13]+1309151649&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+C[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+C[11]+3174756917&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+C[2]+718787259&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var _=v-this.blockSize,C=this.B,S=this.h,x=0;x<v;){if(S==0)for(;x<=_;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<v;)if(C[S++]=D.charCodeAt(x++),S==this.blockSize){i(this,C),S=0;break}}else for(;x<v;)if(C[S++]=D[x++],S==this.blockSize){i(this,C),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var _=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=_&255,_/=256;for(this.u(D),D=Array(16),v=_=0;4>v;++v)for(var C=0;32>C;C+=8)D[_++]=this.g[v]>>>C&255;return D};function s(D,v){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=v(D)}function o(D,v){this.h=v;for(var _=[],C=!0,S=D.length-1;0<=S;S--){var x=D[S]|0;C&&x==v||(_[S]=x,C=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(v){return new o([v|0],0>v?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return T(l(-D));for(var v=[],_=1,C=0;D>=_;C++)v[C]=D/_|0,_*=4294967296;return new o(v,0)}function d(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return T(d(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),C=f,S=0;S<D.length;S+=8){var x=Math.min(8,D.length-S),E=parseInt(D.substring(S,S+x),v);8>x?(x=l(Math.pow(v,x)),C=C.j(x).add(l(E))):(C=C.j(_),C=C.add(l(E)))}return C}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-T(this).m();for(var D=0,v=1,_=0;_<this.g.length;_++){var C=this.i(_);D+=(0<=C?C:4294967296+C)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(b(this))return"-"+T(this).toString(D);for(var v=l(Math.pow(D,6)),_=this,C="";;){var S=K(_,v).g;_=O(_,S.j(v));var x=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=S,w(_))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function b(D){return D.h==-1}t.l=function(D){return D=O(this,D),b(D)?-1:w(D)?0:1};function T(D){for(var v=D.g.length,_=[],C=0;C<v;C++)_[C]=~D.g[C];return new o(_,~D.h).add(m)}t.abs=function(){return b(this)?T(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],C=0,S=0;S<=v;S++){var x=C+(this.i(S)&65535)+(D.i(S)&65535),E=(x>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);C=E>>>16,x&=65535,E&=65535,_[S]=E<<16|x}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(D,v){return D.add(T(v))}t.j=function(D){if(w(this)||w(D))return f;if(b(this))return b(D)?T(this).j(T(D)):T(T(this).j(D));if(b(D))return T(this.j(T(D)));if(0>this.l(g)&&0>D.l(g))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,_=[],C=0;C<2*v;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<D.g.length;S++){var x=this.i(C)>>>16,E=this.i(C)&65535,ni=D.i(S)>>>16,Cc=D.i(S)&65535;_[2*C+2*S]+=E*Cc,j(_,2*C+2*S),_[2*C+2*S+1]+=x*Cc,j(_,2*C+2*S+1),_[2*C+2*S+1]+=E*ni,j(_,2*C+2*S+1),_[2*C+2*S+2]+=x*ni,j(_,2*C+2*S+2)}for(C=0;C<v;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=v;C<2*v;C++)_[C]=0;return new o(_,0)};function j(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function P(D,v){this.g=D,this.h=v}function K(D,v){if(w(v))throw Error("division by zero");if(w(D))return new P(f,f);if(b(D))return v=K(T(D),v),new P(T(v.g),T(v.h));if(b(v))return v=K(D,T(v)),new P(T(v.g),v.h);if(30<D.g.length){if(b(D)||b(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,C=v;0>=C.l(D);)_=X(_),C=X(C);var S=ne(_,1),x=ne(C,1);for(C=ne(C,2),_=ne(_,2);!w(C);){var E=x.add(C);0>=E.l(D)&&(S=S.add(_),x=E),C=ne(C,1),_=ne(_,1)}return v=O(D,S.j(v)),new P(S,v)}for(S=f;0<=D.l(v);){for(_=Math.max(1,Math.floor(D.m()/v.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=l(_),E=x.j(v);b(E)||0<E.l(D);)_-=C,x=l(_),E=x.j(v);w(x)&&(x=m),S=S.add(x),D=O(D,E)}return new P(S,D)}t.A=function(D){return K(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)&D.i(C);return new o(_,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)|D.i(C);return new o(_,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)^D.i(C);return new o(_,this.h^D.h)};function X(D){for(var v=D.g.length+1,_=[],C=0;C<v;C++)_[C]=D.i(C)<<1|D.i(C-1)>>>31;return new o(_,D.h)}function ne(D,v){var _=v>>5;v%=32;for(var C=D.g.length-_,S=[],x=0;x<C;x++)S[x]=0<v?D.i(x+_)>>>v|D.i(x+_+1)<<32-v:D.i(x+_);return new o(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$I=pO.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Ds=pO.Integer=o}).apply(typeof fO<"u"?fO:typeof self<"u"?self:typeof window<"u"?window:{});var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ci={};var HI,zI,Vu,qI,Vd,fg,GI,WI,KI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hg=="object"&&hg];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var p=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in p))break e;p=p[A]}c=c[c.length-1],y=p[c],h=h(y),h!=y&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var p=0,y=!1,A={next:function(){if(!y&&p<c.length){var R=p++;return{value:h(R,c[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function u(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function l(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),c.apply(h,A)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function w(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(y,A,R){for(var U=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)U[Be-2]=arguments[Be];return h.prototype[A].apply(y,U)}}function b(c){let h=c.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=c[y];return p}return[]}function T(c,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(u(y)){let A=c.length||0,R=y.length||0;c.length=A+R;for(let U=0;U<R;U++)c[A+U]=y[U]}else c.push(y)}}class O{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var X=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ne(c,h,p){for(let y in c)h.call(p,c[y],y,c)}function D(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function v(c){let h={};for(let p in c)h[p]=c[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)c[p]=y[p];for(let R=0;R<_.length;R++)p=_[R],Object.prototype.hasOwnProperty.call(y,p)&&(c[p]=y[p])}}function S(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function x(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Vy;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ni{constructor(){this.h=this.g=null}add(h,p){let y=Cc.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var Cc=new O(()=>new eL,c=>c.reset());class eL{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let bc,Tc=!1,Vy=new ni,Zb=()=>{let c=a.Promise.resolve(void 0);bc=()=>{c.then(tL)}};var tL=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(p){x(p)}var h=Cc;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}Tc=!1};function Oi(){this.s=this.s,this.C=this.C}Oi.prototype.s=!1,Oi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var nL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function Sc(c,h){if(Ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(X){e:{try{K(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:rL[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Sc.aa.h.call(this)}}w(Sc,Ht);var rL={2:"touch",3:"pen",4:"mouse"};Sc.prototype.h=function(){Sc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),iL=0;function sL(c,h,p,y,A){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++iL,this.da=this.fa=!1}function Th(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sh(c){this.src=c,this.g={},this.h=0}Sh.prototype.add=function(c,h,p,y,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var U=jy(c,h,y,A);return-1<U?(h=c[U],p||(h.fa=!1)):(h=new sL(h,this.src,R,!!y,A),h.fa=p,c.push(h)),h};function Ly(c,h){var p=h.type;if(p in c.g){var y=c.g[p],A=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=A)&&Array.prototype.splice.call(y,A,1),R&&(Th(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function jy(c,h,p,y){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return A}return-1}var Uy="closure_lm_"+(1e6*Math.random()|0),By={};function Jb(c,h,p,y,A){if(y&&y.once)return eT(c,h,p,y,A);if(Array.isArray(h)){for(var R=0;R<h.length;R++)Jb(c,h[R],p,y,A);return null}return p=qy(p),c&&c[Ac]?c.K(h,p,l(y)?!!y.capture:!!y,A):Xb(c,h,p,!1,y,A)}function Xb(c,h,p,y,A,R){if(!h)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,Be=Hy(c);if(Be||(c[Uy]=Be=new Sh(c)),p=Be.add(h,p,y,U,R),p.proxy)return p;if(y=oL(),p.proxy=y,y.src=c,y.listener=p,c.addEventListener)nL||(A=U),A===void 0&&(A=!1),c.addEventListener(h.toString(),y,A);else if(c.attachEvent)c.attachEvent(nT(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function oL(){function c(p){return h.call(c.src,c.listener,p)}let h=aL;return c}function eT(c,h,p,y,A){if(Array.isArray(h)){for(var R=0;R<h.length;R++)eT(c,h[R],p,y,A);return null}return p=qy(p),c&&c[Ac]?c.L(h,p,l(y)?!!y.capture:!!y,A):Xb(c,h,p,!0,y,A)}function tT(c,h,p,y,A){if(Array.isArray(h))for(var R=0;R<h.length;R++)tT(c,h[R],p,y,A);else y=l(y)?!!y.capture:!!y,p=qy(p),c&&c[Ac]?(c=c.i,h=String(h).toString(),h in c.g&&(R=c.g[h],p=jy(R,p,y,A),-1<p&&(Th(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete c.g[h],c.h--)))):c&&(c=Hy(c))&&(h=c.g[h.toString()],c=-1,h&&(c=jy(h,p,y,A)),(p=-1<c?h[c]:null)&&$y(p))}function $y(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Ac])Ly(h.i,c);else{var p=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(p,y,c.capture):h.detachEvent?h.detachEvent(nT(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Hy(h))?(Ly(p,c),p.h==0&&(p.src=null,h[Uy]=null)):Th(c)}}}function nT(c){return c in By?By[c]:By[c]="on"+c}function aL(c,h){if(c.da)c=!0;else{h=new Sc(h,this);var p=c.listener,y=c.ha||c.src;c.fa&&$y(c),c=p.call(y,h)}return c}function Hy(c){return c=c[Uy],c instanceof Sh?c:null}var zy="__closure_events_fn_"+(1e9*Math.random()>>>0);function qy(c){return typeof c=="function"?c:(c[zy]||(c[zy]=function(h){return c.handleEvent(h)}),c[zy])}function zt(){Oi.call(this),this.i=new Sh(this),this.M=this,this.F=null}w(zt,Oi),zt.prototype[Ac]=!0,zt.prototype.removeEventListener=function(c,h,p,y){tT(this,c,h,p,y)};function Jt(c,h){var p,y=c.F;if(y)for(p=[];y;y=y.F)p.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new Ht(h,c);else if(h instanceof Ht)h.target=h.target||c;else{var A=h;h=new Ht(y,c),C(h,A)}if(A=!0,p)for(var R=p.length-1;0<=R;R--){var U=h.g=p[R];A=Ah(U,y,!0,h)&&A}if(U=h.g=c,A=Ah(U,y,!0,h)&&A,A=Ah(U,y,!1,h)&&A,p)for(R=0;R<p.length;R++)U=h.g=p[R],A=Ah(U,y,!1,h)&&A}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],y=0;y<p.length;y++)Th(p[y]);delete c.g[h],c.h--}}this.F=null},zt.prototype.K=function(c,h,p,y){return this.i.add(String(c),h,!1,p,y)},zt.prototype.L=function(c,h,p,y){return this.i.add(String(c),h,!0,p,y)};function Ah(c,h,p,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,R=0;R<h.length;++R){var U=h[R];if(U&&!U.da&&U.capture==p){var Be=U.listener,Pt=U.ha||U.src;U.fa&&Ly(c.i,U),A=Be.call(Pt,y)!==!1&&A}}return A&&!y.defaultPrevented}function rT(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function iT(c){c.g=rT(()=>{c.g=null,c.i&&(c.i=!1,iT(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class uL extends Oi{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:iT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xc(c){Oi.call(this),this.h=c,this.g={}}w(xc,Oi);var sT=[];function oT(c){ne(c.g,function(h,p){this.g.hasOwnProperty(p)&&$y(h)},c),c.g={}}xc.prototype.N=function(){xc.aa.N.call(this),oT(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gy=a.JSON.stringify,cL=a.JSON.parse,lL=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Wy(){}Wy.prototype.h=null;function aT(c){return c.h||(c.h=c.i())}function uT(){}var Mc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ky(){Ht.call(this,"d")}w(Ky,Ht);function Qy(){Ht.call(this,"c")}w(Qy,Ht);var zs={},cT=null;function xh(){return cT=cT||new zt}zs.La="serverreachability";function lT(c){Ht.call(this,zs.La,c)}w(lT,Ht);function Nc(c){let h=xh();Jt(h,new lT(h))}zs.STAT_EVENT="statevent";function dT(c,h){Ht.call(this,zs.STAT_EVENT,c),this.stat=h}w(dT,Ht);function Xt(c){let h=xh();Jt(h,new dT(h,c))}zs.Ma="timingevent";function hT(c,h){Ht.call(this,zs.Ma,c),this.size=h}w(hT,Ht);function Rc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function kc(){this.g=!0}kc.prototype.xa=function(){this.g=!1};function dL(c,h,p,y,A,R){c.info(function(){if(c.g)if(R)for(var U="",Be=R.split("&"),Pt=0;Pt<Be.length;Pt++){var Me=Be[Pt].split("=");if(1<Me.length){var qt=Me[0];Me=Me[1];var Gt=qt.split("_");U=2<=Gt.length&&Gt[1]=="type"?U+(qt+"="+Me+"&"):U+(qt+"=redacted&")}}else U=null;else U=R;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+U})}function hL(c,h,p,y,A,R,U){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+R+" "+U})}function aa(c,h,p,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+pL(c,p)+(y?" "+y:"")})}function fL(c,h){c.info(function(){return"TIMEOUT: "+h})}kc.prototype.info=function(){};function pL(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var y=p[c];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return Gy(p)}catch{return h}}var Mh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yy;function Nh(){}w(Nh,Wy),Nh.prototype.g=function(){return new XMLHttpRequest},Nh.prototype.i=function(){return{}},Yy=new Nh;function Pi(c,h,p,y){this.j=c,this.i=h,this.l=p,this.R=y||1,this.U=new xc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pT}function pT(){this.i=null,this.g="",this.h=!1}var mT={},Zy={};function Jy(c,h,p){c.L=1,c.v=Ph(ri(h)),c.m=p,c.P=!0,gT(c,null)}function gT(c,h){c.F=Date.now(),Rh(c),c.A=ri(c.v);var p=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),MT(p.i,"t",y),c.C=0,p=c.j.J,c.h=new pT,c.g=KT(c.j,p?h:null,!c.m),0<c.O&&(c.M=new uL(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,y=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(sT[0]=A.toString()),A=sT);for(var R=0;R<A.length;R++){var U=Jb(p,A[R],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Nc(),dL(c.i,c.u,c.A,c.l,c.R,c.m)}Pi.prototype.ca=function(c){c=c.target;let h=this.M;h&&ii(c)==3?h.j():this.Y(c)},Pi.prototype.Y=function(c){try{if(c==this.g)e:{let Gt=ii(this.g);var h=this.g.Ba();let la=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||VT(this.g)))){this.J||Gt!=4||h==7||(h==8||0>=la?Nc(3):Nc(2)),Xy(this);var p=this.g.Z();this.X=p;t:if(yT(this)){var y=VT(this.g);c="";var A=y.length,R=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),Oc(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,c+=this.h.i.decode(y[h],{stream:!(R&&h==A-1)});y.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,hL(this.i,this.u,this.A,this.l,this.R,Gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Pt=this.g;if((Be=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Be)){var Me=Be;break t}}Me=null}if(p=Me)aa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ev(this,p);else{this.o=!1,this.s=3,Xt(12),qs(this),Oc(this);break e}}if(this.P){p=!0;let er;for(;!this.J&&this.C<U.length;)if(er=mL(this,U),er==Zy){Gt==4&&(this.s=4,Xt(14),p=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(er==mT){this.s=4,Xt(15),aa(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else aa(this.i,this.l,er,null),ev(this,er);if(yT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||U.length!=0||this.h.h||(this.s=1,Xt(16),p=!1),this.o=this.o&&p,!p)aa(this.i,this.l,U,"[Invalid Chunked Response]"),qs(this),Oc(this);else if(0<U.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ov(qt),qt.M=!0,Xt(11))}}else aa(this.i,this.l,U,null),ev(this,U);Gt==4&&qs(this),this.o&&!this.J&&(Gt==4?zT(this.j,this):(this.o=!1,Rh(this)))}else RL(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),qs(this),Oc(this)}}}catch{}finally{}};function yT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mL(c,h){var p=c.C,y=h.indexOf(`
`,p);return y==-1?Zy:(p=Number(h.substring(p,y)),isNaN(p)?mT:(y+=1,y+p>h.length?Zy:(h=h.slice(y,y+p),c.C=y+p,h)))}Pi.prototype.cancel=function(){this.J=!0,qs(this)};function Rh(c){c.S=Date.now()+c.I,vT(c,c.I)}function vT(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rc(m(c.ba,c),h)}function Xy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Pi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(fL(this.i,this.A),this.L!=2&&(Nc(),Xt(17)),qs(this),this.s=2,Oc(this)):vT(this,this.S-c)};function Oc(c){c.j.G==0||c.J||zT(c.j,c)}function qs(c){Xy(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,oT(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function ev(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||tv(p.h,c))){if(!c.K&&tv(p.h,c)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Uh(p),Lh(p);else break e;sv(p),Xt(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=Rc(m(p.Za,p),6e3));if(1>=ET(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ws(p,11)}else if((c.K||p.g==c)&&Uh(p),!j(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Me=A[h];if(p.T=Me[0],Me=Me[1],p.G==2)if(Me[0]=="c"){p.K=Me[1],p.ia=Me[2];let qt=Me[3];qt!=null&&(p.la=qt,p.j.info("VER="+p.la));let Gt=Me[4];Gt!=null&&(p.Aa=Gt,p.j.info("SVER="+p.Aa));let la=Me[5];la!=null&&typeof la=="number"&&0<la&&(y=1.5*la,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let er=c.g;if(er){let $h=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($h){var R=y.h;R.g||$h.indexOf("spdy")==-1&&$h.indexOf("quic")==-1&&$h.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(nv(R,R.h),R.h=null))}if(y.D){let av=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;av&&(y.ya=av,Ke(y.I,y.D,av))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=c;if(y.qa=WT(y,y.J?y.ia:null,y.W),U.K){IT(y.h,U);var Be=U,Pt=y.L;Pt&&(Be.I=Pt),Be.B&&(Xy(Be),Rh(Be)),y.g=U}else $T(y);0<p.i.length&&jh(p)}else Me[0]!="stop"&&Me[0]!="close"||Ws(p,7);else p.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ws(p,7):iv(p):Me[0]!="noop"&&p.l&&p.l.ta(Me),p.v=0)}}Nc(4)}catch{}}var gL=class{constructor(c,h){this.g=c,this.map=h}};function wT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _T(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ET(c){return c.h?1:c.g?c.g.size:0}function tv(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function nv(c,h){c.g?c.g.add(h):c.h=h}function IT(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}wT.prototype.cancel=function(){if(this.i=DT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function DT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return b(c.i)}function yL(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var h=[],p=c.length,y=0;y<p;y++)h.push(c[y]);return h}h=[],p=0;for(y in c)h[p++]=c[y];return h}function vL(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let y in c)h[p++]=y;return h}}}function CT(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=vL(c),y=yL(c),A=y.length,R=0;R<A;R++)h.call(void 0,y[R],p&&p[R],c)}var bT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wL(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var y=c[p].indexOf("="),A=null;if(0<=y){var R=c[p].substring(0,y);A=c[p].substring(y+1)}else R=c[p];h(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Gs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gs){this.h=c.h,kh(this,c.j),this.o=c.o,this.g=c.g,Oh(this,c.s),this.l=c.l;var h=c.i,p=new Vc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),TT(this,p),this.m=c.m}else c&&(h=String(c).match(bT))?(this.h=!1,kh(this,h[1]||"",!0),this.o=Pc(h[2]||""),this.g=Pc(h[3]||"",!0),Oh(this,h[4]),this.l=Pc(h[5]||"",!0),TT(this,h[6]||"",!0),this.m=Pc(h[7]||"")):(this.h=!1,this.i=new Vc(null,this.h))}Gs.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Fc(h,ST,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Fc(h,ST,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Fc(p,p.charAt(0)=="/"?IL:EL,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Fc(p,CL)),c.join("")};function ri(c){return new Gs(c)}function kh(c,h,p){c.j=p?Pc(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Oh(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function TT(c,h,p){h instanceof Vc?(c.i=h,bL(c.i,c.h)):(p||(h=Fc(h,DL)),c.i=new Vc(h,c.h))}function Ke(c,h,p){c.i.set(h,p)}function Ph(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pc(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fc(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,_L),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _L(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ST=/[#\/\?@]/g,EL=/[#\?:]/g,IL=/[#\?]/g,DL=/[#\?@]/g,CL=/#/g;function Vc(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Fi(c){c.g||(c.g=new Map,c.h=0,c.i&&wL(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Vc.prototype,t.add=function(c,h){Fi(this),this.i=null,c=ua(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function AT(c,h){Fi(c),h=ua(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function xT(c,h){return Fi(c),h=ua(c,h),c.g.has(h)}t.forEach=function(c,h){Fi(this),this.g.forEach(function(p,y){p.forEach(function(A){c.call(h,A,y,this)},this)},this)},t.na=function(){Fi(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=c[y];for(let R=0;R<A.length;R++)p.push(h[y])}return p},t.V=function(c){Fi(this);let h=[];if(typeof c=="string")xT(this,c)&&(h=h.concat(this.g.get(ua(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},t.set=function(c,h){return Fi(this),this.i=null,c=ua(this,c),xT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function MT(c,h,p){AT(c,h),0<p.length&&(c.i=null,c.g.set(ua(c,h),b(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var A=R;U[y]!==""&&(A+="="+encodeURIComponent(String(U[y]))),c.push(A)}}return this.i=c.join("&")};function ua(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function bL(c,h){h&&!c.j&&(Fi(c),c.i=null,c.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(AT(this,y),MT(this,A,p))},c)),c.j=h}function TL(c,h){let p=new kc;if(a.Image){let y=new Image;y.onload=g(Vi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=g(Vi,p,"TestLoadImage: error",!1,h,y),y.onabort=g(Vi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(Vi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function SL(c,h){let p=new kc,y=new AbortController,A=setTimeout(()=>{y.abort(),Vi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(R=>{clearTimeout(A),R.ok?Vi(p,"TestPingServer: ok",!0,h):Vi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Vi(p,"TestPingServer: error",!1,h)})}function Vi(c,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function AL(){this.g=new lL}function xL(c,h,p){let y=p||"";try{CT(c,function(A,R){let U=A;l(A)&&(U=Gy(A)),h.push(y+R+"="+encodeURIComponent(U))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function Lc(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Lc,Wy),Lc.prototype.g=function(){return new Fh(this.l,this.j)},Lc.prototype.i=function(c){return function(){return c}}({});function Fh(c,h){zt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Fh,zt),t=Fh.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Uc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function NT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?jc(this):Uc(this),this.readyState==3&&NT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,jc(this))},t.Qa=function(c){this.g&&(this.response=c,jc(this))},t.ga=function(){this.g&&jc(this)};function jc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Uc(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function Uc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RT(c){let h="";return ne(c,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function rv(c,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=RT(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Ke(c,h,p))}function ot(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,zt);var ML=/^https?$/i,NL=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yy.g(),this.v=this.o?aT(this.o):aT(Yy),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(R){kT(this,R);return}if(c=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NL,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,U]of p)this.g.setRequestHeader(R,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FT(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){kT(this,R)}};function kT(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,OT(c),Vh(c)}function OT(c){c.A||(c.A=!0,Jt(c,"complete"),Jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Jt(this,"complete"),Jt(this,"abort"),Vh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vh(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PT(this):this.bb())},t.bb=function(){PT(this)};function PT(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ii(c)!=4||c.Z()!=2)){if(c.u&&ii(c)==4)rT(c.Ea,0,c);else if(Jt(c,"readystatechange"),ii(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var A=String(c.D).match(bT)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!ML.test(A?A.toLowerCase():"")}p=y}if(p)Jt(c,"complete"),Jt(c,"success");else{c.m=6;try{var R=2<ii(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",OT(c)}}finally{Vh(c)}}}}function Vh(c,h){if(c.g){FT(c);let p=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||Jt(c,"ready");try{p.onreadystatechange=y}catch{}}}function FT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),cL(h)}};function VT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function RL(c){let h={};c=(c.g&&2<=ii(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(j(c[y]))continue;var p=S(c[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[A]||[];h[A]=R,R.push(p)}D(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bc(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function LT(c){this.Aa=0,this.i=[],this.j=new kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bc("baseRetryDelayMs",5e3,c),this.cb=Bc("retryDelaySeedMs",1e4,c),this.Wa=Bc("forwardChannelMaxRetries",2,c),this.wa=Bc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wT(c&&c.concurrentRequestLimit),this.Da=new AL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LT.prototype,t.la=8,t.G=1,t.connect=function(c,h,p,y){Xt(0),this.W=c,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=WT(this,null,this.W),jh(this)};function iv(c){if(jT(c),c.G==3){var h=c.U++,p=ri(c.I);if(Ke(p,"SID",c.K),Ke(p,"RID",h),Ke(p,"TYPE","terminate"),$c(c,p),h=new Pi(c,c.j,h),h.L=2,h.v=Ph(ri(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=KT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Rh(h)}GT(c)}function Lh(c){c.g&&(ov(c),c.g.cancel(),c.g=null)}function jT(c){Lh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function jh(c){if(!_T(c.h)&&!c.s){c.s=!0;var h=c.Ga;bc||Zb(),Tc||(bc(),Tc=!0),Vy.add(h,c),c.B=0}}function kL(c,h){return ET(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rc(m(c.Ga,c,h),qT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Pi(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),C(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=BT(this,A,h),p=ri(this.I),Ke(p,"RID",c),Ke(p,"CVER",22),this.D&&Ke(p,"X-HTTP-Session-Id",this.D),$c(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(RT(R)))+"&"+h:this.m&&rv(p,this.m,R)),nv(this.h,A),this.Ua&&Ke(p,"TYPE","init"),this.P?(Ke(p,"$req",h),Ke(p,"SID","null"),A.T=!0,Jy(A,p,null)):Jy(A,p,h),this.G=2}}else this.G==3&&(c?UT(this,c):this.i.length==0||_T(this.h)||UT(this))};function UT(c,h){var p;h?p=h.l:p=c.U++;let y=ri(c.I);Ke(y,"SID",c.K),Ke(y,"RID",p),Ke(y,"AID",c.T),$c(c,y),c.m&&c.o&&rv(y,c.m,c.o),p=new Pi(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=BT(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),nv(c.h,p),Jy(p,y,h)}function $c(c,h){c.H&&ne(c.H,function(p,y){Ke(h,y,p)}),c.l&&CT({},function(p,y){Ke(h,y,p)})}function BT(c,h,p){p=Math.min(c.i.length,p);var y=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let U=["count="+p];R==-1?0<p?(R=A[0].g,U.push("ofs="+R)):R=0:U.push("ofs="+R);let Be=!0;for(let Pt=0;Pt<p;Pt++){let Me=A[Pt].g,qt=A[Pt].map;if(Me-=R,0>Me)R=Math.max(0,A[Pt].g-100),Be=!1;else try{xL(qt,U,"req"+Me+"_")}catch{y&&y(qt)}}if(Be){y=U.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,y}function $T(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;bc||Zb(),Tc||(bc(),Tc=!0),Vy.add(h,c),c.v=0}}function sv(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rc(m(c.Fa,c),qT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,HT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rc(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Lh(this),HT(this))};function ov(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function HT(c){c.g=new Pi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=ri(c.qa);Ke(h,"RID","rpc"),Ke(h,"SID",c.K),Ke(h,"AID",c.T),Ke(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(h,"TO",c.ja),Ke(h,"TYPE","xmlhttp"),$c(c,h),c.m&&c.o&&rv(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Ph(ri(h)),p.m=null,p.P=!0,gT(p,c)}t.Za=function(){this.C!=null&&(this.C=null,Lh(this),sv(this),Xt(19))};function Uh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zT(c,h){var p=null;if(c.g==h){Uh(c),ov(c),c.g=null;var y=2}else if(tv(c.h,h))p=h.D,IT(c.h,h),y=1;else return;if(c.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=c.B;y=xh(),Jt(y,new hT(y,p)),jh(c)}else $T(c);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&kL(c,h)||y==2&&sv(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),A){case 1:Ws(c,5);break;case 4:Ws(c,10);break;case 3:Ws(c,6);break;default:Ws(c,2)}}}function qT(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function Ws(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),y=c.Xa;let A=!y;y=new Gs(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kh(y,"https"),Ph(y),A?TL(y.toString(),p):SL(y.toString(),p)}else Xt(2);c.G=0,c.l&&c.l.sa(h),GT(c),jT(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function GT(c){if(c.G=0,c.ka=[],c.l){let h=DT(c.h);(h.length!=0||c.i.length!=0)&&(T(c.ka,h),T(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function WT(c,h,p){var y=p instanceof Gs?ri(p):new Gs(p);if(y.g!="")h&&(y.g=h+"."+y.g),Oh(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var R=new Gs(null);y&&kh(R,y),h&&(R.g=h),A&&Oh(R,A),p&&(R.l=p),y=R}return p=c.D,h=c.ya,p&&h&&Ke(y,p,h),Ke(y,"VER",c.la),$c(c,y),y}function KT(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new ot(new Lc({eb:p})):new ot(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QT(){}t=QT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bh(){}Bh.prototype.g=function(c,h){return new bn(c,h)};function bn(c,h){zt.call(this),this.g=new LT(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!j(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new ca(this)}w(bn,zt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){iv(this.g)},bn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Gy(c),c=p);h.i.push(new gL(h.Ya++,c)),h.G==3&&jh(h)},bn.prototype.N=function(){this.g.l=null,delete this.j,iv(this.g),delete this.g,bn.aa.N.call(this)};function YT(c){Ky.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}w(YT,Ky);function ZT(){Qy.call(this),this.status=1}w(ZT,Qy);function ca(c){this.g=c}w(ca,QT),ca.prototype.ua=function(){Jt(this.g,"a")},ca.prototype.ta=function(c){Jt(this.g,new YT(c))},ca.prototype.sa=function(c){Jt(this.g,new ZT)},ca.prototype.ra=function(){Jt(this.g,"b")},Bh.prototype.createWebChannel=Bh.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,KI=Ci.createWebChannelTransport=function(){return new Bh},WI=Ci.getStatEventTarget=function(){return xh()},GI=Ci.Event=zs,fg=Ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,Vd=Ci.ErrorCode=Mh,fT.COMPLETE="complete",qI=Ci.EventType=fT,uT.EventType=Mc,Mc.OPEN="a",Mc.CLOSE="b",Mc.ERROR="c",Mc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Vu=Ci.WebChannel=uT,zI=Ci.FetchXmlHttpFactory=Lc,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,HI=Ci.XhrIo=ot}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var mO="@firebase/firestore";var Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");var pc="10.13.2";var Ms=new qh("@firebase/firestore");function $u(){return Ms.logLevel}function yP(t){Ms.setLogLevel(t)}function V(t,...e){if(Ms.logLevel<=Tr.DEBUG){let n=e.map(XC);Ms.debug(`Firestore (${pc}): ${t}`,...n)}}function pt(t,...e){if(Ms.logLevel<=Tr.ERROR){let n=e.map(XC);Ms.error(`Firestore (${pc}): ${t}`,...n)}}function Zn(t,...e){if(Ms.logLevel<=Tr.WARN){let n=e.map(XC);Ms.warn(`Firestore (${pc}): ${t}`,...n)}}function XC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+t;throw pt(e),new Error(e)}function te(t,e){t||Q()}function vP(t,e){t||Q()}function $(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends rS{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},XI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}},eD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tD=class{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>k(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new Cg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new Ct(e)}},nD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},rD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sD=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.R=n.token,new iD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function kG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var bg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=kG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function de(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function wP(t){return t+"\0"}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends Tg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},OG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class t extends Tg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return OG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var Ju=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function oD(t){return t.fields.find(e=>e.kind===2)}function Po(t){return t.fields.filter(e=>e.kind!==2)}Ju.UNKNOWN_ID=-1;var Ku=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Qd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Jn.min())}};function _P(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Jn(i,H.empty(),e)}function EP(t){return new Jn(t.readTime,t.key,-1)}var Jn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),H.empty(),-1)}static max(){return new t(re.max(),H.empty(),-1)}};function eb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var IP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Us(t){return k(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==IP)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Ag=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new bt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bo(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=tb(r.target.error);this.V.reject(new Bo(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Bo(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new uD(n)}},Ns=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Hc())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Fo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zh())return!1;if(t.v())return!0;let e=Hc(),n=t.S(e),r=0<n&&n<10,i=DP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return k(this,null,function*(){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Bo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new F(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new F(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bo(e,o))},i.onupgradeneeded=s=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return k(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=Ag.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,l=u.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function DP(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var aD=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Fo(this.B.delete())}},Bo=class extends F{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Bs(t){return t.name==="IndexedDbTransactionError"}var uD=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fo(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Fo(this.store.add(e))}get(e){return Fo(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Fo(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Fo(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new M((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){V("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{let o=tb(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let u=new aD(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){let d=l.catch(f=>(u.done(),M.reject(f)));r.push(d)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Fo(t){return new M((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=tb(r.target.error);n(i)}})}var gO=!1;function tb(t){let e=Ns.S(Hc());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gO||(gO=!0,setTimeout(()=>{throw r},0)),r}}return t}var cD=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){V("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>k(this,null,function*(){this.task=null;try{V("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Bs(n)?V("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Us(n)}yield this.X(6e4)}))}},lD=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return k(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return V("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(V("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=EP(s);eb(o,r)>0&&(r=o)}),new Jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Un=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function vh(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function CP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function fn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yO(e)),e=PG(t.get(n),e);return yO(e)}function PG(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function yO(t){return t+""}function Gr(t){let e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),Ae.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":let a=t.substring(s,o),u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new Ae(r)}var vO=["userId","batchId"];function vg(t,e){return[t,fn(e)]}function bP(t,e,n){return[t,fn(e),n]}var FG={},VG=["prefixPath","collectionGroup","readTime","documentId"],LG=["prefixPath","collectionGroup","documentId"],jG=["collectionGroup","readTime","prefixPath","documentId"],UG=["canonicalId","targetId"],BG=["targetId","path"],$G=["path","targetId"],HG=["collectionId","parent"],zG=["indexId","uid"],qG=["uid","sequenceNumber"],GG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WG=["indexId","uid","orderedDocumentKey"],KG=["userId","collectionPath","documentId"],QG=["userId","collectionPath","largestBatchId"],YG=["userId","collectionGroup","largestBatchId"],TP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZG=[...TP,"documentOverlays"],SP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AP=SP,nb=[...AP,"indexConfiguration","indexState","indexEntries"],JG=nb,XG=[...nb,"globals"];var Zd=class extends Sg{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function At(t,e){let n=$(t);return Ns.F(n._e,e)}function wO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ze=class t{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}},Wu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xg(this.data.getIterator())}getIteratorFrom(e){return new xg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Lu(t){return t.hasNext()?t.getNext():void 0}var Bn=class t{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Mg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function MP(){return typeof atob<"u"}var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var eW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(te(!!t),typeof t=="string"){let e=0,n=eW.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function _y(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rb(t){let e=t.mapValue.fields.__previous_value__;return _y(e)?rb(e):e}function Jd(t){let e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var dD=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ks=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wg={nullValue:"NULL_VALUE"};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_y(t)?4:NP(t)?9007199254740991:Ey(t)?10:11:Q()}function Zr(t,e){if(t===e)return!0;let n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jd(t).isEqual(Jd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Si(i.timestampValue),a=Si(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rs(i.bytesValue).isEqual(Rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Yd(o)===Yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wO(o)!==wO(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Zr(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Xd(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Os(t,e){if(t===e)return 0;let n=$o(t),r=$o(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Xe(s.integerValue||s.doubleValue),u=Xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return _O(t.timestampValue,e.timestampValue);case 4:return _O(Jd(t),Jd(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Rs(s),u=Rs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let d=de(a[l],u[l]);if(d!==0)return d}return de(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=de(Xe(s.latitude),Xe(o.latitude));return a!==0?a:de(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EO(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,d;let f=s.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(u=m.value)===null||u===void 0?void 0:u.arrayValue,b=de(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:EO(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===As.mapValue&&o===As.mapValue)return 0;if(s===As.mapValue)return 1;if(o===As.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){let m=de(u[f],d[f]);if(m!==0)return m;let g=Os(a[u[f]],l[d[f]]);if(g!==0)return g}return de(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function _O(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=Si(t),r=Si(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function EO(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Os(n[i],r[i]);if(s)return s}return de(n.length,r.length)}function Xu(t){return hD(t)}function hD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=hD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${hD(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function Ho(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fD(t){return!!t&&"integerValue"in t}function eh(t){return!!t&&"arrayValue"in t}function IO(t){return!!t&&"nullValue"in t}function DO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _g(t){return!!t&&"mapValue"in t}function Ey(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zd(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var RP={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function tW(t){return"nullValue"in t?wg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ho(ks.empty(),H.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ey(t)?RP:{mapValue:{}}:Q()}function nW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ho(ks.empty(),H.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?RP:"mapValue"in t?Ey(t)?{mapValue:{}}:As:Q()}function CO(t,e){let n=Os(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bO(t,e){let n=Os(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_g(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zd(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());_g(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(zd(this.value))}};function kP(t){let e=[];return Xo(t.fields,(n,r)=>{let i=new mt([n]);if(_g(r)){let s=kP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}var Tt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jr=class{constructor(e,n){this.position=e,this.inclusive=n}};function TO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Os(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}var zo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ng=class{},Ie=class t extends Ng{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new Rg(e,r):n==="not-in"?new _D(e,r):n==="array-contains-any"?new ED(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yD(e,r):new vD(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},je=class t extends Ng{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ec(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ec(t){return t.op==="and"}function pD(t){return t.op==="or"}function ib(t){return OP(t)&&ec(t)}function OP(t){for(let e of t.filters)if(e instanceof je)return!1;return!0}function mD(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Xu(t.value);if(ib(t))return t.filters.map(e=>mD(e)).join(",");{let e=t.filters.map(n=>mD(n)).join(",");return`${t.op}(${e})`}}function PP(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PP(o,i.filters[a]),!0):!1}(t,e):void Q()}function FP(t,e){let n=t.filters.concat(e);return je.create(n,t.op)}function VP(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Xu(n.value)}`}(t):t instanceof je?function(n){return n.op.toString()+" {"+n.getFilters().map(VP).join(" ,")+"}"}(t):"Filter"}var gD=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},yD=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=LP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vD=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=LP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function LP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var wD=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return eh(n)&&Xd(n.arrayValue,this.value)}},Rg=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}},_D=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Xd(this.value.arrayValue,n)}},ED=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}};var ID=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function DD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ID(t,e,n,r,i,s,o)}function qo(t){let e=$(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xu(r)).join(",")),e.ue=n}return e.ue}function wh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SO(t.startAt,e.startAt)&&SO(t.endAt,e.endAt)}function kg(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Og(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function AO(t,e,n){let r=wg,i=!0;for(let s of Og(t,e)){let o=wg,a=!0;switch(s.op){case"<":case"<=":o=tW(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=wg}CO({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];CO({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function xO(t,e,n){let r=As,i=!0;for(let s of Og(t,e)){let o=As,a=!0;switch(s.op){case">=":case">":o=nW(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=As}bO({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];bO({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var Ir=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function jP(t,e,n,r,i,s,o,a){return new Ir(t,e,n,r,i,s,o,a)}function mc(t){return new Ir(t)}function MO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sb(t){return t.collectionGroup!==null}function Qu(t){let e=$(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(mt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zo(s,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new zo(mt.keyField(),r))}return e.ce}function pn(t){let e=$(t);return e.le||(e.le=iW(e,Qu(t))),e.le}function iW(t,e){if(t.limitType==="F")return DD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new zo(i.field,s)});let n=t.endAt?new Jr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jr(t.startAt.position,t.startAt.inclusive):null;return DD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CD(t,e){let n=t.filters.concat([e]);return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pg(t,e,n){return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return wh(pn(t),pn(e))&&t.limitType===e.limitType}function UP(t){return`${qo(pn(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VP(i)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xu(i)).join(",")),`Target(${r})`}(pn(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=TO(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Qu(r),i)||r.endAt&&!function(o,a,u){let l=TO(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Qu(r),i))}(t,e)}function BP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $P(t){return(e,n)=>{let r=!1;for(let i of Qu(t)){let s=sW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sW(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Os(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return xP(this.inner)}size(){return this.innerSize}};var oW=new Ze(H.comparator);function Cn(){return oW}var HP=new Ze(H.comparator);function $d(...t){let e=HP;for(let n of t)e=e.insert(n.key,n);return e}function zP(t){let e=HP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return qd()}function qP(){return qd()}function qd(){return new Xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var aW=new Ze(H.comparator),uW=new ze(H.comparator);function fe(...t){let e=uW;for(let n of t)e=e.add(n);return e}var cW=new ze(de);function ob(){return cW}function ab(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function GP(t){return{integerValue:""+t}}function WP(t,e){return CP(e)?GP(e):ab(t,e)}var tc=class{constructor(){this._=void 0}};function lW(t,e,n){return t instanceof Ps?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_y(s)&&(s=rb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ai?QP(t,e):t instanceof xi?YP(t,e):function(i,s){let o=KP(i,s),a=NO(o)+NO(i.Pe);return fD(o)&&fD(i.Pe)?GP(a):ab(i.serializer,a)}(t,e)}function dW(t,e,n){return t instanceof Ai?QP(t,e):t instanceof xi?YP(t,e):n}function KP(t,e){return t instanceof Fs?function(r){return fD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ps=class extends tc{},Ai=class extends tc{constructor(e){super(),this.elements=e}};function QP(t,e){let n=ZP(e);for(let r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}var xi=class extends tc{constructor(e){super(),this.elements=e}};function YP(t,e){let n=ZP(e);for(let r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}var Fs=class extends tc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function NO(t){return Xe(t.integerValue||t.doubleValue)}function ZP(t){return eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Go=class{constructor(e,n){this.field=e,this.transform=n}};function hW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ai&&i instanceof Ai||r instanceof xi&&i instanceof xi?Zu(r.elements,i.elements,Zr):r instanceof Fs&&i instanceof Fs?Zr(r.Pe,i.Pe):r instanceof Ps&&i instanceof Ps}(t.transform,e.transform)}var bD=class{constructor(e,n){this.version=e,this.transformResults=n}},ht=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var nc=class{};function JP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ls(t.key,ht.none()):new Vs(t.key,t.data,ht.none());{let n=t.data,r=Zt.empty(),i=new ze(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dr(t.key,r,new Bn(i.toArray()),ht.none())}}function fW(t,e,n){t instanceof Vs?function(i,s,o){let a=i.value.clone(),u=kO(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(i,s,o){if(!Eg(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=kO(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(XP(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gd(t,e,n,r){return t instanceof Vs?function(s,o,a,u){if(!Eg(s.precondition,o))return a;let l=s.value.clone(),d=OO(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(s,o,a,u){if(!Eg(s.precondition,o))return a;let l=OO(s.fieldTransforms,u,o),d=o.data;return d.setAll(XP(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Eg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pW(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=KP(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function RO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(s,o)=>hW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vs=class extends nc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dr=class extends nc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function XP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function kO(t,e,n){let r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,dW(o,a,n[i]))}return r}function OO(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,lW(s,o,e))}return r}var Ls=class extends nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},th=class extends nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var nh=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&fW(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=qP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=JP(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>RO(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>RO(n,r))}},TD=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=function(){return aW}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var rh=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var SD=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var It,Se;function eF(t){switch(t){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function tF(t){if(t===void 0)return pt("GRPC error has no .code"),N.UNKNOWN;switch(t){case It.OK:return N.OK;case It.CANCELLED:return N.CANCELLED;case It.UNKNOWN:return N.UNKNOWN;case It.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case It.INTERNAL:return N.INTERNAL;case It.UNAVAILABLE:return N.UNAVAILABLE;case It.UNAUTHENTICATED:return N.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case It.NOT_FOUND:return N.NOT_FOUND;case It.ALREADY_EXISTS:return N.ALREADY_EXISTS;case It.PERMISSION_DENIED:return N.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case It.ABORTED:return N.ABORTED;case It.OUT_OF_RANGE:return N.OUT_OF_RANGE;case It.UNIMPLEMENTED:return N.UNIMPLEMENTED;case It.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(Se=It||(It={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var PO=null;function nF(){return new TextEncoder}var mW=new Ds([4294967295,4294967295],0);function FO(t){let e=nF().encode(t),n=new $I;return n.update(e),new Uint8Array(n.digest())}function VO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([i,s],0)]}var AD=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ds.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ds.fromNumber(r)));return i.compare(mW)===1&&(i=new Ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=FO(e),[r,i]=VO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=FO(e),[r,i]=VO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ih=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new Ze(de),Cn(),fe())}},sh=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Yu=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fg=class{constructor(e,n){this.targetId=e,this.me=n}},Vg=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Lg=class{constructor(){this.fe=0,this.ge=jO(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new sh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},xD=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cn(),this.qe=LO(),this.Qe=new Ze(de)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(kg(s))if(r===0){let o=new H(s.path);this.Ue(n,o,Tt.newNoDocument(o,re.min()))}else te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}PO?.et(function(d,f,m,g,w){var b,T,O,j,P,K;let X={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ne=f.unchangedNames;return ne&&(X.bloomFilter={applied:w===0,hashCount:(b=ne?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(j=(O=(T=ne?.bits)===null||T===void 0?void 0:T.bitmap)===null||O===void 0?void 0:O.length)!==null&&j!==void 0?j:0,padding:(K=(P=ne?.bits)===null||P===void 0?void 0:P.padding)!==null&&K!==void 0?K:0,mightContain:D=>{var v;return(v=g?.mightContain(D))!==null&&v!==void 0&&v}}),X}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Rs(r).toUint8Array()}catch(u){if(u instanceof Mg)return Zn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AD(o,i,s)}catch(u){return Zn(u instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&kg(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Tt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new ih(e,n,this.Qe,this.ke,r);return this.ke=Cn(),this.qe=LO(),this.Qe=new Ze(de),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Lg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(de),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function LO(){return new Ze(H.comparator)}function jO(){return new Ze(H.comparator)}var gW={asc:"ASCENDING",desc:"DESCENDING"},yW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vW={and:"AND",or:"OR"},MD=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ND(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wW(t,e){return rc(t,e.toTimestamp())}function gt(t){return te(!!t),re.fromTimestamp(function(n){let r=Si(n);return new st(r.seconds,r.nanos)}(t))}function ub(t,e){return RD(t,e).canonicalString()}function RD(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iF(t){let e=Ae.fromString(t);return te(pF(e)),e}function oh(t,e){return ub(t.databaseId,e.path)}function Qr(t,e){let n=iF(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(aF(n))}function sF(t,e){return ub(t.databaseId,e)}function oF(t){let e=iF(t);return e.length===4?Ae.emptyPath():aF(e)}function kD(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aF(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UO(t,e,n){return{name:oh(t,e),fields:n.value.mapValue.fields}}function uF(t,e,n){let r=Qr(t,e.name),i=gt(e.updateTime),s=e.createTime?gt(e.createTime):re.min(),o=new Zt({mapValue:{fields:e.fields}}),a=Tt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _W(t,e){return"found"in e?function(r,i){te(!!i.found),i.found.name,i.found.updateTime;let s=Qr(r,i.found.name),o=gt(i.found.updateTime),a=i.found.createTime?gt(i.found.createTime):re.min(),u=new Zt({mapValue:{fields:i.found.fields}});return Tt.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){te(!!i.missing),te(!!i.readTime);let s=Qr(r,i.missing),o=gt(i.readTime);return Tt.newNoDocument(s,o)}(t,e):Q()}function EW(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(te(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?N.UNKNOWN:tF(l.code);return new F(d,l.message||"")}(o);n=new Vg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Qr(t,r.document.name),s=gt(r.document.updateTime),o=r.document.createTime?gt(r.document.createTime):re.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new Yu(l,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Qr(t,r.document),s=r.readTime?gt(r.readTime):re.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Qr(t,r.document),s=r.removedTargetIds||[];n=new Yu([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new SD(i,s),a=r.targetId;n=new Fg(a,o)}}return n}function ah(t,e){let n;if(e instanceof Vs)n={update:UO(t,e.key,e.value)};else if(e instanceof Ls)n={delete:oh(t,e.key)};else if(e instanceof Dr)n={update:UO(t,e.key,e.data),updateMask:SW(e.fieldMask)};else{if(!(e instanceof th))return Q();n={verify:oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ps)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function OD(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?ht.updateTime(gt(s.updateTime)):s.exists!==void 0?ht.exists(s.exists):ht.none()}(e.currentDocument):ht.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),u=new Ps;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];u=new Ai(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];u=new xi(d)}else"increment"in a?u=new Fs(o,a.increment):Q();let l=mt.fromServerFormat(a.fieldPath);return new Go(l,u)}(t,i)):[];if(e.update){e.update.name;let i=Qr(t,e.update.name),s=new Zt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(u){let l=u.fieldPaths||[];return new Bn(l.map(d=>mt.fromServerFormat(d)))}(e.updateMask);return new Dr(i,s,o,n,r)}return new Vs(i,s,n,r)}if(e.delete){let i=Qr(t,e.delete);return new Ls(i,n)}if(e.verify){let i=Qr(t,e.verify);return new th(i,n)}return Q()}function IW(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gt(i.updateTime):gt(s);return o.isEqual(re.min())&&(o=gt(s)),new bD(o,i.transformResults||[])}(n,e))):[]}function cF(t,e){return{documents:[sF(t,e.path)]}}function lF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sF(t,i);let s=function(l){if(l.length!==0)return fF(je.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(m){return{field:zu(m.field),direction:CW(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=ND(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function dF(t){let e=oF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){te(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=hF(f);return m instanceof je&&ib(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new zo(qu(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,vh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){let m=!!f.before,g=f.values||[];return new Jr(g,m)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Jr(g,m)}(n.endAt)),jP(e,i,o,s,a,"F",u,l)}function DW(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qu(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qu(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qu(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qu(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(qu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return je.create(n.compositeFilter.filters.map(r=>hF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function CW(t){return gW[t]}function bW(t){return yW[t]}function TW(t){return vW[t]}function zu(t){return{fieldPath:t.canonicalString()}}function qu(t){return mt.fromServerFormat(t.fieldPath)}function fF(t){return t instanceof Ie?function(n){if(n.op==="=="){if(DO(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NAN"}};if(IO(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DO(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NOT_NAN"}};if(IO(n.value))return{unaryFilter:{field:zu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(n.field),op:bW(n.op),value:n.value}}}(t):t instanceof je?function(n){let r=n.getFilters().map(i=>fF(i));return r.length===1?r[0]:{compositeFilter:{op:TW(n.op),filters:r}}}(t):Q()}function SW(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ic=class t{constructor(e,n,r,i,s=re.min(),o=re.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jg=class{constructor(e){this.ct=e}};function AW(t,e){let n;if(e.document)n=uF(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=H.fromSegments(e.noDocument.path),i=Ko(e.noDocument.readTime);n=Tt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{let r=H.fromSegments(e.unknownDocument.path),i=Ko(e.unknownDocument.version);n=Tt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new st(i[0],i[1]);return re.fromTimestamp(s)}(e.readTime)),n}function BO(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ug(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:oh(s,o.key),fields:o.data.value.mapValue.fields,updateTime:rc(s,o.version.toTimestamp()),createTime:rc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function Ug(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ko(t){let e=new st(t.seconds,t.nanoseconds);return re.fromTimestamp(e)}function Vo(t,e){let n=(e.baseMutations||[]).map(s=>OD(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>OD(t.ct,s)),i=st.fromMillis(e.localWriteTimeMs);return new nh(e.batchId,i,n,r)}function Hd(t){let e=Ko(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ko(t.lastLimboFreeSnapshotVersion):re.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return te(s.documents.length===1),pn(mc(oF(s.documents[0])))}(t.query):function(s){return pn(dF(s))}(t.query),new ic(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yt.fromBase64String(t.resumeToken))}function mF(t,e){let n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion),i;i=kg(e.target)?cF(t.ct,e.target):lF(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cb(t){let e=dF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pg(e,e.limit,"L"):e}function QI(t,e){return new rh(e.largestBatchId,OD(t.ct,e.overlayMutation))}function $O(t,e){let n=e.path.lastSegment();return[t,fn(e.path.popLast()),n]}function HO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Wo(r.readTime),documentKey:fn(r.documentKey.path),largestBatchId:r.largestBatchId}}var PD=class{getBundleMetadata(e,n){return zO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ko(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return zO(e).put(function(i){return{bundleId:i.id,createTime:Wo(gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return qO(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:cb(s.bundledQuery),readTime:Ko(s.readTime)}}(r)})}saveNamedQuery(e,n){return qO(e).put(function(i){return{name:i.name,readTime:Wo(gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function zO(t){return At(t,"bundles")}function qO(t){return At(t,"namedQueries")}var Bg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Ld(e).get($O(this.userId,n)).next(r=>r?QI(this.serializer,r):null)}getOverlays(e,n){let r=Wr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new rh(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(fn(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ld(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){let i=Wr(),s=fn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ld(e).U("collectionPathOverlayIndex",o).next(a=>{for(let u of a){let l=QI(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=Wr(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ld(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{let f=QI(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Ld(e).put(function(i,s,o){let[a,u,l]=$O(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ah(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function Ld(t){return At(t,"documentOverlays")}var FD=class{Pt(e){return At(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{let r=n?.value;return r?yt.fromUint8Array(r):yt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}};var bi=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Xe(e.integerValue));else if("doubleValue"in e){let r=Xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Yd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Si(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Rs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?NP(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Ey(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Xe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};bi.vt=new bi;function xW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function GO(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=xW(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var VD=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let n=this.qt(e),r=GO(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){let n=this.qt(e),r=GO(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){let n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},LD=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},jD=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Lo=class{constructor(){this.jt=new VD,this.Ht=new LD(this.jt),this.Jt=new jD(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var jo=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Cs(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=WO(t.arrayValue,e.arrayValue),n!==0?n:(n=WO(t.directionalValue,e.directionalValue),n!==0?n:H.comparator(t.documentKey,e.documentKey)))}function WO(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var $g=class{constructor(e){this.Xt=new ze((n,r)=>mt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let n of e.filters){let r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(te(e.collectionGroup===this.collectionId),this.nn)return!1;let n=oD(e);if(n!==void 0&&!this.sn(n))return!1;let r=Po(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let u=r[s];if(!this.on(a,u)||!this._n(this.en[o++],u))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new ze(mt.comparator),n=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ku(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ku(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ku(r.field,r.dir==="asc"?0:1)));return new Ju(Ju.UNKNOWN_ID,this.collectionId,n,Qd.empty())}sn(e){for(let n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function gF(t){var e,n;if(te(t instanceof Ie||t instanceof je),t instanceof Ie){if(t instanceof Rg){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ie.create(t.field,"==",s)))||[];return je.create(i,"or")}return t}let r=t.filters.map(i=>gF(i));return je.create(r,t.op)}function MW(t){if(t.getFilters().length===0)return[];let e=$D(gF(t));return te(yF(e)),UD(e)||BD(e)?[e]:e.getFilters()}function UD(t){return t instanceof Ie}function BD(t){return t instanceof je&&ib(t)}function yF(t){return UD(t)||BD(t)||function(n){if(n instanceof je&&pD(n)){for(let r of n.getFilters())if(!UD(r)&&!BD(r))return!1;return!0}return!1}(t)}function $D(t){if(te(t instanceof Ie||t instanceof je),t instanceof Ie)return t;if(t.filters.length===1)return $D(t.filters[0]);let e=t.filters.map(r=>$D(r)),n=je.create(e,t.op);return n=Hg(n),yF(n)?n:(te(n instanceof je),te(ec(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>lb(r,i)))}function lb(t,e){let n;return te(t instanceof Ie||t instanceof je),te(e instanceof Ie||e instanceof je),n=t instanceof Ie?e instanceof Ie?function(i,s){return je.create([i,s],"and")}(t,e):KO(t,e):e instanceof Ie?KO(e,t):function(i,s){if(te(i.filters.length>0&&s.filters.length>0),ec(i)&&ec(s))return FP(i,s.getFilters());let o=pD(i)?i:s,a=pD(i)?s:i,u=o.filters.map(l=>lb(l,a));return je.create(u,"or")}(t,e),Hg(n)}function KO(t,e){if(ec(e))return FP(e,t.getFilters());{let n=e.filters.map(r=>lb(t,r));return je.create(n,"or")}}function Hg(t){if(te(t instanceof Ie||t instanceof je),t instanceof Ie)return t;let e=t.getFilters();if(e.length===1)return Hg(e[0]);if(OP(t))return t;let n=e.map(i=>Hg(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof je&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:je.create(r,t.op)}var HD=class{constructor(){this.un=new uh}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Jn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},uh=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Ae.comparator)).toArray()}};var pg=new Uint8Array(0),zD=class{constructor(e,n){this.databaseId=n,this.cn=new uh,this.ln=new Xr(r=>qo(r),(r,i)=>wh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});let s={collectionId:r,parent:fn(i)};return QO(e).put(s)}return M.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[wP(n),""],!1,!0);return QO(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(Gr(o.parent))}return r})}addFieldIndex(e,n){let r=jd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=Uu(e);return s.next(a=>{o.put(HO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=jd(e),i=Uu(e),s=ju(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=jd(e),r=ju(e),i=Uu(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new $g(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=ju(e),i=!0,s=new Map;return M.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=fe(),a=[];return M.forEach(s,(u,l)=>{V("IndexedDbIndexManager",`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`}(u)} to execute ${qo(n)}`);let d=function(P,K){let X=oD(K);if(X===void 0)return null;for(let ne of Og(P,X.fieldPath))switch(ne.op){case"array-contains-any":return ne.value.arrayValue.values||[];case"array-contains":return[ne.value]}return null}(l,u),f=function(P,K){let X=new Map;for(let ne of Po(K))for(let D of Og(P,ne.fieldPath))switch(D.op){case"==":case"in":X.set(ne.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return X.set(ne.fieldPath.canonicalString(),D.value),Array.from(X.values())}return null}(l,u),m=function(P,K){let X=[],ne=!0;for(let D of Po(K)){let v=D.kind===0?AO(P,D.fieldPath,P.startAt):xO(P,D.fieldPath,P.startAt);X.push(v.value),ne&&(ne=v.inclusive)}return new Jr(X,ne)}(l,u),g=function(P,K){let X=[],ne=!0;for(let D of Po(K)){let v=D.kind===0?xO(P,D.fieldPath,P.endAt):AO(P,D.fieldPath,P.endAt);X.push(v.value),ne&&(ne=v.inclusive)}return new Jr(X,ne)}(l,u),w=this.In(u,l,m),b=this.In(u,l,g),T=this.Tn(u,l,f),O=this.En(u.indexId,d,w,m.inclusive,b,g.inclusive,T);return M.forEach(O,j=>r.G(j,n.limit).next(P=>{P.forEach(K=>{let X=H.fromSegments(K.documentKey);o.has(X)||(o=o.add(X),a.push(X))})}))}).next(()=>a)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=MW(je.create(e.filters,"and")).map(r=>DD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){let u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),d=[];for(let f=0;f<u;++f){let m=n?this.dn(n[f/l]):pg,g=this.An(e,m,r[f%l],i),w=this.Rn(e,m,s[f%l],o),b=a.map(T=>this.An(e,m,T,!0));d.push(...this.createRange(g,w,b))}return d}An(e,n,r,i){let s=new jo(e,H.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){let s=new jo(e,H.empty(),n,r);return i?s.Zt():s}Pn(e,n){let r=new $g(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.hn(n);return M.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new ze(mt.comparator),d=!1;for(let f of u.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:l=l.add(m.field));for(let f of u.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){let r=new Lo;for(let i of Po(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);bi.vt.It(s,o)}return r.zt()}dn(e){let n=new Lo;return bi.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){let r=new Lo;return bi.vt.It(Ho(this.databaseId,n),r.Yt(function(s){let o=Po(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Lo);let s=0;for(let o of Po(e)){let a=r[s++];for(let u of i)if(this.fn(n,o.fieldPath)&&eh(a))i=this.gn(i,o,a);else{let l=u.Yt(o.kind);bi.vt.It(a,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let u=new Lo;u.seed(a.zt()),bi.vt.It(o,u.Yt(n.kind)),s.push(u)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=jd(e),i=Uu(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,f){let m=f?new Qd(f.sequenceNumber,new Jn(Ko(f.readTime),new H(Gr(f.documentKey)),f.largestBatchId)):Qd.empty(),g=d.fields.map(([w,b])=>new Ku(mt.fromServerFormat(w),b));return new Ju(d.indexId,d.collectionGroup,g,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:de(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=jd(e),s=Uu(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(HO(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return M.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.wn(e,i,u).next(l=>{let d=this.Sn(s,u);return l.isEqual(d)?M.resolve():this.bn(e,s,u,l,d)}))))})}Dn(e,n,r,i){return ju(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return ju(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){let i=ju(e),s=new ze(Cs);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new jo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new ze(Cs),i=this.Vn(n,e);if(i==null)return r;let s=oD(n);if(s!=null){let o=e.data.field(s.fieldPath);if(eh(o))for(let a of o.arrayValue.values||[])r=r.add(new jo(n.indexId,e.key,this.dn(a),i))}else r=r.add(new jo(n.indexId,e.key,pg,i));return r}bn(e,n,r,i,s){V("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(u,l,d,f,m){let g=u.getIterator(),w=l.getIterator(),b=Lu(g),T=Lu(w);for(;b||T;){let O=!1,j=!1;if(b&&T){let P=d(b,T);P<0?j=!0:P>0&&(O=!0)}else b!=null?j=!0:O=!0;O?(f(T),T=Lu(w)):j?(m(b),b=Lu(g)):(b=Lu(g),T=Lu(w))}}(i,s,Cs,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),M.waitFor(o)}yn(e){let n=1;return Uu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Cs(o,a)).filter((o,a,u)=>!a||Cs(o,u[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Cs(o,e),u=Cs(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,pg,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,pg,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return Cs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YO)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Q())).next(YO)}};function QO(t){return At(t,"collectionParents")}function ju(t){return At(t,"indexEntries")}function jd(t){return At(t,"indexConfiguration")}function Uu(t){return At(t,"indexState")}function YO(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;eb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jn(e.readTime,e.documentKey,n)}var ZO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function vF(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.J({range:o},(d,f,m)=>(a++,m.delete()));s.push(u.next(()=>{te(a===1)}));let l=[];for(let d of n.mutations){let f=bP(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return M.waitFor(s).next(()=>l)}function zg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);var qg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){te(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Gu(e),o=bs(e);return o.add({}).next(a=>{te(typeof a=="number");let u=new nh(a,n,r,i),l=function(g,w,b){let T=b.baseMutations.map(j=>ah(g.ct,j)),O=b.mutations.map(j=>ah(g.ct,j));return{userId:w,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:T,mutations:O}}(this.serializer,this.userId,u),d=[],f=new ze((m,g)=>de(m.canonicalString(),g.canonicalString()));for(let m of i){let g=bP(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(l)),d.push(s.put(g,FG))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=u.keys()}),M.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return bs(e).get(n).next(r=>r?(te(r.userId===this.userId),Vo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return bs(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(te(a.batchId>=r),s=Vo(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return bs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bs(e).U("userMutationsIndex",n).next(r=>r.map(i=>Vo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=vg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Gu(e).J({range:i},(o,a,u)=>{let[l,d,f]=o,m=Gr(d);if(l===this.userId&&n.path.isEqual(m))return bs(e).get(f).next(g=>{if(!g)throw Q();te(g.userId===this.userId),s.push(Vo(this.serializer,g))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(de),i=[];return n.forEach(s=>{let o=vg(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Gu(e).J({range:a},(l,d,f)=>{let[m,g,w]=l,b=Gr(g);m===this.userId&&s.path.isEqual(b)?r=r.add(w):f.done()});i.push(u)}),M.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=vg(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ze(de);return Gu(e).J({range:o},(u,l,d)=>{let[f,m,g]=u,w=Gr(m);f===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(bs(e).get(s).next(o=>{if(o===null)throw Q();te(o.userId===this.userId),r.push(Vo(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return vF(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Gu(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let u=Gr(s[1]);i.push(u)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return wF(e,this.userId,n)}Nn(e){return _F(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function wF(t,e,n){let r=vg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Gu(t).J({range:s,H:!0},(a,u,l)=>{let[d,f,m]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function bs(t){return At(t,"mutations")}function Gu(t){return At(t,"documentMutations")}function _F(t){return At(t,"mutationQueues")}var sc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var qD=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{let r=new sc(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>re.fromTimestamp(new st(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bu(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return Bu(e).J((o,a)=>{let u=Hd(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Bu(e).J((r,i)=>{let s=Hd(i);n(s)})}qn(e){return JO(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Qn(e,n){return JO(e).put("targetGlobalKey",n)}Kn(e,n){return Bu(e).put(mF(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=qo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Bu(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{let l=Hd(a);wh(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Ts(e);return n.forEach(o=>{let a=fn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){let i=Ts(e);return M.forEach(n,s=>{let o=fn(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Ts(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ts(e),s=fe();return i.J({range:r,H:!0},(o,a,u)=>{let l=Gr(o[1]),d=new H(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=fn(n.path),i=IDBKeyRange.bound([r],[wP(r)],!1,!0),s=0;return Ts(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return Bu(e).get(n).next(r=>r?Hd(r):null)}};function Bu(t){return At(t,"targets")}function JO(t){return At(t,"targetGlobal")}function Ts(t){return At(t,"targetDocuments")}function XO([t,e],[n,r]){let i=de(t,n);return i===0?de(e,r):i}var GD=class{constructor(e){this.Un=e,this.buffer=new ze(XO),this.Wn=0}Gn(){return++this.Wn}zn(e){let n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();XO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},WD=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>k(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bs(n)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Us(n)}yield this.Hn(3e5)}))}},KD=class{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Un.oe);let r=new GD(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(ZO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZO):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,u,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),$u()<=Tr.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function NW(t,e){return new KD(t,e)}var QD=class{constructor(e,n){this.db=e,this.garbageCollector=NW(this,n)}Yn(e){let n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return mg(e,r)}removeReference(e,n,r){return mg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return mg(e,n)}nr(e,n){return function(i,s){let o=!1;return _F(i).Y(a=>wF(i,a,s).next(u=>(u&&(o=!0),M.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=n){let u=this.nr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,re.min()),Ts(e).delete(function(f){return[0,fn(f.path)]}(o))))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return mg(e,n)}tr(e,n){let r=Ts(e),i,s=Un.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Un.oe&&n(new H(Gr(i)),s),s=l,i=u):s=Un.oe}).next(()=>{s!==Un.oe&&n(new H(Gr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function mg(t,e){return Ts(t).put(function(r,i){return{targetId:0,path:fn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Gg=class{constructor(){this.changes=new Xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var YD=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Oo(e).put(r)}removeEntry(e,n,r){return Oo(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ug(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Tt.newInvalidDocument(n);return Oo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:Tt.newInvalidDocument(n)};return Oo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(n))},(i,s)=>{r={document:this.ir(n,s),size:zg(s)}}).next(()=>r)}getEntries(e,n){let r=Cn();return this._r(e,n,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Cn(),i=new Ze(H.comparator);return this._r(e,n,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,zg(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let i=new ze(nP);n.forEach(u=>i=i.add(u));let s=IDBKeyRange.bound(Ud(i.first()),Ud(i.last())),o=i.getIterator(),a=o.getNext();return Oo(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{let f=H.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&nP(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(Ud(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Ug(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oo(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=Cn();for(let f of l){let m=this.ir(H.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Eh(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Cn(),o=tP(n,r),a=tP(n,Jn.max());return Oo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{let f=this.ir(H.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new ZD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return eP(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}rr(e,n){return eP(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){let r=AW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return Tt.newInvalidDocument(e)}};function EF(t){return new YD(t)}var ZD=class extends Gg{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Xr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new ze((s,o)=>de(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let u=BO(this.cr.serializer,o);i=i.add(s.path.popLast());let l=zg(u);r+=l-a.size,n.push(this.cr.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){let u=BO(this.cr.serializer,o.convertToNoDocument(re.min()));n.push(this.cr.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function eP(t){return At(t,"remoteDocumentGlobal")}function Oo(t){return At(t,"remoteDocumentsV14")}function Ud(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tP(t,e){let n=e.documentKey.path.toArray();return[t,Ug(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nP(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=de(n[s],r[s]),i)return i;return i=de(n.length,r.length),i||(i=de(n[n.length-2],r[r.length-2]),i||de(n[n.length-1],r[r.length-1]))}var JD=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Wg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gd(r.mutation,i,Bn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$d();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cn(),o=qd(),a=function(){return qd()}();return n.forEach((u,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Dr)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Gd(d.mutation,l,d.mutation.getFieldMask(),st.now())):o.set(l.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new JD(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=qd(),i=new Ze((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let d=r.get(u)||Bn.empty();d=a.applyToLocalView(l,d),r.set(u,d);let f=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,d=u.value,f=qP();d.forEach(m=>{if(!s.has(m)){let g=JP(n.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Wr()),a=-1,u=s;return o.next(l=>M.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(d=>({batchId:a,changes:zP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=$d();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=$d();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{let l=function(f,m){return new Ir(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,Tt.newInvalidDocument(d)))});let a=$d();return o.forEach((u,l)=>{let d=s.get(u);d!==void 0&&Gd(d.mutation,l,Bn.empty(),st.now()),Eh(n,l)&&(a=a.insert(u,l))}),a})}};var XD=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:cb(i.bundledQuery),readTime:gt(i.readTime)}}(n)),M.resolve()}};var eC=class{constructor(){this.overlays=new Ze(H.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Wr(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=Wr(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rh(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var tC=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var ch=class{constructor(){this.Tr=new ze(Dt.Er),this.dr=new ze(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Ae([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Ae([])),r=new Dt(n,e),i=new Dt(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Dt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||de(e.wr,n.wr)}static Ar(e,n){return de(e.wr,n.wr)||H.comparator(e.key,n.key)}};var nC=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ze(Dt.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new nh(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(de);return n.forEach(i=>{let s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Dt(new H(s),0),a=new ze(de);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Dt(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rC=class{constructor(e){this.Mr=e,this.docs=function(){return new Ze(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cn(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||eb(EP(d),r)<=0||(i.has(d.key)||Eh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iC(this)}getSize(e){return M.resolve(this.size)}},iC=class extends Gg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var sC=class{constructor(e){this.persistence=e,this.Nr=new Xr(n=>qo(n),wh),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ch,this.targetCount=0,this.kr=sc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Kg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Un(0),this.Kr=!1,this.Kr=!0,this.$r=new tC,this.referenceDelegate=e(this),this.Ur=new sC(this),this.indexManager=new HD,this.remoteDocumentCache=function(i){return new rC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jg(n),this.Gr=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new oC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},oC=class extends Sg{constructor(e){super(),this.currentSequenceNumber=e}},Qg=class t{constructor(e){this.persistence=e,this.Jr=new ch,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var aC=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new Ag("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vO,{unique:!0}),u.createObjectStore("documentMutations")}(e),rP(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),rP(e)),o=o.next(()=>function(u){let l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vO,{unique:!0});let f=l.store("mutations"),m=d.map(g=>f.put(g));return M.waitFor(m)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){let l=u.createObjectStore("documentOverlays",{keyPath:KG});l.createIndex("collectionPathOverlayIndex",QG,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",YG,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){let l=u.createObjectStore("remoteDocumentsV14",{keyPath:VG});l.createIndex("documentKeyIndex",LG),l.createIndex("collectionGroupIndex",jG)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:zG}).createIndex("sequenceNumberIndex",qG,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:GG}).createIndex("documentKeyIndex",WG,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=zg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,u=>{te(u.userId===s.userId);let l=Vo(this.serializer,u);return vF(e,s.userId,l).next(()=>{})}))}))}ii(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let u=new Ae(o),l=function(f){return[0,fn(f)]}(u);s.push(n.get(l).next(d=>d?M.resolve():(f=>n.put({targetId:0,path:fn(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:HG});let r=n.store("collectionParents"),i=new uh,s=o=>{if(i.add(o)){let a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:fn(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let u=new Ae(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{let d=Gr(a);return s(d.popLast())}))}oi(e){let n=e.store("targets");return n.J((r,i)=>{let s=Hd(i),o=mF(this.serializer,s);return n.put(o)})}_i(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),u=function(f){return f.document?new H(Ae.fromString(f.document.name).popFirst(5)):f.noDocument?H.fromSegments(f.noDocument.path):f.unknownDocument?H.fromSegments(f.unknownDocument.path):Q()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>M.waitFor(i))}ai(e,n){let r=n.store("mutations"),i=EF(this.serializer),s=new Kg(Qg.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:fe();Vo(this.serializer,u).keys().forEach(f=>d=d.add(f)),a.set(u.userId,d)}),M.forEach(a,(u,l)=>{let d=new Ct(l),f=Bg.lt(this.serializer,d),m=s.getIndexManager(d),g=qg.lt(d,this.serializer,m,s.referenceDelegate);return new Wg(i,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Zd(n,Un.oe),u).next()})})}};function rP(t){t.createObjectStore("targetDocuments",{keyPath:BG}).createIndex("documentTargetsIndex",$G,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UG,{unique:!0}),t.createObjectStore("targetGlobal")}var YI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uC=class t{constructor(e,n,r,i,s,o,a,u,l,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!t.D())throw new F(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QD(this,i),this.Ai=n+"main",this.serializer=new jg(u),this.Ri=new Ns(this.Ai,this.hi,new aC(this.serializer)),this.$r=new FD,this.Ur=new qD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EF(this.serializer),this.Gr=new PD,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,YI);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Un(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=n=>k(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(n=>k(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>k(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Bs(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Bd(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return gg(e).delete(this.clientId)}Fi(){return k(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=At(n,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let n of e)this.Vi.removeItem(this.Oi(n.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):Bd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,YI);return!1}}return!(!this.networkEnabled||!this.inForeground)||gg(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&V("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return k(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Zd(e,Un.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()})}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return qg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zD(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Bg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===17?XG:u===16?JG:u===15?nb:u===14?AP:u===13?SP:u===12?ZG:u===11?TP:void Q()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new Zd(a,this.Qr?this.Qr.next():Un.oe),n==="readwrite-primary"?this.wi(o).next(u=>!!u||this.Si(o)).next(u=>{if(!u)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new F(N.FAILED_PRECONDITION,IP);return r(o)}).next(u=>this.Di(o).next(()=>u)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Bd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new F(N.FAILED_PRECONDITION,YI)})}Di(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bd(e).put("owner",n)}static D(){return Ns.D()}bi(e){let n=Bd(e);return n.get("owner").next(r=>this.vi(r)?(V("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let n=/(?:Version|Mobile)\/1[456]/;dv()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{let r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Bd(t){return At(t,"owner")}function gg(t){return At(t,"clientMetadata")}function db(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var cC=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var lC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dv()?8:DP(Hc())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new lC;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($u()<=Tr.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):($u()<=Tr.DEBUG&&V("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($u()<=Tr.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(n))):M.resolve())}Yi(e,n){if(MO(n))return M.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pg(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Pg(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return MO(n)||i.isEqual(re.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):($u()<=Tr.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.rs(e,o,n,_P(i,-1)).next(a=>a))})}ts(e,n){let r=new ze($P(e));return n.forEach((i,s)=>{Eh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return $u()<=Tr.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var dC=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ze(de),this._s=new Xr(s=>qo(s),wh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function IF(t,e,n,r){return new dC(t,e,n,r)}function DF(t,e){return k(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function RW(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){let f=l.batch,m=f.keys(),g=M.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(b=>{let T=l.docVersions.get(w);te(T!==null),b.version.compareTo(T)<0&&(f.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),d.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CF(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kW(t,e){let n=$(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(b,T,O){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let u=Cn(),l=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(bF(s,o,e.documentUpdates).next(d=>{u=d.Ps,l=d.Is})),!r.isEqual(re.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function bF(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function OW(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oc(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ic(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function ac(t,e,n){return k(this,null,function*(){let r=$(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bs(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Zg(t,e,n){let r=$(t),i=re.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){let f=$(u),m=f._s.get(d);return m!==void 0?M.resolve(f.os.get(m)):f.Ur.getTargetData(l,d)}(r,o,pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:fe())).next(a=>(AF(r,BP(e),a),{documents:a,Ts:s})))}function TF(t,e){let n=$(t),r=$(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function SF(t,e){let n=$(t),r=n.us.get(e)||re.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,_P(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AF(n,e,i),i))}function AF(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}function PW(t,e,n,r){return k(this,null,function*(){let i=$(t),s=fe(),o=Cn();for(let l of n){let d=e.Es(l.metadata.name);l.document&&(s=s.add(d));let f=e.ds(l);f.setReadTime(e.As(l.metadata.readTime)),o=o.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),u=yield oc(i,function(d){return pn(mc(Ae.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>bF(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Ur.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))})}function FW(r,i){return k(this,arguments,function*(t,e,n=fe()){let s=yield oc(t,pn(cb(e.bundledQuery))),o=$(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let u=gt(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return o.Gr.saveNamedQuery(a,e);let l=s.withResumeToken(yt.EMPTY_BYTE_STRING,u);return o.os=o.os.insert(l.targetId,l),o.Ur.updateTargetData(a,l).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,n,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function iP(t,e){return`firestore_clients_${t}_${e}`}function sP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ZI(t,e){return`firestore_targets_${t}_${e}`}var Jg=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new F(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Wd=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new F(r.error.code,r.error.message))),s?new t(e,r.state,i):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Xg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ob();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=CP(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},hC=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}},lh=class{constructor(){this.activeTargetIds=ob()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Kd=class{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ze(de),this.started=!1,this.bs=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=iP(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new lh),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return k(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(iP(this.persistenceKey,r));if(i){let s=Xg.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let n=this.storage.getItem(this.xs);if(n){let r=this.Ls(n);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(ZI(this.persistenceKey,e));if(i){let s=Wd.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZI(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return V("SharedClientState","READ",e,n),n}setItem(e,n){V("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let n=e;if(n.storageArea===this.storage){if(V("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>k(this,null,function*(){if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){let r=this.Gs(n.key);return this.zs(r,null)}{let r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){let r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){let r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){let r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){let r=function(s){let o=Un.oe;if(s!=null)try{let a=JSON.parse(s);te(typeof a=="number"),o=a}catch(a){pt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Un.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){let r=this.Xs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){let i=new Jg(this.currentUser,e,n,r),s=sP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){let n=sP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){let n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){let i=ZI(this.persistenceKey,e),s=new Wd(e,n,r);this.setItem(i,s.Vs())}Ws(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){let n=this.Cs.exec(e);return n?n[1]:null}js(e,n){let r=this.Gs(e);return Xg.Rs(r,n)}Hs(e,n){let r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Jg.Rs(new Ct(s),i,n)}Ys(e,n){let r=this.Ms.exec(e),i=Number(r[1]);return Wd.Rs(i,n)}Ls(e){return hC.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return k(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){let r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=ob();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},ey=class{constructor(){this.so=new lh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fC=class{_o(e){}shutdown(){}};var ty=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yg=null;function JI(){return yg===null?yg=function(){return 268435456+Math.round(2147483648*Math.random())}():yg++,"0x"+yg.toString(16)}var VW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var pC=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Yt="WebChannelConnection",mC=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=JI(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(d=>(V("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Zn("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=VW[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=JI();return new Promise((o,a)=>{let u=new HI;u.setWithCredentials(!0),u.listenOnce(qI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:let d=u.getResponseJson();V(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Vd.TIMEOUT:V(Yt,`RPC '${e}' ${s} timed out`),a(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:let f=u.getStatus();if(V(Yt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let w=function(T){let O=T.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(g.status);a(new F(w,g.message))}else a(new F(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(Yt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(Yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=JI(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KI(),a=WI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new zI({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let d=s.join("");V(Yt,`Creating RPC '${e}' stream ${i}: ${d}`,u);let f=o.createWebChannel(d,u),m=!1,g=!1,w=new pC({Io:T=>{g?V(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(V(Yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),V(Yt,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),b=(T,O,j)=>{T.listen(O,P=>{try{j(P)}catch(K){setTimeout(()=>{throw K},0)}})};return b(f,Vu.EventType.OPEN,()=>{g||(V(Yt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),b(f,Vu.EventType.CLOSE,()=>{g||(g=!0,V(Yt,`RPC '${e}' stream ${i} transport closed`),w.So())}),b(f,Vu.EventType.ERROR,T=>{g||(g=!0,Zn(Yt,`RPC '${e}' stream ${i} transport errored:`,T),w.So(new F(N.UNAVAILABLE,"The operation could not be completed")))}),b(f,Vu.EventType.MESSAGE,T=>{var O;if(!g){let j=T.data[0];te(!!j);let P=j,K=P.error||((O=P[0])===null||O===void 0?void 0:O.error);if(K){V(Yt,`RPC '${e}' stream ${i} received error:`,K);let X=K.status,ne=function(_){let C=It[_];if(C!==void 0)return tF(C)}(X),D=K.message;ne===void 0&&(ne=N.INTERNAL,D="Unknown error status: "+X+" with message "+K.message),g=!0,w.So(new F(ne,D)),f.close()}else V(Yt,`RPC '${e}' stream ${i} received:`,j),w.bo(j)}}),b(a,GI.STAT_EVENT,T=>{T.stat===fg.PROXY?V(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===fg.NOPROXY&&V(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function xF(){return typeof window<"u"?window:null}function Ig(){return typeof document<"u"?document:null}function Ih(t){return new MD(t,!0)}var dh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ny=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return k(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return k(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return k(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(pt(n.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>k(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},gC=class extends ny{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=EW(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?gt(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=kD(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=kg(u)?{documents:cF(s,u)}:{query:lF(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rF(s,o.resumeToken);let l=ND(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=rc(s,o.snapshotVersion.toTimestamp());let l=ND(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=DW(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=kD(this.serializer),n.removeTarget=e,this.a_(n)}},yC=class extends ny{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=IW(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=kD(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ah(this.serializer,r))};this.a_(n)}};var vC=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,RD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,RD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wC=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pt(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var _C=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>k(this,null,function*(){$s(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return k(this,null,function*(){let l=$(u);l.L_.add(4),yield gc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Dh(l)})}(this))}))}),this.q_=new wC(r,i)}};function Dh(t){return k(this,null,function*(){if($s(t))for(let e of t.B_)yield e(!0)})}function gc(t){return k(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Iy(t,e){let n=$(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pb(n)?fb(n):vc(n).r_()&&hb(n,e))}function uc(t,e){let n=$(t),r=vc(n);n.N_.delete(e),r.r_()&&MF(n,e),n.N_.size===0&&(r.r_()?r.o_():$s(n)&&n.q_.set("Unknown"))}function hb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).A_(e)}function MF(t,e){t.Q_.xe(e),vc(t).R_(e)}function fb(t){t.Q_=new xD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.q_.v_()}function pb(t){return $s(t)&&!vc(t).n_()&&t.N_.size>0}function $s(t){return $(t).L_.size===0}function NF(t){t.Q_=void 0}function LW(t){return k(this,null,function*(){t.q_.set("Online")})}function jW(t){return k(this,null,function*(){t.N_.forEach((e,n)=>{hb(t,e)})})}function UW(t,e){return k(this,null,function*(){NF(t),pb(t)?(t.q_.M_(e),fb(t)):t.q_.set("Unknown")})}function BW(t,e,n){return k(this,null,function*(){if(t.q_.set("Online"),e instanceof Vg&&e.state===2&&e.cause)try{yield function(i,s){return k(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ry(t,r)}else if(e instanceof Yu?t.Q_.Ke(e):e instanceof Fg?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield CF(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let d=s.N_.get(l);d&&s.N_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),MF(s,u);let f=new ic(d.target,u,l,d.sequenceNumber);hb(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield ry(t,r)}})}function ry(t,e,n){return k(this,null,function*(){if(!Bs(e))throw e;t.L_.add(1),yield gc(t),t.q_.set("Offline"),n||(n=()=>CF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>k(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Dh(t)}))})}function RF(t,e){return e().catch(n=>ry(t,n,e))}function yc(t){return k(this,null,function*(){let e=$(t),n=js(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$W(e);)try{let i=yield OW(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,HW(e,i)}catch(i){yield ry(e,i)}kF(e)&&OF(e)})}function $W(t){return $s(t)&&t.O_.length<10}function HW(t,e){t.O_.push(e);let n=js(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kF(t){return $s(t)&&!js(t).n_()&&t.O_.length>0}function OF(t){js(t).start()}function zW(t){return k(this,null,function*(){js(t).p_()})}function qW(t){return k(this,null,function*(){let e=js(t);for(let n of t.O_)e.m_(n.mutations)})}function GW(t,e,n){return k(this,null,function*(){let r=t.O_.shift(),i=TD.from(r,e,n);yield RF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yc(t)})}function WW(t,e){return k(this,null,function*(){e&&js(t).V_&&(yield function(r,i){return k(this,null,function*(){if(function(o){return eF(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();js(r).s_(),yield RF(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield yc(r)}})}(t,e)),kF(t)&&OF(t)})}function oP(t,e){return k(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=$s(n);n.L_.add(3),yield gc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Dh(n)})}function EC(t,e){return k(this,null,function*(){let n=$(t);e?(n.L_.delete(2),yield Dh(n)):e||(n.L_.add(2),yield gc(n),n.q_.set("Unknown"))})}function vc(t){return t.K_||(t.K_=function(n,r,i){let s=$(n);return s.w_(),new gC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:LW.bind(null,t),Ro:jW.bind(null,t),mo:UW.bind(null,t),d_:BW.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.K_.s_(),pb(t)?fb(t):t.q_.set("Unknown")):(yield t.K_.stop(),NF(t))}))),t.K_}function js(t){return t.U_||(t.U_=function(n,r,i){let s=$(n);return s.w_(),new yC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zW.bind(null,t),mo:WW.bind(null,t),f_:qW.bind(null,t),g_:GW.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.U_.s_(),yield yc(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var IC=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wc(t,e){if(pt("AsyncQueue",`${e}: ${t}`),Bs(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var iy=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=$d(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var sy=class{constructor(){this.W_=new Ze(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},cc=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,iy.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var DC=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},CC=class{constructor(){this.queries=aP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=$(n),s=i.queries;i.queries=aP(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function aP(){return new Xr(t=>UP(t),_h)}function mb(t,e){return k(this,null,function*(){let n=$(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new DC,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=wc(o,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&yb(n)})}function gb(t,e){return k(this,null,function*(){let n=$(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function KW(t,e){let n=$(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&yb(n)}function QW(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function yb(t){t.Y_.forEach(e=>{e.next()})}var bC,uP;(uP=bC||(bC={})).ea="default",uP.Cache="cache";var hh=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bC.Cache}};var TC=class{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}};var oy=class{constructor(e){this.serializer=e}Es(e){return Qr(this.serializer,e)}ds(e){return e.metadata.exists?uF(this.serializer,e.document,!1):Tt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return gt(e)}},SC=class{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;let r=Ae.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){let n=new Map,r=new oy(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.Es(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||fe()).add(s);n.set(o,a)}}return n}complete(){return k(this,null,function*(){let e=yield PW(this.localStore,new oy(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(let r of this.queries)yield FW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function PF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ay=class{constructor(e){this.key=e}},uy=class{constructor(e){this.key=e}},cy=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=$P(e),this.Ra=new iy(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new sy,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=Eh(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),T=!1;m&&g?m.data.isEqual(g.data)?w!==b&&(r.track({type:3,doc:g}),T=!0):this.ga(m,g)||(r.track({type:2,doc:g}),T=!0,(u&&this.Aa(g,u)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),T=!0):m&&!g&&(r.track({type:1,doc:m}),T=!0,(u||l)&&(a=!0)),T&&(g?(o=o.add(g),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(g,w){let b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return b(g)-b(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new cc(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uy(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ay(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},AC=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},xC=class{constructor(e){this.key=e,this.va=!1}},MC=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xr(a=>UP(a),_h),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(H.comparator),this.Na=new Map,this.La=new ch,this.Ba={},this.ka=new Map,this.qa=sc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function YW(t,e,n=!0){return k(this,null,function*(){let r=Dy(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield FF(r,e,n,!0),i})}function ZW(t,e){return k(this,null,function*(){let n=Dy(t);yield FF(n,e,!0,!1)})}function FF(t,e,n,r){return k(this,null,function*(){let i=yield oc(t.localStore,pn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield vb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Iy(t.remoteStore,i),a})}function vb(t,e,n,r,i){return k(this,null,function*(){t.Ka=(f,m,g)=>function(b,T,O,j){return k(this,null,function*(){let P=T.view.ma(O);P.ns&&(P=yield Zg(b.localStore,T.query,!1).then(({documents:D})=>T.view.ma(D,P)));let K=j&&j.targetChanges.get(T.targetId),X=j&&j.targetMismatches.get(T.targetId)!=null,ne=T.view.applyChanges(P,b.isPrimaryClient,K,X);return NC(b,T.targetId,ne.wa),ne.snapshot})}(t,f,m,g);let s=yield Zg(t.localStore,e,!0),o=new cy(e,s.Ts),a=o.ma(s.documents),u=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);NC(t,n,l.wa);let d=new AC(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function JW(t,e,n){return k(this,null,function*(){let r=$(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ac(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uc(r.remoteStore,i.targetId),lc(r,i.targetId)}).catch(Us))):(lc(r,i.targetId),yield ac(r.localStore,i.targetId,!0))})}function XW(t,e){return k(this,null,function*(){let n=$(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uc(n.remoteStore,r.targetId))})}function e8(t,e,n){return k(this,null,function*(){let r=Ib(t);try{let i=yield function(o,a){let u=$(o),l=st.now(),d=a.reduce((g,w)=>g.add(w.key),fe()),f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Cn(),b=fe();return u.cs.getEntries(g,d).next(T=>{w=T,w.forEach((O,j)=>{j.isValidDocument()||(b=b.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(T=>{f=T;let O=[];for(let j of a){let P=pW(j,f.get(j.key).overlayedDocument);P!=null&&O.push(new Dr(j.key,P,kP(P.value.mapValue),ht.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,O,a)}).next(T=>{m=T;let O=T.applyToLocalDocumentSet(f,b);return u.documentOverlayCache.saveOverlays(g,T.batchId,O)})}).then(()=>({batchId:m.batchId,changes:zP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ze(de)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ri(r,i.changes),yield yc(r.remoteStore)}catch(i){let s=wc(i,"Failed to persist write");n.reject(s)}})}function VF(t,e){return k(this,null,function*(){let n=$(t);try{let r=yield kW(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?te(o.va):i.removedDocuments.size>0&&(te(o.va),o.va=!1))}),yield Ri(n,r,e)}catch(r){yield Us(r)}})}function cP(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=$(o);u.onlineState=a;let l=!1;u.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(l=!0)}),l&&yb(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function t8(t,e,n){return k(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ze(H.comparator);o=o.insert(s,Tt.newNoDocument(s,re.min()));let a=fe().add(s),u=new ih(re.min(),new Map,new Ze(de),o,a);yield VF(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Eb(r)}else yield ac(r.localStore,e,!1).then(()=>lc(r,e,n)).catch(Us)})}function n8(t,e){return k(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield RW(n.localStore,e);_b(n,r,null),wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ri(n,i)}catch(i){yield Us(i)}})}function r8(t,e,n){return k(this,null,function*(){let r=$(t);try{let i=yield function(o,a){let u=$(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(te(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);_b(r,e,n),wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ri(r,i)}catch(i){yield Us(i)}})}function i8(t,e){return k(this,null,function*(){let n=$(t);$s(n.remoteStore)||V("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=$(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){let i=wc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function wb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _b(t,e,n){let r=$(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LF(t,r)})}function LF(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uc(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Eb(t))}function NC(t,e,n){for(let r of n)r instanceof ay?(t.La.addReference(r.key,e),s8(t,r)):r instanceof uy?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LF(t,r.key)):Q()}function s8(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),Eb(t))}function Eb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new xC(n)),t.Oa=t.Oa.insert(n,r),Iy(t.remoteStore,new ic(pn(mc(n.path)),r,"TargetPurposeLimboResolution",Un.oe))}}function Ri(t,e,n){return k(this,null,function*(){let r=$(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=n?.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=cC.Wi(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return k(this,null,function*(){let d=$(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(l,m=>M.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>M.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Bs(f))throw f;V("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),w=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,b)}}})}(r.localStore,s))})}function o8(t,e){return k(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield DF(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ri(n,r.hs)}})}function a8(t,e){let n=$(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function u8(t,e){return k(this,null,function*(){let n=$(t),r=yield Zg(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&NC(n,e.targetId,i.wa),i})}function c8(t,e){return k(this,null,function*(){let n=$(t);return SF(n.localStore,e).then(r=>Ri(n,r))})}function l8(t,e,n,r){return k(this,null,function*(){let i=$(t),s=yield function(a,u){let l=$(a),d=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,u).next(m=>m?l.localDocuments.getDocuments(f,m):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield yc(i.remoteStore):n==="acknowledged"||n==="rejected"?(_b(i,e,r||null),wb(i,e),function(a,u){$($(a).mutationQueue).On(u)}(i.localStore,e)):Q(),yield Ri(i,s)):V("SyncEngine","Cannot apply mutation batch with id: "+e)})}function d8(t,e){return k(this,null,function*(){let n=$(t);if(Dy(n),Ib(n),e===!0&&n.Qa!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield lP(n,r.toArray());n.Qa=!0,yield EC(n.remoteStore,!0);for(let s of i)Iy(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){let r=[],i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(lc(n,o),ac(n.localStore,o,!0))),uc(n.remoteStore,o)}),yield i,yield lP(n,r),function(o){let a=$(o);a.Na.forEach((u,l)=>{uc(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Ze(H.comparator)}(n),n.Qa=!1,yield EC(n.remoteStore,!1)}})}function lP(t,e,n){return k(this,null,function*(){let r=$(t),i=[],s=[];for(let o of e){let a,u=r.Ma.get(o);if(u&&u.length!==0){a=yield oc(r.localStore,pn(u[0]));for(let l of u){let d=r.Fa.get(l),f=yield u8(r,d);f.snapshot&&s.push(f.snapshot)}}else{let l=yield TF(r.localStore,o);a=yield oc(r.localStore,l),yield vb(r,jF(l),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})}function jF(t){return jP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function h8(t){return function(n){return $($(n).persistence).Qi()}($(t).localStore)}function f8(t,e,n,r){return k(this,null,function*(){let i=$(t);if(i.Qa)return void V("SyncEngine","Ignoring unexpected query state notification.");let s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield SF(i.localStore,BP(s[0])),a=ih.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yt.EMPTY_BYTE_STRING);yield Ri(i,o,a);break}case"rejected":yield ac(i.localStore,e,!0),lc(i,e,r);break;default:Q()}})}function p8(t,e,n){return k(this,null,function*(){let r=Dy(t);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){V("SyncEngine","Adding an already active target "+i);continue}let s=yield TF(r.localStore,i),o=yield oc(r.localStore,s);yield vb(r,jF(s),o.targetId,!1,o.resumeToken),Iy(r.remoteStore,o)}for(let i of n)r.Ma.has(i)&&(yield ac(r.localStore,i,!1).then(()=>{uc(r.remoteStore,i),lc(r,i)}).catch(Us))}})}function Dy(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t8.bind(null,e),e.Ca.d_=KW.bind(null,e.eventManager),e.Ca.$a=QW.bind(null,e.eventManager),e}function Ib(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r8.bind(null,e),e}function m8(t,e,n){let r=$(t);(function(s,o,a){return k(this,null,function*(){try{let u=yield o.getMetadata();if(yield function(g,w){let b=$(g),T=gt(w.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",O=>b.Gr.getBundleMetadata(O,w.id)).then(O=>!!O&&O.createTime.compareTo(T)>=0)}(s.localStore,u))return yield o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(PF(u));let l=new SC(u,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let m=yield l.la(d);m&&a._updateProgress(m),d=yield o.Ua()}let f=yield l.complete();return yield Ri(s,f.Ia,void 0),yield function(g,w){let b=$(g);return b.persistence.runTransaction("Save bundle","readwrite",T=>b.Gr.saveBundleMetadata(T,w))}(s.localStore,u),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(u){return Zn("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var fh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IF(this.persistence,new Yg,e.initialUser,this.serializer)}createPersistence(e){return new Kg(Qg.Zr,this.serializer)}createSharedClientState(e){return new ey}terminate(){return k(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ly=class t extends fh{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){yield cv(t.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield Ib(this.Wa.syncEngine),yield yc(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return IF(this.persistence,new Yg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new WD(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new lD(n,this.persistence);return new cD(e.asyncQueue,r)}createPersistence(e){let n=db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new uC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xF(),Ig(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ey}},RC=class t extends ly{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return k(this,null,function*(){yield cv(t.prototype,this,"initialize").call(this,e);let n=this.Wa.syncEngine;this.sharedClientState instanceof Kd&&(this.sharedClientState.syncEngine={no:l8.bind(null,n),ro:f8.bind(null,n),io:p8.bind(null,n),Qi:h8.bind(null,n),eo:c8.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>k(this,null,function*(){yield d8(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=xF();if(!Kd.D(n))throw new F(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kd(n,e.asyncQueue,r,e.clientId,e.initialUser)}},ph=class{initialize(e,n){return k(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o8.bind(null,this.syncEngine),yield EC(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new CC}()}createDatastore(e){let n=Ih(e.databaseInfo.databaseId),r=function(s){return new mC(s)}(e.databaseInfo);return function(s,o,a,u){return new vC(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new _C(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cP(this.syncEngine,n,0),function(){return ty.D()?new ty:new fC}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){let f=new MC(i,s,o,a,u,l);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return k(this,null,function*(){var e,n;yield function(i){return k(this,null,function*(){let s=$(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield gc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};function dP(t,e=10240){let n=0;return{read(){return k(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return k(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var dc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var kC=class{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new bt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}getMetadata(){return k(this,null,function*(){return this.metadata.promise})}Ua(){return k(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return k(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);let i=yield this.Xa(r);return new TC(JSON.parse(i),e.length+r)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return k(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Xa(e){return k(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return k(this,null,function*(){let e=yield this.ja.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var OC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,s){return k(this,null,function*(){let o=$(i),a={documents:s.map(f=>oh(o.serializer,f))},u=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,Ae.emptyPath(),a,s.length),l=new Map;u.forEach(f=>{let m=_W(o.serializer,f);l.set(m.key.toString(),m)});let d=[];return s.forEach(f=>{let m=l.get(f.toString());te(!!m),d.push(m)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ls(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=H.fromPath(r);this.mutations.push(new th(i,this.precondition(i)))}),yield function(r,i){return k(this,null,function*(){let s=$(r),o={writes:i.map(a=>ah(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,Ae.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=re.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new F(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(re.min())?ht.exists(!1):ht.updateTime(n):ht.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(re.min()))throw new F(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var PC=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new dh(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>k(this,null,function*(){let e=new OC(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})}))}su(e){try{let n=this.updateFunction(e);return!vh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!eF(n)}return!1}};var FC=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>k(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=wc(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dg(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>k(this,null,function*(){r.isEqual(i)||(yield DF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VC(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Db(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oP(e.remoteStore,i)),t._onlineComponents=e})}function UF(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Db(t){return k(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!UF(n))throw n;Zn("Error using user provided cache. Falling back to memory cache: "+n),yield Dg(t,new fh)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Dg(t,new fh);return t._offlineComponents})}function Cy(t){return k(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield VC(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield VC(t,new ph))),t._onlineComponents})}function BF(t){return Db(t).then(e=>e.persistence)}function Cb(t){return Db(t).then(e=>e.localStore)}function $F(t){return Cy(t).then(e=>e.remoteStore)}function bb(t){return Cy(t).then(e=>e.syncEngine)}function g8(t){return Cy(t).then(e=>e.datastore)}function hc(t){return k(this,null,function*(){let e=yield Cy(t),n=e.eventManager;return n.onListen=YW.bind(null,e.syncEngine),n.onUnlisten=JW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XW.bind(null,e.syncEngine),n})}function y8(t){return t.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield BF(t),n=yield $F(t);return e.setNetworkEnabled(!0),function(i){let s=$(i);return s.L_.delete(0),Dh(s)}(n)}))}function v8(t){return t.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield BF(t),n=yield $F(t);return e.setNetworkEnabled(!1),function(i){return k(this,null,function*(){let s=$(i);s.L_.add(0),yield gc(s),s.q_.set("Offline")})}(n)}))}function w8(t,e){let n=new bt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s,o){return k(this,null,function*(){try{let a=yield function(l,d){let f=$(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new F(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let u=wc(a,`Failed to get document '${s} from cache`);o.reject(u)}})}(yield Cb(t),e,n)})),n.promise}function HF(t,e,n={}){let r=new bt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(s,o,a,u,l){let d=new dc({next:m=>{o.enqueueAndForget(()=>gb(s,f));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new F(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new hh(mc(a.path),d,{includeMetadataChanges:!0,_a:!0});return mb(s,f)}(yield hc(t),t.asyncQueue,e,n,r)})),r.promise}function _8(t,e){let n=new bt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s,o){return k(this,null,function*(){try{let a=yield Zg(i,s,!0),u=new cy(s,a.Ts),l=u.ma(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){let u=wc(a,`Failed to execute query '${s} against cache`);o.reject(u)}})}(yield Cb(t),e,n)})),n.promise}function zF(t,e,n={}){let r=new bt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(s,o,a,u,l){let d=new dc({next:m=>{o.enqueueAndForget(()=>gb(s,f)),m.fromCache&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new hh(a,d,{includeMetadataChanges:!0,_a:!0});return mb(s,f)}(yield hc(t),t.asyncQueue,e,n,r)})),r.promise}function E8(t,e){let n=new dc(e);return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s){$(i).Y_.add(s),s.next()}(yield hc(t),n)})),()=>{n.za(),t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s){$(i).Y_.delete(s)}(yield hc(t),n)}))}}function I8(t,e,n,r){let i=function(o,a){let u;return u=typeof o=="string"?nF().encode(o):o,function(d,f){return new kC(d,f)}(function(d,f){if(d instanceof Uint8Array)return dP(d,f);if(d instanceof ArrayBuffer)return dP(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Ih(e));t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){m8(yield bb(t),i,r)}))}function D8(t,e){return t.asyncQueue.enqueue(()=>k(this,null,function*(){return function(r,i){let s=$(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield Cb(t),e)}))}function qF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var hP=new Map;function Tb(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sb(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fP(t){if(!H.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pP(t){if(H.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function by(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=by(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GF(t,e){if(e<=0)throw new F(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var dy=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XI;switch(r.type){case"firstParty":return new rD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=hP.get(n);r&&(V("ComponentProvider","Removing Datastore"),hP.delete(n),r.terminate())}(this),Promise.resolve()}};function WF(t,e,n,r={}){var i;let s=(t=xe(t,Qo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ct.MOCK_USER;else{a=nS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(l)}t._authCredentials=new eD(new Cg(a,u))}}var $t=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},We=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Yr=class t extends $t{constructor(e,n,r){super(e,n,mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ab(t,e,...n){if(t=tt(t),Tb("collection","path",e),t instanceof Qo){let r=Ae.fromString(e,...n);return pP(r),new Yr(t,null,r)}{if(!(t instanceof We||t instanceof Yr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return pP(r),new Yr(t.firestore,null,r)}}function KF(t,e){if(t=xe(t,Qo),Tb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $t(t,null,function(r){return new Ir(Ae.emptyPath(),r)}(e))}function Ch(t,e,...n){if(t=tt(t),arguments.length===1&&(e=bg.newId()),Tb("doc","path",e),t instanceof Qo){let r=Ae.fromString(e,...n);return fP(r),new We(t,null,new H(r))}{if(!(t instanceof We||t instanceof Yr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return fP(r),new We(t.firestore,t instanceof Yr?t.converter:null,new H(r))}}function xb(t,e){return t=tt(t),e=tt(e),(t instanceof We||t instanceof Yr)&&(e instanceof We||e instanceof Yr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Mb(t,e){return t=tt(t),e=tt(e),t instanceof $t&&e instanceof $t&&t.firestore===e.firestore&&_h(t._query,e._query)&&t.converter===e.converter}var LC=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new dh(this,"async_queue_retry"),this.Eu=()=>{let n=Ig();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new bt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return k(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bs(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=IC.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return k(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function jC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var UC=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var QF=-1,et=class extends Qo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new LC}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YF(this),this._firestoreClient.terminate()}};function xt(t){return t._firestoreClient||YF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YF(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,d){return new dD(a,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,qF(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new FC(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ZF(t,e){oV(t=xe(t,et));let n=xt(t);if(n._uninitializedComponentsProvider)throw new F(N.FAILED_PRECONDITION,"SDK cache is already specified.");Zn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new ph;return XF(n,i,new ly(i,r.cacheSizeBytes,e?.forceOwnership))}function JF(t){oV(t=xe(t,et));let e=xt(t);if(e._uninitializedComponentsProvider)throw new F(N.FAILED_PRECONDITION,"SDK cache is already specified.");Zn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new ph;return XF(e,r,new RC(r,n.cacheSizeBytes))}function XF(t,e,n){let r=new bt;return t.asyncQueue.enqueue(()=>k(this,null,function*(){try{yield Dg(t,n),yield VC(t,e),r.resolve()}catch(i){let s=i;if(!UF(s))throw s;Zn("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function eV(t){if(t._initialized&&!t._terminated)throw new F(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new bt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{yield function(r){return k(this,null,function*(){if(!Ns.D())return Promise.resolve();let i=r+"main";yield Ns.delete(i)})}(db(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function tV(t){return function(n){let r=new bt;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return i8(yield bb(n),r)})),r.promise}(xt(t=xe(t,et)))}function nV(t){return y8(xt(t=xe(t,et)))}function rV(t){return v8(xt(t=xe(t,et)))}function iV(t,e){let n=xt(t=xe(t,et)),r=new UC;return I8(n,t._databaseId,e,r),r}function sV(t,e){return D8(xt(t=xe(t,et)),e).then(n=>n?new $t(t,null,n.query):null)}function oV(t){if(t._initialized||t._terminated)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ei=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Cr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mi=class{constructor(e){this._methodName=e}};var Yo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var mh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var C8=/^__.*__$/,BC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vs(e,this.data,n,this.fieldTransforms)}},hy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function aV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var fy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return py(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(aV(this.wu)&&C8.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},$C=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Nu(e,n,r,i=!1){return new fy({wu:e,methodName:n,Ou:r,path:mt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ea(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new $C(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ty(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);kb("Data must be an object, but it was:",o,r);let a=lV(r,o),u,l;if(s.merge)u=new Bn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=WC(e,f,n);if(!o.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hV(d,m)||d.push(m)}u=new Bn(d),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new BC(new Zt(a),u,l)}var gh=class t extends Mi{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function uV(t,e,n){return new fy({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var HC=class t extends Mi{_toFieldTransform(e){return new Go(e.path,new Ps)}isEqual(e){return e instanceof t}},zC=class t extends Mi{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=uV(this,e,!0),r=this.Lu.map(s=>ta(s,n)),i=new Ai(r);return new Go(e.path,i)}isEqual(e){return e instanceof t&&hv(this.Lu,e.Lu)}},qC=class t extends Mi{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=uV(this,e,!0),r=this.Lu.map(s=>ta(s,n)),i=new xi(r);return new Go(e.path,i)}isEqual(e){return e instanceof t&&hv(this.Lu,e.Lu)}},GC=class t extends Mi{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){let n=new Fs(e.serializer,WP(e.serializer,this.Bu));return new Go(e.path,n)}isEqual(e){return e instanceof t&&this.Bu===e.Bu}};function Nb(t,e,n,r){let i=t.Nu(1,e,n);kb("Data must be an object, but it was:",i,r);let s=[],o=Zt.empty();Xo(r,(u,l)=>{let d=Ob(e,u,n);l=tt(l);let f=i.Cu(d);if(l instanceof gh)s.push(d);else{let m=ta(l,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new Bn(s);return new hy(o,a,i.fieldTransforms)}function Rb(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[WC(e,r,n)],u=[i];if(s.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(WC(e,s[m])),u.push(s[m+1]);let l=[],d=Zt.empty();for(let m=a.length-1;m>=0;--m)if(!hV(l,a[m])){let g=a[m],w=u[m];w=tt(w);let b=o.Cu(g);if(w instanceof gh)l.push(g);else{let T=ta(w,b);T!=null&&(l.push(g),d.set(g,T))}}let f=new Bn(l);return new hy(d,f,o.fieldTransforms)}function cV(t,e,n,r=!1){return ta(n,t.Nu(r?4:3,e))}function ta(t,e){if(dV(t=tt(t)))return kb("Unsupported field value:",e,t),lV(t,e);if(t instanceof Mi)return function(r,i){if(!aV(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=ta(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=st.fromDate(r);return{timestampValue:rc(i.serializer,s)}}if(r instanceof st){let s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rc(i.serializer,s)}}if(r instanceof Yo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:rF(i.serializer,r._byteString)};if(r instanceof We){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ub(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return ab(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${by(r)}`)}(t,e)}function lV(t,e){let n={};return xP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{let s=ta(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Yo||t instanceof ei||t instanceof We||t instanceof Mi||t instanceof mh)}function kb(t,e,n){if(!dV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=by(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function WC(t,e,n){if((e=tt(e))instanceof Cr)return e._internalPath;if(typeof e=="string")return Ob(t,e);throw py("Field path arguments must be of type string or ",t,!1,void 0,n)}var b8=new RegExp("[~\\*/\\[\\]]");function Ob(t,e,n){if(e.search(b8)>=0)throw py(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cr(...e.split("."))._internalPath}catch{throw py(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function py(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,a+t+u)}function hV(t,e){return t.some(n=>n.isEqual(e))}var Zo=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},KC=class extends Zo{data(){return super.data()}};function Sy(t,e){return typeof e=="string"?Ob(t,e):e instanceof Cr?e._internalPath:e._delegate._internalPath}function fV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yh=class{},Jo=class extends yh{};function ki(t,e,...n){let r=[];e instanceof yh&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof QC).length,a=s.filter(u=>u instanceof my).length;if(o>1||o>0&&a>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var my=class t extends Jo{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return DV(e._query,n),new $t(e.firestore,e.converter,CD(e._query,n))}_parse(e){let n=ea(e.firestore);return function(s,o,a,u,l,d,f){let m;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gP(f,d);let g=[];for(let w of f)g.push(mP(u,s,w));m={arrayValue:{values:g}}}else m=mP(u,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gP(f,d),m=cV(a,o,f,d==="in"||d==="not-in");return Ie.create(l,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function pV(t,e,n){let r=e,i=Sy("where",t);return my._create(i,r,n)}var QC=class t extends yh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:je.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)DV(o,u),o=CD(o,u)}(e._query,n),new $t(e.firestore,e.converter,CD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var YC=class t extends Jo{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zo(s,o)}(e._query,this._field,this._direction);return new $t(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ir(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function mV(t,e="asc"){let n=e,r=Sy("orderBy",t);return YC._create(r,n)}var gy=class t extends Jo{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new $t(e.firestore,e.converter,Pg(e._query,this._limit,this._limitType))}};function gV(t){return GF("limit",t),gy._create("limit",t,"F")}function yV(t){return GF("limitToLast",t),gy._create("limitToLast",t,"L")}var yy=class t extends Jo{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=IV(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,s){return new Ir(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function vV(...t){return yy._create("startAt",t,!0)}function wV(...t){return yy._create("startAfter",t,!1)}var vy=class t extends Jo{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=IV(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,s){return new Ir(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function _V(...t){return vy._create("endBefore",t,!1)}function EV(...t){return vy._create("endAt",t,!0)}function IV(t,e,n,r){if(n[0]=tt(n[0]),n[0]instanceof Zo)return function(s,o,a,u,l){if(!u)throw new F(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of Qu(s))if(f.field.isKeyField())d.push(Ho(o,u.key));else{let m=u.data.field(f.field);if(_y(m))throw new F(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new F(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new Jr(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=ea(t.firestore);return function(o,a,u,l,d,f){let m=o.explicitOrderBy;if(d.length>m.length)throw new F(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let w=0;w<d.length;w++){let b=d[w];if(m[w].field.isKeyField()){if(typeof b!="string")throw new F(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!sb(o)&&b.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);let T=o.path.child(Ae.fromString(b));if(!H.isDocumentKey(T))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let O=new H(T);g.push(Ho(a,O))}else{let T=cV(u,l,b);g.push(T)}}return new Jr(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function mP(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&n.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!H.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ho(t,new H(r))}if(n instanceof We)return Ho(t,n._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(n)}.`)}function gP(t,e){if(!Array.isArray(t)||t.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DV(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var fc=class{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Xo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new mh(s)}convertGeoPoint(e){return new Yo(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=rb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){let n=Si(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);te(pF(r));let i=new ks(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Ay(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ZC=class extends fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};var Ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xn=class extends Zo{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},xs=class extends Xn{data(e={}){return super.data(e)}},br=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xs(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T8(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function T8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function Pb(t,e){return t instanceof Xn&&e instanceof Xn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof br&&e instanceof br&&t._firestore===e._firestore&&Mb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function CV(t){t=xe(t,We);let e=xe(t.firestore,et);return HF(xt(e),t._key).then(n=>jb(e,t,n))}var Ni=class extends fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};function bV(t){t=xe(t,We);let e=xe(t.firestore,et),n=xt(e),r=new Ni(e);return w8(n,t._key).then(i=>new Xn(e,r,t._key,i,new Ti(i!==null&&i.hasLocalMutations,!0),t.converter))}function TV(t){t=xe(t,We);let e=xe(t.firestore,et);return HF(xt(e),t._key,{source:"server"}).then(n=>jb(e,t,n))}function SV(t){t=xe(t,$t);let e=xe(t.firestore,et),n=xt(e),r=new Ni(e);return fV(t._query),zF(n,t._query).then(i=>new br(e,r,t,i))}function AV(t){t=xe(t,$t);let e=xe(t.firestore,et),n=xt(e),r=new Ni(e);return _8(n,t._query).then(i=>new br(e,r,t,i))}function xV(t){t=xe(t,$t);let e=xe(t.firestore,et),n=xt(e),r=new Ni(e);return zF(n,t._query,{source:"server"}).then(i=>new br(e,r,t,i))}function Fb(t,e,n){t=xe(t,We);let r=xe(t.firestore,et),i=Ay(t.converter,e,n);return _c(r,[Ty(ea(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ht.none())])}function Vb(t,e,n,...r){t=xe(t,We);let i=xe(t.firestore,et),s=ea(i),o;return o=typeof(e=tt(e))=="string"||e instanceof Cr?Rb(s,"updateDoc",t._key,e,n,r):Nb(s,"updateDoc",t._key,e),_c(i,[o.toMutation(t._key,ht.exists(!0))])}function MV(t){return _c(xe(t.firestore,et),[new Ls(t._key,ht.none())])}function NV(t,e){let n=xe(t.firestore,et),r=Ch(t),i=Ay(t.converter,e);return _c(n,[Ty(ea(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ht.exists(!1))]).then(()=>r)}function Lb(t,...e){var n,r,i;t=tt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jC(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jC(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,d;if(t instanceof We)l=xe(t.firestore,et),d=mc(t._key.path),u={next:f=>{e[o]&&e[o](jb(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=xe(t,$t);l=xe(f.firestore,et),d=f._query;let m=new Ni(l);u={next:g=>{e[o]&&e[o](new br(l,m,f,g))},error:e[o+1],complete:e[o+2]},fV(t._query)}return function(m,g,w,b){let T=new dc(b),O=new hh(g,T,w);return m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return mb(yield hc(m),O)})),()=>{T.za(),m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return gb(yield hc(m),O)}))}}(xt(l),d,a,u)}function RV(t,e){return E8(xt(t=xe(t,et)),jC(e)?e:{next:e})}function _c(t,e){return function(r,i){let s=new bt;return r.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return e8(yield bb(r),i,s)})),s.promise}(xt(t),e)}function jb(t,e,n){let r=n.docs.get(e._key),i=new Ni(t);return new Xn(t,i,e._key,r,new Ti(n.hasPendingWrites,n.fromCache),e.converter)}var S8={maxAttempts:5};var wy=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ea(e)}set(e,n,r){this._verifyNotCommitted();let i=Ss(e,this._firestore),s=Ay(i.converter,n,r),o=Ty(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ht.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Ss(e,this._firestore),o;return o=typeof(n=tt(n))=="string"||n instanceof Cr?Rb(this._dataReader,"WriteBatch.update",s._key,n,r,i):Nb(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ht.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Ss(e,this._firestore);return this._mutations=this._mutations.concat(new Ls(n._key,ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ss(t,e){if((t=tt(t)).firestore!==e)throw new F(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var JC=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ea(n)}get(n){let r=Ss(n,this._firestore),i=new ZC(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Q();let o=s[0];if(o.isFoundDocument())return new Zo(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Zo(this._firestore,i,r._key,null,r.converter);throw Q()})}set(n,r,i){let s=Ss(n,this._firestore),o=Ay(s.converter,r,i),a=Ty(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){let o=Ss(n,this._firestore),a;return a=typeof(r=tt(r))=="string"||r instanceof Cr?Rb(this._dataReader,"Transaction.update",o._key,r,i,s):Nb(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){let r=Ss(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Ss(e,this._firestore),r=new Ni(this._firestore);return super.get(e).then(i=>new Xn(this._firestore,r,n._key,i._document,new Ti(!1,!1),n.converter))}};function kV(t,e,n){t=xe(t,et);let r=Object.assign(Object.assign({},S8),n);return function(s){if(s.maxAttempts<1)throw new F(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let u=new bt;return s.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){let l=yield g8(s);new PC(s.asyncQueue,l,a,o,u).ru()})),u.promise}(xt(t),i=>e(new JC(t,i)),r)}function OV(){return new gh("deleteField")}function PV(){return new HC("serverTimestamp")}function FV(...t){return new zC("arrayUnion",t)}function VV(...t){return new qC("arrayRemove",t)}function LV(t){return new GC("increment",t)}(function(e,n=!0){(function(i){pc=i})(sS),zc(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new et(new tD(r.getProvider("auth-internal")),new sD(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ks(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Li(mO,"4.7.2",e),Li(mO,"4.7.2","esm2017")})();var A8="@firebase/firestore-compat",x8="0.3.37";function qb(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function jV(){if(typeof Uint8Array>"u")throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function UV(){if(!MP())throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xy=class t{constructor(e){this._delegate=e}static fromBase64String(e){return UV(),new t(ei.fromBase64String(e))}static fromUint8Array(e){return jV(),new t(ei.fromUint8Array(e))}toBase64(){return UV(),this._delegate.toBase64()}toUint8Array(){return jV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Ub(t){return M8(t,["next","error","complete"])}function M8(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var Bb=class{enableIndexedDbPersistence(e,n){return ZF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return JF(e._delegate)}clearIndexedDbPersistence(e){return eV(e._delegate)}},My=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ks||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Zn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){WF(this._delegate,e,n,r)}enableNetwork(){return nV(this._delegate)}disableNetwork(){return rV(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sb("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return tV(this._delegate)}onSnapshotsInSync(e){return RV(this._delegate,e)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dc(this,Ab(this._delegate,e))}catch(n){throw mn(n,"collection()","Firestore.collection()")}}doc(e){try{return new ti(this,Ch(this._delegate,e))}catch(n){throw mn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sa(this,KF(this._delegate,e))}catch(n){throw mn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return kV(this._delegate,n=>e(new Ny(this,n)))}batch(){return xt(this._delegate),new Ry(new wy(this._delegate,e=>_c(this._delegate,e)))}loadBundle(e){return iV(this._delegate,e)}namedQuery(e){return sV(this._delegate,e).then(n=>n?new sa(this,n):null)}},Ec=class extends fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new xy(new ei(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return ti.forKey(n,this.firestore,null)}};function N8(t){yP(t)}var Ny=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ec(e)}get(e){let n=na(e);return this._delegate.get(n).then(r=>new ra(this._firestore,new Xn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=na(e);return r?(qb("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=na(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=na(e);return this._delegate.delete(n),this}},Ry=class{constructor(e){this._delegate=e}set(e,n,r){let i=na(e);return r?(qb("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=na(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=na(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Ic=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new xs(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ia(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new Ec(e),n),i.set(n,s)),s}};Ic.INSTANCES=new WeakMap;var ti=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ec(e)}static forPath(e,n,r){if(e.length%2!==0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new We(n._delegate,r,new H(e)))}static forKey(e,n,r){return new t(n,new We(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dc(this.firestore,Ab(this._delegate,e))}catch(n){throw mn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof We?xb(this._delegate,e):!1}set(e,n){n=qb("DocumentReference.set",n);try{return n?Fb(this._delegate,e,n):Fb(this._delegate,e)}catch(r){throw mn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Vb(this._delegate,e):Vb(this._delegate,e,n,...r)}catch(i){throw mn(i,"updateDoc()","DocumentReference.update()")}}delete(){return MV(this._delegate)}onSnapshot(...e){let n=BV(e),r=$V(e,i=>new ra(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Lb(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=bV(this._delegate):e?.source==="server"?n=TV(this._delegate):n=CV(this._delegate),n.then(r=>new ra(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ic.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function mn(t,e,n){return t.message=t.message.replace(e,n),t}function BV(t){for(let e of t)if(typeof e=="object"&&!Ub(e))return e;return{}}function $V(t,e){var n,r;let i;return Ub(t[0])?i=t[0]:Ub(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ra=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ti(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Pb(this._delegate,e._delegate)}},ia=class extends ra{data(e){let n=this._delegate.data(e);return this._delegate._converter||vP(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},sa=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ec(e)}where(e,n,r){try{return new t(this.firestore,ki(this._delegate,pV(e,n,r)))}catch(i){throw mn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,ki(this._delegate,mV(e,n)))}catch(r){throw mn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,ki(this._delegate,gV(e)))}catch(n){throw mn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,ki(this._delegate,yV(e)))}catch(n){throw mn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,ki(this._delegate,vV(...e)))}catch(n){throw mn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,ki(this._delegate,wV(...e)))}catch(n){throw mn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,ki(this._delegate,_V(...e)))}catch(n){throw mn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,ki(this._delegate,EV(...e)))}catch(n){throw mn(n,"endAt()","Query.endAt()")}}isEqual(e){return Mb(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=AV(this._delegate):e?.source==="server"?n=xV(this._delegate):n=SV(this._delegate),n.then(r=>new bh(this.firestore,new br(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=BV(e),r=$V(e,i=>new bh(this.firestore,new br(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Lb(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ic.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},$b=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ia(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},bh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ia(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new $b(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ia(this._firestore,r))})}isEqual(e){return Pb(this._delegate,e._delegate)}},Dc=class t extends sa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new ti(this.firestore,e):null}doc(e){try{return e===void 0?new ti(this.firestore,Ch(this._delegate)):new ti(this.firestore,Ch(this._delegate,e))}catch(n){throw mn(n,"doc()","CollectionReference.doc()")}}add(e){return NV(this._delegate,e).then(n=>new ti(this.firestore,n))}isEqual(e){return xb(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ic.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function na(t){return xe(t,We)}var Hb=class t{constructor(...e){this._delegate=new Cr(...e)}static documentId(){return new t(mt.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof Cr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var zb=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=PV();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=OV();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=FV(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=VV(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=LV(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var R8={Firestore:My,GeoPoint:Yo,Timestamp:st,Blob:xy,Transaction:Ny,WriteBatch:Ry,DocumentReference:ti,DocumentSnapshot:ra,Query:sa,QueryDocumentSnapshot:ia,QuerySnapshot:bh,CollectionReference:Dc,FieldPath:Hb,FieldValue:zb,setLogLevel:N8,CACHE_SIZE_UNLIMITED:QF};function k8(t,e){t.INTERNAL.registerComponent(new Ks("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},R8)))}function O8(t){k8(t,(e,n)=>new My(e,n,new Bb)),t.registerVersion(A8,x8)}O8(gn);function P8(t,e=Yc){return new Ee(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function HV(t,e){return P8(t,e)}function F8(t,e){return HV(t,e).pipe(eo(void 0),Xc(),Z(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function Kb(t,e){return HV(t,e).pipe(Z(n=>({payload:n,type:"query"})))}var ky=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=KV(r,n);return new Py(i,s,this.afs)}snapshotChanges(){return F8(this.ref,this.afs.schedulers.outsideAngular).pipe(Dn)}valueChanges(e={}){return this.snapshotChanges().pipe(Z(({payload:n})=>e.idField?z(I({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return he(this.ref.get(e)).pipe(Dn)}};function Oy(t,e){return Kb(t,e).pipe(eo(void 0),Xc(),Z(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{let l=s.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function zV(t,e,n){return Oy(t,n).pipe(Xs((r,i)=>V8(r,i.map(s=>s.payload),e),[]),Fv(),Z(r=>r.map(i=>({type:i.type,payload:i}))))}function V8(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=L8(t,r))}),t}function Gb(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function L8(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Gb(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return Gb(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Gb(t,e.oldIndex,1);break}return t}function qV(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Py=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Oy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Z(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(eo(void 0),Xc(),Vt(([r,i])=>i.length>0||!r),Z(([,r])=>r),Dn)}auditTrail(e){return this.stateChanges(e).pipe(Xs((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=qV(e);return zV(this.query,n,this.afs.schedulers.outsideAngular).pipe(Dn)}valueChanges(e={}){return Kb(this.query,this.afs.schedulers.outsideAngular).pipe(Z(n=>n.payload.docs.map(r=>e.idField?z(I({},r.data()),{[e.idField]:r.id}):r.data())),Dn)}get(e){return he(this.query.get(e)).pipe(Dn)}add(e){return this.ref.add(e)}doc(e){return new ky(this.ref.doc(e),this.afs)}},Wb=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Oy(this.query,this.afs.schedulers.outsideAngular).pipe(Dn):Oy(this.query,this.afs.schedulers.outsideAngular).pipe(Z(n=>n.filter(r=>e.indexOf(r.type)>-1)),Vt(n=>n.length>0),Dn)}auditTrail(e){return this.stateChanges(e).pipe(Xs((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=qV(e);return zV(this.query,n,this.afs.schedulers.outsideAngular).pipe(Dn)}valueChanges(e={}){return Kb(this.query,this.afs.schedulers.outsideAngular).pipe(Z(r=>r.payload.docs.map(i=>e.idField?I({[e.idField]:i.id},i.data()):i.data())),Dn)}get(e){return he(this.query.get(e)).pipe(Dn)}},GV=new G("angularfire2.enableFirestorePersistence"),WV=new G("angularfire2.firestore.persistenceSettings"),j8=new G("angularfire2.firestore.settings"),U8=new G("angularfire2.firestore.use-emulator");function KV(t,e=n=>n){return{query:e(t),ref:t}}var oa=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,d,f,m,g,w,b,T,O,j){this.schedulers=u;let P=Fd(n,a,r),K=d;f&&BI(P,a,m,w,b,T,g,O),[this.firestore,this.persistenceEnabled$]=lg(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{let X=a.runOutsideAngular(()=>P.firestore());if(s&&X.settings(s),K&&X.useEmulator(...K),i&&!yo(o)){let ne=()=>{try{return he(X.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(D){return typeof console<"u"&&console.warn(D),Y(!1)}};return[X,a.runOutsideAngular(ne)]}else return[X,Y(!1)]},[s,K,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=KV(i,r),a=this.schedulers.ngZone.run(()=>s);return new Py(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new Wb(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new ky(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(L(Pu),L(Fu,8),L(GV,8),L(j8,8),L(In),L(Te),L(ag),L(WV,8),L(U8,8),L(dg,8),L(PI,8),L(FI,8),L(VI,8),L(LI,8),L(jI,8),L(UI,8),L(ko,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),koe=(()=>{class t{constructor(){gn.registerVersion("angularfire",Ou.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:GV,useValue:!0},{provide:WV,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=Mt({providers:[oa]})}return t})();var Hs=class t{constructor(e){this.afAuth=e;this.user$=this.afAuth.authState.pipe(ut(n=>this.updateUser(n)))}user$;user;signInWithGoogle(){return he(this.afAuth.signInWithPopup(new fv))}signOut(){return this.afAuth.signOut()}updateUser(e){this.user=e}static \u0275fac=function(n){return new(n||t)(L(dg))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var Fy=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.savingCollection=this.fireStore.collection("savings")}savingCollection;addSaving(e){if(this.authService.user){let n=this.authService.user.uid,r={value:e,uid:this.authService.user.uid};return he(this.savingCollection.doc(n).set(r)).pipe(Z(()=>e))}else return localStorage.setItem("savings",e.toString()),Y(e)}getSavings(){if(this.authService.user){let e=this.authService.user.uid;return this.fireStore.doc(`savings/${e}`).valueChanges().pipe(Z(n=>n?.value||0))}else return Y(Number(localStorage.getItem("savings"))||0)}static \u0275fac=function(n){return new(n||t)(L(oa),L(Hs))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var $8=t=>({"app-multi-filter-button-active":t});function H8(t,e){if(t&1){let n=ln();se(0,"span")(1,"div",8)(2,"span"),rt(3,"\u0424\u0438\u043B\u044C\u0442\u0440\u044B:"),ae(),se(4,"i",9),be("click",function(){wt(n);let i=Ne();return _t(i.clearFilters())}),ae()(),se(5,"div",8)(6,"span"),rt(7,"\u041F\u0435\u0440\u0438\u043E\u0434:"),ae(),se(8,"span"),rt(9),ae()(),se(10,"div",8)(11,"span"),rt(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438:"),ae(),se(13,"span"),rt(14),ae()()()}if(t&2){let n=Ne();oe(2),cn("font-weight","bold"),oe(2),cn("padding-left","10px"),oe(2),cn("margin-right",10,"px"),oe(2),cn("color","#ff6f61"),oe(),mo((n.dateFilter==null?null:n.dateFilter.display)||"\u0412\u0435\u0441\u044C"),oe(2),cn("margin-right",10,"px"),oe(2),cn("color","#ff6f61"),oe(),mo(n.getCategoryFilters()||"\u0412\u0441\u0435")}}function z8(t,e){if(t&1){let n=ln();se(0,"div",11),be("click",function(){wt(n);let i=Ne(2);return _t(i.onShowSavings())}),se(1,"span"),rt(2,"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0441\u0445\u043E\u0434: "),ae(),se(3,"span"),rt(4),ae()()}if(t&2){let n=Ne(2);oe(3),cn("color","#ff6f61"),oe(),Vr("",n.totalAmount,"\u20AC")}}function q8(t,e){if(t&1){let n=ln();se(0,"div",11),be("click",function(){wt(n);let i=Ne(2);return _t(i.onShowSavings())}),rt(1),se(2,"i",12),be("click",function(){wt(n);let i=Ne(2);return _t(i.changeSavings())}),ae()()}if(t&2){let n=Ne(2);oe(),Vr(" ",n.savings,"\u20AC ")}}function G8(t,e){if(t&1&&(se(0,"span"),xn(1,z8,5,3,"div",10)(2,q8,3,1,"ng-template",null,0,U_),ae()),t&2){let n=j_(3),r=Ne();oe(),Ve("ngIf",!r.showSavings)("ngIfElse",n)}}function W8(t,e){if(t&1){let n=ln();se(0,"div",11),be("click",function(){wt(n);let i=Ne(2);return _t(i.onShowSavings())}),se(1,"span"),rt(2,"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0441\u0445\u043E\u0434: "),ae(),se(3,"span"),rt(4),ae()()}if(t&2){let n=Ne(2);cn("margin-bottom",30,"px"),oe(3),cn("color","#ff6f61"),oe(),Vr("",n.totalAmount,"\u20AC")}}function K8(t,e){if(t&1&&(se(0,"div"),xn(1,W8,5,5,"div",13),ae()),t&2){let n=Ne(),r=j_(8);cn("margin","10","px"),oe(),Ve("ngIf",!n.showSavings)("ngIfElse",r)}}function Q8(t,e){if(t&1){let n=ln();se(0,"div",11),be("click",function(){wt(n);let i=Ne();return _t(i.onShowSavings())}),rt(1),se(2,"i",12),be("click",function(){wt(n);let i=Ne();return _t(i.changeSavings())}),ae()()}if(t&2){let n=Ne();oe(),Vr(" ",n.savings,"\u20AC ")}}function Y8(t,e){if(t&1){let n=ln();se(0,"div",14)(1,"div",15)(2,"div",16)(3,"app-date-filter",17),be("changeFilter",function(i){wt(n);let s=Ne();return _t(s.emitDateFilter(i))}),ae()(),se(4,"app-category-filter",18),be("selectedCategories",function(i){wt(n);let s=Ne();return _t(s.emitCategoryFilters(i))}),ae()()()}if(t&2){let n=Ne();oe(3),Ve("defaultValue",n.defaultDateValue)("value",n.dateFilter),oe(),Ve("value",n.predefineCategories)}}var QV=class t{constructor(e){this.savingService=e}value;totalAmount;defaultDateValue;selectedFilters=new Ue;dateFilter;selectedCategories=[];predefineCategories=[];expandFilters=!1;showSavings;savings="0";unsubscribe=new qe;ngOnInit(){this.savingService.getSavings().pipe(to(this.unsubscribe)).subscribe(e=>{this.savings=e?.toString()||"0"})}ngOnChanges(e){e.value&&this.value&&(this.dateFilter=this.value.date,this.selectedCategories=this.value.categories,this.predefineCategories=this.value.categories)}getCategoryFilters(){return this.selectedCategories.map(jR).join(", ")}onShowSavings(){this.showSavings=!this.showSavings}clearFilters(){this.dateFilter=void 0,this.predefineCategories=[],this.selectedCategories=[],this.selectedFilters.emit({categories:[],date:void 0})}emitDateFilter(e){this.dateFilter=e,this.selectedFilters.emit({categories:this.selectedCategories,date:e})}emitCategoryFilters(e){this.selectedCategories=e,this.selectedFilters.emit({categories:e,date:this.dateFilter})}toggleExpandFilters(){this.expandFilters=!this.expandFilters,this.predefineCategories=[...this.selectedCategories]}changeSavings(){let e=prompt("Enter new savings",this.savings);e&&this.savingService.addSaving(Number(e)).pipe(to(this.unsubscribe)).subscribe(()=>{this.savings=e})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(n){return new(n||t)(pe(Fy))};static \u0275cmp=ar({type:t,selectors:[["app-multi-filter"]],inputs:{value:"value",totalAmount:"totalAmount",defaultDateValue:"defaultDateValue"},outputs:{selectedFilters:"selectedFilters"},standalone:!0,features:[Kt,hr],decls:10,vars:7,consts:[["savingsTemplate",""],[1,"app-multi-filter"],[1,"app-multi-filter-container"],[4,"ngIf"],[1,"app-multi-filter-button",3,"click","ngClass"],[1,"fas","fa-filter"],[3,"margin",4,"ngIf"],["class","app-multi-filter-expand",4,"ngIf"],[1,"app-multi-filter-header"],[1,"fas","fa-redo-alt",3,"click"],["class","app-multi-filter-header",3,"click",4,"ngIf","ngIfElse"],[1,"app-multi-filter-header",3,"click"],[1,"fas","fa-pencil-alt",3,"click"],["class","app-multi-filter-header",3,"margin-bottom","click",4,"ngIf","ngIfElse"],[1,"app-multi-filter-expand"],[1,"app-multi-filter-expand-items"],[1,"app-multi-filter-expand-date"],[3,"changeFilter","defaultValue","value"],[3,"selectedCategories","value"]],template:function(n,r){if(n&1){let i=ln();se(0,"div",1)(1,"div",2),xn(2,H8,15,14,"span",3)(3,G8,4,2,"span",3),se(4,"button",4),be("click",function(){return wt(i),_t(r.toggleExpandFilters())}),es(5,"i",5),ae()(),xn(6,K8,2,4,"div",6)(7,Q8,3,1,"ng-template",null,0,U_)(9,Y8,5,3,"div",7),ae()}if(n&2){let i,s,o;oe(2),Ve("ngIf",((r.dateFilter==null?null:r.dateFilter.display)||((i=r.getCategoryFilters())==null?null:i.length))&&!r.expandFilters),oe(),Ve("ngIf",!(r.dateFilter!=null&&r.dateFilter.display)&&!((s=r.getCategoryFilters())!=null&&s.length)||r.expandFilters),oe(),Ve("ngClass",vl(5,$8,r.expandFilters)),oe(2),Ve("ngIf",((r.dateFilter==null?null:r.dateFilter.display)||((o=r.getCategoryFilters())==null?null:o.length))&&!r.expandFilters),oe(3),Ve("ngIf",r.expandFilters)}},dependencies:[Ur,nm,Za,nu,ig,sg],styles:[".app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1rem 0 0}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-container[_ngcontent-%COMP%]   .app-multi-filter-header[_ngcontent-%COMP%]{margin:10px}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-container[_ngcontent-%COMP%]   .app-multi-filter-button[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#000;border:2px solid #f8d7da;background-color:transparent;border-radius:5px;padding:.5rem 1rem;margin:.5rem;cursor:pointer}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-container[_ngcontent-%COMP%]   .app-multi-filter-button-active[_ngcontent-%COMP%]{background-color:#f8d7da}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-expand[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;margin:.5rem}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-expand[_ngcontent-%COMP%]   .app-multi-filter-expand-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.app-multi-filter[_ngcontent-%COMP%]   .app-multi-filter-expand[_ngcontent-%COMP%]   .app-multi-filter-expand-items[_ngcontent-%COMP%]   .app-multi-filter-expand-date[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-family:Montserrat,sans-serif;padding:.5rem;border:2px solid #f8d7da;border-radius:5px;cursor:pointer}"]})};var YV=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.balanceCollection=this.fireStore.collection("balance")}balanceCollection;addBalance(e){if(localStorage.setItem("balance",e.toString()),this.authService.user){let n=this.authService.user.uid,r={value:e,uid:this.authService.user.uid};return he(this.balanceCollection.doc(n).set(r)).pipe(Z(()=>e))}else return Y(e)}getBalance(){if(this.authService.user){let e=this.authService.user.uid;return this.fireStore.doc(`balance/${e}`).valueChanges().pipe(Z(n=>n?.value||0))}else return Y(Number(localStorage.getItem("balance"))||0)}static \u0275fac=function(n){return new(n||t)(L(oa),L(Hs))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};function ZV(t,e,n){return t.filter(r=>{let i=le.fromMillis(r.date);return i>=e&&i<=n})}var JV=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.expensesCollection=this.fireStore.collection("expenses")}expensesCollection;addExpense(e){let n=this.fireStore.createId(),r=z(I({},e),{id:n});if(this.authService.user){let i=this.authService.user.uid;return he(this.expensesCollection.doc(n).set(z(I({},r),{uid:i}))).pipe(Z(()=>z(I({},r),{uid:i})))}else{let i=localStorage.getItem("expenses"),s=i?JSON.parse(i):[];return s.unshift(r),localStorage.setItem("expenses",JSON.stringify(s)),Y(r)}}getExpenses(e,n){if(this.authService.user)return this.fireStore.collection("expenses",r=>{let i=r.where("uid","==",this.authService.user.uid);return e?.start&&e?.finish&&(i=i.where("date",">=",e.start.valueOf()).where("date","<=",e.finish.valueOf())),Array.isArray(n)&&n.length>0&&(i=i.where("category","in",n)),i.orderBy("date","desc")}).snapshotChanges().pipe(Z(r=>r.map(i=>{let s=i.payload.doc.data(),o=i.payload.doc.id;return I({id:o},s)})));{let r=JSON.parse(localStorage.getItem("expenses")||"[]");return e&&(r=ZV(r,e.start,e.finish)),Array.isArray(n)&&n.length>0&&(r=r.filter(i=>n.includes(i.category))),Y(r)}}updateExpense(e){if(this.authService.user)return he(this.expensesCollection.doc(e.id).update(e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").map(i=>i.id===e.id?e:i);return localStorage.setItem("expenses",JSON.stringify(r)),Y()}}deleteExpense(e){if(this.authService.user)return he(this.expensesCollection.doc(e).delete()).pipe(Z(()=>e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").filter(i=>i.id!==e);return localStorage.setItem("expenses",JSON.stringify(r)),Y(e)}}static \u0275fac=function(n){return new(n||t)(L(oa),L(Hs))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var XV=class t{categories;dateFilter;static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};export{qe as a,Ft as b,he as c,Y as d,Z as e,kv as f,Ar as g,Fv as h,Tn as i,nt as j,to as k,ut as l,W as m,Mt as n,G as o,L as p,ar as q,Nt as r,Wt as s,e_ as t,Kt as u,wt as v,_t as w,po as x,Ue as y,Te as z,lr as A,YX as B,Kx as C,oe as D,pe as E,xn as F,Ve as G,cn as H,eee as I,se as J,ae as K,es as L,ln as M,be as N,Ne as O,j_ as P,rt as Q,mo as R,Vr as S,d$ as T,Wa as U,yl as V,Ka as W,hr as X,vl as Y,tee as Z,nee as _,ree as $,U_ as aa,Up as ba,bee as ca,nm as da,yN as ea,Za as fa,Tee as ga,See as ha,Aee as ia,Ur as ja,Kee as ka,Qee as la,yE as ma,qH as na,Yee as oa,Ose as pa,oa as qa,koe as ra,CE as sa,LN as ta,GN as ua,TE as va,nu as wa,Mte as xa,To as ya,zq as za,ds as Aa,Zte as Ba,Jte as Ca,jR as Da,tne as Ea,fs as Fa,ig as Ga,Hs as Ha,JV as Ia,YV as Ja,XV as Ka,QV as La};
