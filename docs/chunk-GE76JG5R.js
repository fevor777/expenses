import{A as LT,B as bi,C as rn,D as Jy,a as I,b as z,c as Wy,f as Ky,g as k,h as MT,i as Ch,j as NT,k as RT,l as kT,m as Qy,n as OT,o as Dc,p as Yy,q as Th,r as PT,s as FT,t as Zy,u as Ke,v as ks,w as dr,x as Sh,y as bc,z as VT}from"./chunk-S6JPUCOG.js";function jT(t,e){return Object.is(t,e)}var vt=null,Ah=!1,xh=1,zr=Symbol("SIGNAL");function ve(t){let e=vt;return vt=t,e}function UT(){return vt}var Tc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tv(t){if(Ah)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(t);let e=vt.nextProducerIndex++;if(kh(vt),e<vt.producerNode.length&&vt.producerNode[e]!==t&&Cc(vt)){let n=vt.producerNode[e];Rh(n,vt.producerIndexOfThis[e])}vt.producerNode[e]!==t&&(vt.producerNode[e]=t,vt.producerIndexOfThis[e]=Cc(vt)?zT(t,vt,e):0),vt.producerLastReadVersion[e]=t.version}function uL(){xh++}function BT(t){if(!(Cc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xh)){if(!t.producerMustRecompute(t)&&!rv(t)){t.dirty=!1,t.lastCleanEpoch=xh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xh}}function $T(t){if(t.liveConsumerNode===void 0)return;let e=Ah;Ah=!0;try{for(let n of t.liveConsumerNode)n.dirty||cL(n)}finally{Ah=e}}function HT(){return vt?.consumerAllowSignalWrites!==!1}function cL(t){t.dirty=!0,$T(t),t.consumerMarkedDirty?.(t)}function Nh(t){return t&&(t.nextProducerIndex=0),ve(t)}function nv(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Cc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rv(t){kh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(BT(n),r!==n.version))return!0}return!1}function iv(t){if(kh(t),Cc(t))for(let e=0;e<t.producerNode.length;e++)Rh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zT(t,e,n){if(qT(t),t.liveConsumerNode.length===0&&GT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Rh(t,e){if(qT(t),t.liveConsumerNode.length===1&&GT(t))for(let r=0;r<t.producerNode.length;r++)Rh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];kh(i),i.producerIndexOfThis[r]=e}}function Cc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GT(t){return t.producerNode!==void 0}function WT(t){let e=Object.create(lL);e.computation=t;let n=()=>{if(BT(e),tv(e),e.value===Mh)throw e.error;return e.value};return n[zr]=e,n}var Xy=Symbol("UNSET"),ev=Symbol("COMPUTING"),Mh=Symbol("ERRORED"),lL=z(I({},Tc),{value:Xy,dirty:!0,error:null,equal:jT,producerMustRecompute(t){return t.value===Xy||t.value===ev},producerRecomputeValue(t){if(t.value===ev)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ev;let n=Nh(t),r;try{r=t.computation()}catch(i){r=Mh,t.error=i}finally{nv(t,n)}if(e!==Xy&&e!==Mh&&r!==Mh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function dL(){throw new Error}var KT=dL;function QT(){KT()}function YT(t){KT=t}var hL=null;function ZT(t){let e=Object.create(XT);e.value=t;let n=()=>(tv(e),e.value);return n[zr]=e,n}function sv(t,e){HT()||QT(),t.equal(t.value,e)||(t.value=e,fL(t))}function JT(t,e){HT()||QT(),sv(t,e(t.value))}var XT=z(I({},Tc),{equal:jT,value:void 0});function fL(t){t.version++,uL(),$T(t),hL?.()}function se(t){return typeof t=="function"}function Ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oh=Ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Os(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Oh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{eS(s)}catch(o){e=e??[],o instanceof Oh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)eS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Os(n,e)}remove(e){let{_finalizers:n}=this;n&&Os(n,e),e instanceof t&&e._removeParent(this)}};Xe.EMPTY=(()=>{let t=new Xe;return t.closed=!0,t})();var ov=Xe.EMPTY;function Ph(t){return t instanceof Xe||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function eS(t){se(t)?t():t.unsubscribe()}var $n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qo={setTimeout(t,e,...n){let{delegate:r}=Qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fh(t){Qo.setTimeout(()=>{let{onUnhandledError:e}=$n;if(e)e(t);else throw t})}function Sc(){}var tS=av("C",void 0,void 0);function nS(t){return av("E",void 0,t)}function rS(t){return av("N",t,void 0)}function av(t,e,n){return{kind:t,value:e,error:n}}var Ps=null;function Yo(t){if($n.useDeprecatedSynchronousErrorHandling){let e=!Ps;if(e&&(Ps={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ps;if(Ps=null,n)throw r}}else t()}function iS(t){$n.useDeprecatedSynchronousErrorHandling&&Ps&&(Ps.errorThrown=!0,Ps.error=t)}var Fs=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ph(e)&&e.add(this)):this.destination=gL}static create(e,n,r){return new qr(e,n,r)}next(e){this.isStopped?cv(rS(e),this):this._next(e)}error(e){this.isStopped?cv(nS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cv(tS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pL=Function.prototype.bind;function uv(t,e){return pL.call(t,e)}var lv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vh(r)}else Vh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vh(n)}}},qr=class extends Fs{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$n.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uv(e.next,s),error:e.error&&uv(e.error,s),complete:e.complete&&uv(e.complete,s)}):i=e}this.destination=new lv(i)}};function Vh(t){$n.useDeprecatedSynchronousErrorHandling?iS(t):Fh(t)}function mL(t){throw t}function cv(t,e){let{onStoppedNotification:n}=$n;n&&Qo.setTimeout(()=>n(t,e))}var gL={closed:!0,next:Sc,error:mL,complete:Sc};var Zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(t){return t}function dv(...t){return hv(t)}function hv(t){return t.length===0?qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=vL(n)?n:new qr(n,r,i);return Yo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sS(r),new r((i,s)=>{let o=new qr({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zo](){return this}pipe(...n){return hv(n)(this)}toPromise(n){return n=sS(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function sS(t){var e;return(e=t??$n.Promise)!==null&&e!==void 0?e:Promise}function yL(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function vL(t){return t&&t instanceof Fs||yL(t)&&Ph(t)}function fv(t){return se(t?.lift)}function fe(t){return e=>{if(fv(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new pv(t,e,n,r,i)}var pv=class extends Fs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jo(){return fe((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xo=class extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xe;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xe.EMPTY)}return e}refCount(){return Jo()(this)}};var oS=Ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Lh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oS}next(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ov:(this.currentObservers=null,s.push(n),new Xe(()=>{this.currentObservers=null,Os(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new we;return n.source=this,n}}return t.create=(e,n)=>new Lh(e,n),t})(),Lh=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ov}};var wt=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ac={now(){return(Ac.delegate||Date).now()},delegate:void 0};var jh=class extends ze{constructor(e=1/0,n=1/0,r=Ac){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}};var Uh=class extends Xe{constructor(e,n){super()}schedule(e,n=0){return this}};var xc={setInterval(t,e,...n){let{delegate:r}=xc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ea=class extends Uh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Os(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ta=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ta.now=Ac.now;var na=class extends ta{constructor(e,n=ta.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mc=new na(ea);var Bh=class extends ea{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $h=class extends na{};var mv=new $h(Bh);var Gt=new we(t=>t.complete());function aS(t){return t&&se(t.schedule)}function gv(t){return t[t.length-1]}function Hh(t){return se(gv(t))?t.pop():void 0}function hr(t){return aS(gv(t))?t.pop():void 0}function uS(t,e){return typeof gv(t)=="number"?t.pop():e}var zh=t=>t&&typeof t.length=="number"&&typeof t!="function";function qh(t){return se(t?.then)}function Gh(t){return se(t[Zo])}function Wh(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Kh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qh=wL();function Yh(t){return se(t?.[Qh])}function Zh(t){return NT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ch(n.read());if(i)return yield Ch(void 0);yield yield Ch(r)}}finally{n.releaseLock()}})}function Jh(t){return se(t?.getReader)}function Be(t){if(t instanceof we)return t;if(t!=null){if(Gh(t))return _L(t);if(zh(t))return EL(t);if(qh(t))return IL(t);if(Wh(t))return cS(t);if(Yh(t))return DL(t);if(Jh(t))return bL(t)}throw Kh(t)}function _L(t){return new we(e=>{let n=t[Zo]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EL(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IL(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fh)})}function DL(t){return new we(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cS(t){return new we(e=>{CL(t,e).catch(n=>e.error(n))})}function bL(t){return cS(Zh(t))}function CL(t,e){var n,r,i,s;return MT(this,void 0,void 0,function*(){try{for(n=RT(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function sn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function An(t,e=0){return fe((n,r)=>{n.subscribe(pe(r,i=>sn(r,t,()=>r.next(i),e),()=>sn(r,t,()=>r.complete(),e),i=>sn(r,t,()=>r.error(i),e)))})}function Hn(t,e=0){return fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lS(t,e){return Be(t).pipe(Hn(e),An(e))}function dS(t,e){return Be(t).pipe(Hn(e),An(e))}function hS(t,e){return new we(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fS(t,e){return new we(n=>{let r;return sn(n,e,()=>{r=t[Qh](),sn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Xh(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{sn(n,e,()=>{let r=t[Symbol.asyncIterator]();sn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pS(t,e){return Xh(Zh(t),e)}function mS(t,e){if(t!=null){if(Gh(t))return lS(t,e);if(zh(t))return hS(t,e);if(qh(t))return dS(t,e);if(Wh(t))return Xh(t,e);if(Yh(t))return fS(t,e);if(Jh(t))return pS(t,e)}throw Kh(t)}function ce(t,e){return e?mS(t,e):Be(t)}function Y(...t){let e=hr(t);return ce(t,e)}function ra(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new we(e?i=>e.schedule(r,0,i):r)}function yv(t){return!!t&&(t instanceof we||se(t.lift)&&se(t.subscribe))}var Gr=Ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return fe((n,r)=>{let i=0;n.subscribe(pe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:TL}=Array;function SL(t,e){return TL(e)?t(...e):t(e)}function ef(t){return X(e=>SL(t,e))}var{isArray:AL}=Array,{getPrototypeOf:xL,prototype:ML,keys:NL}=Object;function tf(t){if(t.length===1){let e=t[0];if(AL(e))return{args:e,keys:null};if(RL(e)){let n=NL(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RL(t){return t&&typeof t=="object"&&xL(t)===ML}function nf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Nc(...t){let e=hr(t),n=Hh(t),{args:r,keys:i}=tf(t);if(r.length===0)return ce([],e);let s=new we(kL(r,e,i?o=>nf(i,o):qt));return n?s.pipe(ef(n)):s}function kL(t,e,n=qt){return r=>{gS(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)gS(e,()=>{let l=ce(t[u],e),d=!1;l.subscribe(pe(r,f=>{s[u]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function gS(t,e,n){t?sn(n,t,e):e()}function yS(t,e,n,r,i,s,o,a){let u=[],l=0,d=0,f=!1,m=()=>{f&&!u.length&&!l&&e.complete()},g=C=>l<r?w(C):u.push(C),w=C=>{s&&e.next(C),l++;let T=!1;Be(n(C,d++)).subscribe(pe(e,O=>{i?.(O),s?g(O):e.next(O)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;u.length&&l<r;){let O=u.shift();o?sn(e,o,()=>w(O)):w(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(pe(e,g,()=>{f=!0,m()})),()=>{a?.()}}function dt(t,e,n=1/0){return se(e)?dt((r,i)=>X((s,o)=>e(r,s,i,o))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),fe((r,i)=>yS(r,i,t,n)))}function Ci(t=1/0){return dt(qt,t)}function vS(){return Ci(1)}function ia(...t){return vS()(ce(t,hr(t)))}function rf(t){return new we(e=>{Be(t()).subscribe(e)})}function vv(...t){let e=Hh(t),{args:n,keys:r}=tf(t),i=new we(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let d=0;d<o;d++){let f=!1;Be(n[d]).subscribe(pe(s,m=>{f||(f=!0,l--),a[d]=m},()=>u--,void 0,()=>{(!u||!f)&&(l||s.next(r?nf(r,a):a),s.complete())}))}});return e?i.pipe(ef(e)):i}function wv(...t){let e=hr(t),n=uS(t,1/0),r=t;return r.length?r.length===1?Be(r[0]):Ci(n)(ce(r,e)):Gt}function St(t,e){return fe((n,r)=>{let i=0;n.subscribe(pe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ti(t){return fe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(pe(n,void 0,void 0,o=>{s=Be(t(o,Ti(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wS(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(pe(o,d=>{let f=l++;u=a?t(u,d,f):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Vs(t,e){return se(e)?dt(t,e,1):dt(t,1)}function Si(t){return fe((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fr(t){return t<=0?()=>Gt:fe((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _v(t){return X(()=>t)}function Ev(t,e=qt){return t=t??OL,fe((n,r)=>{let i,s=!0;n.subscribe(pe(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function OL(t,e){return t===e}function sf(t=PL){return fe((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PL(){return new Gr}function Rc(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):qt,fr(1),n?Si(e):sf(()=>new Gr))}function sa(t){return t<=0?()=>Gt:fe((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Iv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):qt,sa(1),n?Si(e):sf(()=>new Gr))}function kc(){return fe((t,e)=>{let n,r=!1;t.subscribe(pe(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Ls(t,e){return fe(wS(t,e,arguments.length>=2,!0))}function _S(t={}){let{connector:e=()=>new ze,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),o=u=void 0,d=f=!1},w=()=>{let C=o;g(),C?.unsubscribe()};return fe((C,T)=>{l++,!f&&!d&&m();let O=u=u??e();T.add(()=>{l--,l===0&&!f&&!d&&(a=Dv(w,i))}),O.subscribe(T),!o&&l>0&&(o=new qr({next:j=>O.next(j),error:j=>{f=!0,m(),a=Dv(g,n,j),O.error(j)},complete:()=>{d=!0,m(),a=Dv(g,r),O.complete()}}),Be(C).subscribe(o))})(s)}}function Dv(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new qr({next:()=>{r.unsubscribe(),t()}});return Be(e(...n)).subscribe(r)}function of(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,_S({connector:()=>new jh(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function js(...t){let e=hr(t);return fe((n,r)=>{(e?ia(t,n,e):ia(t,n)).subscribe(r)})}function Qe(t,e){return fe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,d=s++;Be(t(u,d)).subscribe(i=pe(r,f=>r.next(e?e(u,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function af(t,e){return se(e)?Qe(()=>t,e):Qe(()=>t)}function uf(t){return fe((e,n)=>{Be(t).subscribe(pe(n,()=>n.complete(),Sc)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?fe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(pe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):qt}var oA="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,n){super(Pw(e,n)),this.code=e}};function Pw(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Kc(t){return{toString:t}.toString()}var cf="__parameters__";function FL(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function aA(t,e,n){return Kc(()=>{let r=FL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,d){let f=u.hasOwnProperty(cf)?u[cf]:Object.defineProperty(u,cf,{value:[]})[cf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wt=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function VL(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LL=Pe({__forward_ref__:Pe});function Da(t){return t.__forward_ref__=Da,t.toString=function(){return Qt(this())},t}function Kt(t){return uA(t)?t():t}function uA(t){return typeof t=="function"&&t.hasOwnProperty(LL)&&t.__forward_ref__===Da}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function It(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kf(t){return ES(t,lA)||ES(t,dA)}function cA(t){return Kf(t)!==null}function ES(t,e){return t.hasOwnProperty(e)?t[e]:null}function jL(t){let e=t&&(t[lA]||t[dA]);return e||null}function IS(t){return t&&(t.hasOwnProperty(DS)||t.hasOwnProperty(UL))?t[DS]:null}var lA=Pe({\u0275prov:Pe}),DS=Pe({\u0275inj:Pe}),dA=Pe({ngInjectableDef:Pe}),UL=Pe({ngInjectorDef:Pe}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hA(t){return t&&!!t.\u0275providers}var BL=Pe({\u0275cmp:Pe}),$L=Pe({\u0275dir:Pe}),HL=Pe({\u0275pipe:Pe}),zL=Pe({\u0275mod:Pe}),wf=Pe({\u0275fac:Pe}),Pc=Pe({__NG_ELEMENT_ID__:Pe}),bS=Pe({__NG_ENV_ID__:Pe});function Qf(t){return typeof t=="string"?t:t==null?"":String(t)}function qL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qf(t)}function GL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,t)}function Fw(t,e){throw new ee(-201,!1)}var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{}),Uv;function fA(){return Uv}function on(t){let e=Uv;return Uv=t,e}function pA(t,e,n){let r=Kf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&me.Optional)return null;if(e!==void 0)return e;Fw(t,"Injector")}var WL={},Vc=WL,Bv="__NG_DI_FLAG__",_f="ngTempTokenPath",KL="ngTokenPath",QL=/\n/gm,YL="\u0275",CS="__source",ca;function ZL(){return ca}function Ai(t){let e=ca;return ca=t,e}function JL(t,e=me.Default){if(ca===void 0)throw new ee(-203,!1);return ca===null?pA(t,void 0,e):ca.get(t,e&me.Optional?null:void 0,e)}function L(t,e=me.Default){return(fA()||JL)(Kt(t),e)}function B(t,e=me.Default){return L(t,Yf(e))}function Yf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $v(t){let e=[];for(let n=0;n<t.length;n++){let r=Kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){let a=r[o],u=XL(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function mA(t,e){return t[Bv]=e,t.prototype[Bv]=e,t}function XL(t){return t[Bv]}function e2(t,e,n,r){let i=t[_f];throw e[CS]&&i.unshift(e[CS]),t.message=t2(`
`+t.message,i,n,r),t[KL]=i,t[_f]=null,t}function t2(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YL?t.slice(2):t;let i=Qt(e);if(Array.isArray(e))i=e.map(Qt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Qt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QL,`
  `)}`}var Vi=mA(aA("Optional"),8);var Zf=mA(aA("SkipSelf"),4);function Hs(t,e){let n=t.hasOwnProperty(wf);return n?t[wf]:null}function Vw(t,e){t.forEach(n=>Array.isArray(n)?Vw(n,e):e(n))}function gA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ef(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function n2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Lw(t,e,n){let r=Qc(t,e);return r>=0?t[r|1]=n:(r=~r,n2(t,r,e,n)),r}function bv(t,e){let n=Qc(t,e);if(n>=0)return t[n|1]}function Qc(t,e){return r2(t,e,1)}function r2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var da={},an=[],ha=new G(""),yA=new G("",-1),vA=new G(""),If=class{get(e,n=Vc){if(n===Vc){let r=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw r.name="NullInjectorError",r}return n}},wA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wA||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{}),Ni=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ni||{});function i2(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Hv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];s2(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _A(t){return t===3||t===4||t===6}function s2(t){return t.charCodeAt(0)===64}function Lc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?TS(t,n,i,null,e[++r]):TS(t,n,i,null,null))}}return t}function TS(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var EA="ng-template";function o2(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&i2(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jw(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function jw(t){return t.type===4&&t.value!==EA}function a2(t,e,n){let r=t.type===4&&!n?EA:t.value;return e===r}function u2(t,e,n){let r=4,i=t.attrs,s=i!==null?d2(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!zn(r)&&!zn(u))return!1;if(o&&zn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!a2(t,u,n)||u===""&&e.length===1){if(zn(r))return!1;o=!0}}else if(r&8){if(i===null||!o2(t,i,u,n)){if(zn(r))return!1;o=!0}}else{let l=e[++a],d=c2(u,i,jw(t),n);if(d===-1){if(zn(r))return!1;o=!0;continue}if(l!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(zn(r))return!1;o=!0}}}}return zn(r)||o}function zn(t){return(t&1)===0}function c2(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return h2(e,t)}function l2(t,e,n=!1){for(let r=0;r<e.length;r++)if(u2(t,e[r],n))return!0;return!1}function d2(t){for(let e=0;e<t.length;e++){let n=t[e];if(_A(n))return e}return t.length}function h2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function SS(t,e){return t?":not("+e.trim()+")":e}function f2(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!zn(o)&&(e+=SS(s,i),i=""),r=o,s=s||!zn(r);n++}return i!==""&&(e+=SS(s,i)),e}function p2(t){return t.map(f2).join(",")}function m2(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!zn(i))break;i=s}r++}return{attrs:e,classes:n}}function Yc(t){return Kc(()=>{let e=TA(t),n=z(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});SA(n);let r=t.dependencies;return n.directiveDefs=xS(r,!1),n.pipeDefs=xS(r,!0),n.id=v2(n),n})}function g2(t){return Ri(t)||IA(t)}function y2(t){return t!==null}function Dt(t){return Kc(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AS(t,e){if(t==null)return da;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ni.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ni.None?[r,a]:r,e[s]=o):n[s]=r}return n}function jt(t){return Kc(()=>{let e=TA(t);return SA(e),e})}function Uw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ri(t){return t[BL]||null}function IA(t){return t[$L]||null}function DA(t){return t[HL]||null}function bA(t){let e=Ri(t)||IA(t)||DA(t);return e!==null?e.standalone:!1}function CA(t,e){let n=t[zL]||null;if(!n&&e===!0)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return n}function TA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||da,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AS(t.inputs,e),outputs:AS(t.outputs),debugInfo:null}}function SA(t){t.features?.forEach(e=>e(t))}function xS(t,e){if(!t)return null;let n=e?DA:g2;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(y2)}function v2(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function w2(...t){return{\u0275providers:AA(!0,t),\u0275fromNgModule:!0}}function AA(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Vw(e,o=>{let a=o;zv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xA(i,s),n}function xA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Bw(i,s=>{e(s,r)})}}function zv(t,e,n,r){if(t=Kt(t),!t)return!1;let i=null,s=IS(t),o=!s&&Ri(t);if(!s&&!o){let u=t.ngModule;if(s=IS(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)zv(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Vw(s.imports,d=>{zv(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&xA(l,e)}if(!a){let l=Hs(i)||(()=>new i);e({provide:i,useFactory:l,deps:an},i),e({provide:vA,useValue:i,multi:!0},i),e({provide:ha,useValue:()=>L(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Bw(u,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Bw(t,e){for(let n of t)hA(n)&&(n=n.\u0275providers),Array.isArray(n)?Bw(n,e):e(n)}var _2=Pe({provide:String,useValue:Pe});function MA(t){return t!==null&&typeof t=="object"&&_2 in t}function E2(t){return!!(t&&t.useExisting)}function I2(t){return!!(t&&t.useFactory)}function fa(t){return typeof t=="function"}function D2(t){return!!t.useClass}var Jf=new G(""),mf={},b2={},Cv;function $w(){return Cv===void 0&&(Cv=new If),Cv}var pn=class{},jc=class extends pn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gv(e,o=>this.processProvider(o)),this.records.set(yA,oa(void 0,this)),i.has("environment")&&this.records.set(pn,oa(void 0,this));let s=this.records.get(Jf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vA,an,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ai(this),r=on(void 0),i;try{return e()}finally{Ai(n),on(r)}}get(e,n=Vc,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bS))return e[bS](this);r=Yf(r);let i,s=Ai(this),o=on(void 0);try{if(!(r&me.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=x2(e)&&Kf(e);l&&this.injectableDefInScope(l)?u=oa(qv(e),mf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&me.Self?$w():this.parent;return n=r&me.Optional&&n===Vc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_f]=a[_f]||[]).unshift(Qt(e)),s)throw a;return e2(a,e,"R3InjectorError",this.source)}else throw a}finally{on(o),Ai(s)}}resolveInjectorInitializers(){let e=ve(null),n=Ai(this),r=on(void 0),i;try{let s=this.get(ha,an,me.Self);for(let o of s)o()}finally{Ai(n),on(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=Kt(e);let n=fa(e)?e:Kt(e&&e.provide),r=T2(e);if(!fa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=oa(void 0,mf,!0),i.factory=()=>$v(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===mf&&(n.value=b2,n.value=n.factory()),typeof n.value=="object"&&n.value&&A2(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qv(t){let e=Kf(t),n=e!==null?e.factory:Hs(t);if(n!==null)return n;if(t instanceof G)throw new ee(204,!1);if(t instanceof Function)return C2(t);throw new ee(204,!1)}function C2(t){if(t.length>0)throw new ee(204,!1);let n=jL(t);return n!==null?()=>n.factory(t):()=>new t}function T2(t){if(MA(t))return oa(void 0,t.useValue);{let e=NA(t);return oa(e,mf)}}function NA(t,e,n){let r;if(fa(t)){let i=Kt(t);return Hs(i)||qv(i)}else if(MA(t))r=()=>Kt(t.useValue);else if(I2(t))r=()=>t.useFactory(...$v(t.deps||[]));else if(E2(t))r=()=>L(Kt(t.useExisting));else{let i=Kt(t&&(t.useClass||t.provide));if(S2(t))r=()=>new i(...$v(t.deps));else return Hs(i)||qv(i)}return r}function oa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function S2(t){return!!t.deps}function A2(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function x2(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Gv(t,e){for(let n of t)Array.isArray(n)?Gv(n,e):n&&hA(n)?Gv(n.\u0275providers,e):e(n)}function Qn(t,e){t instanceof jc&&t.assertNotDestroyed();let n,r=Ai(t),i=on(void 0);try{return e()}finally{Ai(r),on(i)}}function RA(){return fA()!==void 0||ZL()!=null}function M2(t){if(!RA())throw new ee(-203,!1)}function N2(t){let e=Wt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function R2(t){return typeof t=="function"}var Qr=0,le=1,oe=2,Zt=3,Gn=4,Yn=5,Uc=6,Df=7,Vt=8,pa=9,yr=10,ot=11,Bc=12,MS=13,ba=14,Wn=15,ma=16,aa=17,ga=18,Xf=19,kA=20,xi=21,Tv=22,Mn=23,Lt=25,OA=1;var zs=7,bf=8,Cf=9,Yt=10,Tf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tf||{});function Mi(t){return Array.isArray(t)&&typeof t[OA]=="object"}function Yr(t){return Array.isArray(t)&&t[OA]===!0}function Hw(t){return(t.flags&4)!==0}function ep(t){return t.componentOffset>-1}function tp(t){return(t.flags&1)===1}function ki(t){return!!t.template}function Wv(t){return(t[oe]&512)!==0}var Kv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function PA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Li(){return FA}function FA(t){return t.type.prototype.ngOnChanges&&(t.setInput=O2),k2}Li.ngInherit=!0;function k2(){let t=LA(this),e=t?.current;if(e){let n=t.previous;if(n===da)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function O2(t,e,n,r,i){let s=this.declaredInputs[r],o=LA(t)||P2(t,{previous:da,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Kv(l&&l.currentValue,n,u===da),PA(t,e,i,n)}var VA="__ngSimpleChanges__";function LA(t){return t[VA]||null}function P2(t,e){return t[VA]=e}var NS=null;var pr=function(t,e,n){NS?.(t,e,n)},F2="svg",V2="math";function vr(t){for(;Array.isArray(t);)t=t[Qr];return t}function jA(t,e){return vr(e[t])}function Nn(t,e){return vr(e[t.index])}function zw(t,e){return t.data[e]}function qw(t,e){return t[e]}function ji(t,e){let n=e[t];return Mi(n)?n:n[Qr]}function Gw(t){return(t[oe]&128)===128}function L2(t){return Yr(t[Zt])}function Oi(t,e){return e==null?null:t[e]}function UA(t){t[aa]=0}function BA(t){t[oe]&1024||(t[oe]|=1024,Gw(t)&&np(t))}function j2(t,e){for(;t>0;)e=e[ba],t--;return e}function $c(t){return!!(t[oe]&9216||t[Mn]?.dirty)}function Qv(t){t[yr].changeDetectionScheduler?.notify(7),t[oe]&64&&(t[oe]|=1024),$c(t)&&np(t)}function np(t){t[yr].changeDetectionScheduler?.notify(0);let e=qs(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!Gw(e)));)e=qs(e)}function $A(t,e){if((t[oe]&256)===256)throw new ee(911,!1);t[xi]===null&&(t[xi]=[]),t[xi].push(e)}function U2(t,e){if(t[xi]===null)return;let n=t[xi].indexOf(e);n!==-1&&t[xi].splice(n,1)}function qs(t){let e=t[Zt];return Yr(e)?e[Zt]:e}var ye={lFrame:JA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HA=!1;function B2(){return ye.lFrame.elementDepthCount}function $2(){ye.lFrame.elementDepthCount++}function H2(){ye.lFrame.elementDepthCount--}function zA(){return ye.bindingsEnabled}function z2(){return ye.skipHydrationRootTNode!==null}function q2(t){return ye.skipHydrationRootTNode===t}function G2(){ye.skipHydrationRootTNode=null}function Ee(){return ye.lFrame.lView}function bt(){return ye.lFrame.tView}function mX(t){return ye.lFrame.contextLView=t,t[Vt]}function gX(t){return ye.lFrame.contextLView=null,t}function Ut(){let t=qA();for(;t!==null&&t.type===64;)t=t.parent;return t}function qA(){return ye.lFrame.currentTNode}function W2(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ys(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function Ww(){return ye.lFrame.isParent}function GA(){ye.lFrame.isParent=!1}function K2(){return ye.lFrame.contextLView}function WA(){return HA}function RS(t){HA=t}function Kw(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Q2(t){return ye.lFrame.bindingIndex=t}function Ca(){return ye.lFrame.bindingIndex++}function KA(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Y2(){return ye.lFrame.inI18n}function Z2(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yv(e)}function J2(){return ye.lFrame.currentDirectiveIndex}function Yv(t){ye.lFrame.currentDirectiveIndex=t}function X2(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function QA(t){ye.lFrame.currentQueryIndex=t}function ej(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Yn]:null}function YA(t,e,n){if(n&me.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&me.Host);)if(i=ej(s),i===null||(s=s[ba],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ye.lFrame=ZA();return r.currentTNode=e,r.lView=t,!0}function Qw(t){let e=ZA(),n=t[le];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZA(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?JA(t):e}function JA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XA(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ex=XA;function Yw(){let t=XA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tj(t){return(ye.lFrame.contextLView=j2(t,ye.lFrame.contextLView))[Vt]}function Ui(){return ye.lFrame.selectedIndex}function Gs(t){ye.lFrame.selectedIndex=t}function Zw(){let t=ye.lFrame;return zw(t.tView,t.selectedIndex)}function nj(){return ye.lFrame.currentNamespace}var tx=!0;function rp(){return tx}function ip(t){tx=t}function rj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=FA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function sp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function gf(t,e,n){nx(t,e,3,n)}function yf(t,e,n,r){(t[oe]&3)===n&&nx(t,e,n,r)}function Sv(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function nx(t,e,n,r){let i=r!==void 0?t[aa]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[aa]+=65536),(a<s||s==-1)&&(ij(t,n,e,u),t[aa]=(t[aa]&4294901760)+u+2),u++}function kS(t,e){pr(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),pr(5,t,e)}}function ij(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[oe]>>14<t[aa]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,kS(a,s)):kS(a,s)}var la=-1,Ws=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sj(t){return t instanceof Ws}function oj(t){return(t.flags&8)!==0}function aj(t){return(t.flags&16)!==0}var Av={},Zv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yf(r);let i=this.injector.get(e,Av,r);return i!==Av||n===Av?i:this.parentInjector.get(e,n,r)}};function rx(t){return t!==la}function Sf(t){return t&32767}function uj(t){return t>>16}function Af(t,e){let n=uj(t),r=e;for(;n>0;)r=r[ba],n--;return r}var Jv=!0;function xf(t){let e=Jv;return Jv=t,e}var cj=256,ix=cj-1,sx=5,lj=0,mr={};function dj(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pc)&&(r=n[Pc]),r==null&&(r=n[Pc]=lj++);let i=r&ix,s=1<<i;e.data[t+(i>>sx)]|=s}function Mf(t,e){let n=ox(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,xv(r.data,t),xv(e,null),xv(r.blueprint,null));let i=Jw(t,e),s=t.injectorIndex;if(rx(i)){let o=Sf(i),a=Af(i,e),u=a[le].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function xv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ox(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dx(i),r===null)return la;if(n++,i=i[ba],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return la}function Xv(t,e,n){dj(t,e,n)}function hj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(_A(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ax(t,e,n){if(n&me.Optional||t!==void 0)return t;Fw(e,"NodeInjector")}function ux(t,e,n,r){if(n&me.Optional&&r===void 0&&(r=null),!(n&(me.Self|me.Host))){let i=t[pa],s=on(void 0);try{return i?i.get(e,r,n&me.Optional):pA(e,r,n&me.Optional)}finally{on(s)}}return ax(r,e,n)}function cx(t,e,n,r=me.Default,i){if(t!==null){if(e[oe]&2048&&!(r&me.Self)){let o=yj(t,e,n,r,mr);if(o!==mr)return o}let s=lx(t,e,n,r,mr);if(s!==mr)return s}return ux(e,n,r,i)}function lx(t,e,n,r,i){let s=mj(n);if(typeof s=="function"){if(!YA(e,t,r))return r&me.Host?ax(i,n,r):ux(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&me.Optional))Fw(n);else return o}finally{ex()}}else if(typeof s=="number"){let o=null,a=ox(t,e),u=la,l=r&me.Host?e[Wn][Yn]:null;for((a===-1||r&me.SkipSelf)&&(u=a===-1?Jw(t,e):e[a+8],u===la||!PS(r,!1)?a=-1:(o=e[le],a=Sf(u),e=Af(u,e)));a!==-1;){let d=e[le];if(OS(s,a,d.data)){let f=fj(a,e,n,o,r,l);if(f!==mr)return f}u=e[a+8],u!==la&&PS(r,e[le].data[a+8]===l)&&OS(s,a,e)?(o=d,a=Sf(u),e=Af(u,e)):a=-1}}return i}function fj(t,e,n,r,i,s){let o=e[le],a=o.data[t+8],u=r==null?ep(a)&&Jv:r!=o&&(a.type&3)!==0,l=i&me.Host&&s===a,d=pj(a,o,n,u,l);return d!==null?ya(e,o,d,a):mr}function pj(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:l;for(let g=f;g<m;g++){let w=o[g];if(g<u&&n===w||g>=u&&w.type===n)return g}if(i){let g=o[u];if(g&&ki(g)&&g.type===n)return u}return null}function ya(t,e,n,r){let i=t[n],s=e.data;if(sj(i)){let o=i;o.resolving&&GL(qL(s[n]));let a=xf(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?on(o.injectImpl):null,d=YA(t,r,me.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rj(n,s[n],e)}finally{l!==null&&on(l),xf(a),o.resolving=!1,ex()}}return i}function mj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pc)?t[Pc]:void 0;return typeof e=="number"?e>=0?e&ix:gj:e}function OS(t,e,n){let r=1<<t;return!!(n[e+(t>>sx)]&r)}function PS(t,e){return!(t&me.Self)&&!(t&me.Host&&e)}var $s=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cx(this._tNode,this._lView,e,Yf(r),n)}};function gj(){return new $s(Ut(),Ee())}function Zs(t){return Kc(()=>{let e=t.prototype.constructor,n=e[wf]||ew(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[wf]||ew(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ew(t){return uA(t)?()=>{let e=ew(Kt(t));return e&&e()}:Hs(t)}function yj(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[oe]&2048&&!(o[oe]&512);){let a=lx(s,o,n,r|me.Self,mr);if(a!==mr)return a;let u=s.parent;if(!u){let l=o[kA];if(l){let d=l.get(n,mr,r);if(d!==mr)return d}u=dx(o),o=o[ba]}s=u}return i}function dx(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Yn]:null}function Xw(t){return hj(Ut(),t)}function FS(t,e=null,n=null,r){let i=hx(t,e,n,r);return i.resolveInjectorInitializers(),i}function hx(t,e=null,n=null,r,i=new Set){let s=[n||an,w2(t)];return r=r||(typeof t=="object"?void 0:Qt(t)),new jc(s,e||$w(),r||null,i)}var Bs=class Bs{static create(e,n){if(Array.isArray(e))return FS({name:""},n,e,"");{let r=e.name??"";return FS({name:r},e.parent,e.providers,r)}}};Bs.THROW_IF_NOT_FOUND=Vc,Bs.NULL=new If,Bs.\u0275prov=W({token:Bs,providedIn:"any",factory:()=>L(yA)}),Bs.__NG_ELEMENT_ID__=-1;var mn=Bs;var vj=new G("");vj.__NG_ELEMENT_ID__=t=>{let e=Ut();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(t&me.Optional)return null;throw new ee(204,!1)};var wj="ngOriginalError";function Mv(t){return t[wj]}var e_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_j,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),tw=class extends e_{constructor(e){super(),this._lView=e}onDestroy(e){return $A(this._lView,e),()=>U2(this._lView,e)}};function _j(){return new tw(Ee())}var Ta=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var nw=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,RA()&&(this.destroyRef=B(e_,{optional:!0})??void 0,this.pendingTasks=B(Ta,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},st=nw;function Nf(...t){}function fx(t){let e,n;function r(){t=Nf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function VS(t){return queueMicrotask(()=>t()),()=>{t=Nf}}var t_="isAngularZone",Rf=t_+"_ID",Ej=0,Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,bj(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(t_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ij,Nf,Nf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ij={};function n_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dj(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{fx(()=>{t.callbackScheduled=!1,rw(t),t.isCheckStableRunning=!0,n_(t),t.isCheckStableRunning=!1})}),rw(t))}function bj(t){let e=()=>{Dj(t)},n=Ej++;t._inner=t._inner.fork({name:"angular",properties:{[t_]:!0,[Rf]:n,[Rf+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Cj(u))return r.invokeTask(s,o,a,u);try{return LS(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jS(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return LS(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Tj(u)&&e(),jS(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,rw(t),n_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function rw(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function LS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jS(t){t._nesting--,n_(t)}var kf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Cj(t){return px(t,"__ignore_ng_zone__")}function Tj(t){return px(t,"__scheduler_tick__")}function px(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function Sj(t="zone.js",e){return t==="noop"?new kf:t==="zone.js"?new Ie(e):t}var Wr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mv(e);for(;n&&Mv(n);)n=Mv(n);return n||null}},Aj=new G("",{providedIn:"root",factory:()=>{let t=B(Ie),e=B(Wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function xj(){return op(Ut(),Ee())}function op(t,e){return new Zn(Nn(t,e))}var Zn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=xj;let t=e;return t})();function mx(t){return(t.flags&128)===128}var gx=new Map,Mj=0;function Nj(){return Mj++}function Rj(t){gx.set(t[Xf],t)}function kj(t){gx.delete(t[Xf])}var US="__ngContext__";function Pi(t,e){Mi(e)?(t[US]=e[Xf],Rj(e)):t[US]=e}function yx(t){return wx(t[Bc])}function vx(t){return wx(t[Gn])}function wx(t){for(;t!==null&&!Yr(t);)t=t[Gn];return t}var iw;function _x(t){iw=t}function Oj(){if(iw!==void 0)return iw;if(typeof document<"u")return document;throw new ee(210,!1)}var ap=new G("",{providedIn:"root",factory:()=>Pj}),Pj="ng",r_=new G(""),cn=new G("",{providedIn:"platform",factory:()=>"unknown"});var i_=new G("",{providedIn:"root",factory:()=>Oj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fj="h",Vj="b";var Lj=()=>null;function s_(t,e,n=!1){return Lj(t,e,n)}var Ex=!1,jj=new G("",{providedIn:"root",factory:()=>Ex});var lf;function Uj(){if(lf===void 0&&(lf=null,Wt.trustedTypes))try{lf=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}function BS(t){return Uj()?.createScriptURL(t)||t}var Of=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oA})`}};function Sa(t){return t instanceof Of?t.changingThisBreaksApplicationSecurity:t}function o_(t,e){let n=Bj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oA})`)}return n===e}function Bj(t){return t instanceof Of&&t.getTypeName()||null}var $j=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ix(t){return t=String(t),t.match($j)?t:"unsafe:"+t}var up=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(up||{});function Hj(t){let e=bx();return e?e.sanitize(up.URL,t)||"":o_(t,"URL")?Sa(t):Ix(Qf(t))}function zj(t){let e=bx();if(e)return BS(e.sanitize(up.RESOURCE_URL,t)||"");if(o_(t,"ResourceURL"))return BS(Sa(t));throw new ee(904,!1)}function qj(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?zj:Hj}function Dx(t,e,n){return qj(e,n)(t)}function bx(){let t=Ee();return t&&t[yr].sanitizer}var Gj=/^>|^->|<!--|-->|--!>|<!-$/g,Wj=/(<|>)/g,Kj="\u200B$1\u200B";function Qj(t){return t.replace(Gj,e=>e.replace(Wj,Kj))}function yX(t){return t.ownerDocument.defaultView}function vX(t){return t.ownerDocument}function Cx(t){return t instanceof Function?t():t}function Yj(t){return(t??B(mn)).get(cn)==="browser"}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wr||{}),Zj;function a_(t,e){return Zj(t,e)}function ua(t,e,n,r,i){if(r!=null){let s,o=!1;Yr(r)?s=r:Mi(r)&&(o=!0,r=r[Qr]);let a=vr(r);t===0&&n!==null?i==null?xx(e,n,a):Pf(e,n,a,i||null,!0):t===1&&n!==null?Pf(e,n,a,i||null,!0):t===2?fU(e,a,o):t===3&&e.destroyNode(a),s!=null&&mU(e,t,s,n,i)}}function Jj(t,e){return t.createText(e)}function Xj(t,e,n){t.setValue(e,n)}function eU(t,e){return t.createComment(Qj(e))}function Tx(t,e,n){return t.createElement(e,n)}function tU(t,e){Sx(t,e),e[Qr]=null,e[Yn]=null}function nU(t,e,n,r,i,s){r[Qr]=i,r[Yn]=e,dp(t,r,n,1,i,s)}function Sx(t,e){e[yr].changeDetectionScheduler?.notify(8),dp(t,e,e[ot],2,null,null)}function rU(t){let e=t[Bc];if(!e)return Nv(t[le],t);for(;e;){let n=null;if(Mi(e))n=e[Bc];else{let r=e[Yt];r&&(n=r)}if(!n){for(;e&&!e[Gn]&&e!==t;)Mi(e)&&Nv(e[le],e),e=e[Zt];e===null&&(e=t),Mi(e)&&Nv(e[le],e),n=e&&e[Gn]}e=n}}function iU(t,e,n,r){let i=Yt+r,s=n.length;r>0&&(n[i-1][Gn]=e),r<s-Yt?(e[Gn]=n[i],gA(n,Yt+r,e)):(n.push(e),e[Gn]=null),e[Zt]=n;let o=e[ma];o!==null&&n!==o&&Ax(o,e);let a=e[ga];a!==null&&a.insertView(t),Qv(e),e[oe]|=128}function Ax(t,e){let n=t[Cf],r=e[Zt];if(Mi(r))t[oe]|=Tf.HasTransplantedViews;else{let i=r[Zt][Wn];e[Wn]!==i&&(t[oe]|=Tf.HasTransplantedViews)}n===null?t[Cf]=[e]:n.push(e)}function u_(t,e){let n=t[Cf],r=n.indexOf(e);n.splice(r,1)}function Hc(t,e){if(t.length<=Yt)return;let n=Yt+e,r=t[n];if(r){let i=r[ma];i!==null&&i!==t&&u_(i,r),e>0&&(t[n-1][Gn]=r[Gn]);let s=Ef(t,Yt+e);tU(r[le],r);let o=s[ga];o!==null&&o.detachView(s[le]),r[Zt]=null,r[Gn]=null,r[oe]&=-129}return r}function cp(t,e){if(!(e[oe]&256)){let n=e[ot];n.destroyNode&&dp(t,e,n,3,null,null),rU(e)}}function Nv(t,e){if(e[oe]&256)return;let n=ve(null);try{e[oe]&=-129,e[oe]|=256,e[Mn]&&iv(e[Mn]),oU(t,e),sU(t,e),e[le].type===1&&e[ot].destroy();let r=e[ma];if(r!==null&&Yr(e[Zt])){r!==e[Zt]&&u_(r,e);let i=e[ga];i!==null&&i.detachView(t)}kj(e)}finally{ve(n)}}function sU(t,e){let n=t.cleanup,r=e[Df];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Df]=null);let i=e[xi];if(i!==null){e[xi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function oU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ws)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];pr(4,a,u);try{u.call(a)}finally{pr(5,a,u)}}else{pr(4,i,s);try{s.call(i)}finally{pr(5,i,s)}}}}}function aU(t,e,n){return uU(t,e.parent,n)}function uU(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Qr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===gr.None||s===gr.Emulated)return null}return Nn(r,n)}}function Pf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xx(t,e,n){t.appendChild(e,n)}function $S(t,e,n,r,i){r!==null?Pf(t,e,n,r,i):xx(t,e,n)}function Mx(t,e){return t.parentNode(e)}function cU(t,e){return t.nextSibling(e)}function lU(t,e,n){return hU(t,e,n)}function dU(t,e,n){return t.type&40?Nn(t,n):null}var hU=dU,HS;function lp(t,e,n,r){let i=aU(t,r,e),s=e[ot],o=r.parent||e[Yn],a=lU(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$S(s,i,n[u],a,!1);else $S(s,i,n,a,!1);HS!==void 0&&HS(s,r,e,n,i)}function Oc(t,e){if(e!==null){let n=e.type;if(n&3)return Nn(e,t);if(n&4)return sw(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oc(t,r);{let i=t[e.index];return Yr(i)?sw(-1,i):vr(i)}}else{if(n&128)return Oc(t,e.next);if(n&32)return a_(e,t)()||vr(t[e.index]);{let r=Nx(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qs(t[Wn]);return Oc(i,r)}else return Oc(t,e.next)}}}return null}function Nx(t,e){if(e!==null){let r=t[Wn][Yn],i=e.projection;return r.projection[i]}return null}function sw(t,e){let n=Yt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Oc(r,i)}return e[zs]}function fU(t,e,n){t.removeChild(null,e,n)}function c_(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Pi(vr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)c_(t,e,n.child,r,i,s,!1),ua(e,t,i,a,s);else if(u&32){let l=a_(n,r),d;for(;d=l();)ua(e,t,i,d,s);ua(e,t,i,a,s)}else u&16?pU(t,e,r,n,i,s):ua(e,t,i,a,s);n=o?n.projectionNext:n.next}}function dp(t,e,n,r,i,s){c_(n,r,t.firstChild,e,i,s,!1)}function pU(t,e,n,r,i,s){let o=n[Wn],u=o[Yn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let d=u[l];ua(e,t,i,d,s)}else{let l=u,d=o[Zt];mx(r)&&(l.flags|=128),c_(t,e,l,d,i,s,!0)}}function mU(t,e,n,r,i){let s=n[zs],o=vr(n);s!==o&&ua(e,t,r,s,i);for(let a=Yt;a<n.length;a++){let u=n[a];dp(u[le],u,t,e,r,s)}}function gU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:wr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wr.Important),t.setStyle(n,r,i,s))}}function yU(t,e,n){t.setAttribute(e,"style",n)}function Rx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kx(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Hv(t,e,r),i!==null&&Rx(t,e,i),s!==null&&yU(t,e,s)}var _r={};function Er(t=1){Ox(bt(),Ee(),Ui()+t,!1)}function Ox(t,e,n,r){if(!r)if((e[oe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&gf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&yf(e,s,0,n)}Gs(n)}function de(t,e=me.Default){let n=Ee();if(n===null)return L(t,e);let r=Ut();return cx(r,n,Kt(t),e)}function Px(){let t="invalid";throw new Error(t)}function Fx(t,e,n,r,i,s){let o=ve(null);try{let a=null;i&Ni.SignalBased&&(a=e[r][zr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ni.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):PA(e,a,r,s)}finally{ve(o)}}function vU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gs(~i);else{let s=i,o=n[++r],a=n[++r];Z2(o,s);let u=e[s];a(2,u)}}}finally{Gs(-1)}}function hp(t,e,n,r,i,s,o,a,u,l,d){let f=e.blueprint.slice();return f[Qr]=i,f[oe]=r|4|128|8|64,(l!==null||t&&t[oe]&2048)&&(f[oe]|=2048),UA(f),f[Zt]=f[ba]=t,f[Vt]=n,f[yr]=o||t&&t[yr],f[ot]=a||t&&t[ot],f[pa]=u||t&&t[pa]||null,f[Yn]=s,f[Xf]=Nj(),f[Uc]=d,f[kA]=l,f[Wn]=e.type==2?t[Wn]:f,f}function Zc(t,e,n,r,i){let s=t.data[e];if(s===null)s=wU(t,e,n,r,i),Y2()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=W2();s.injectorIndex=o===null?-1:o.injectorIndex}return Ys(s,!0),s}function wU(t,e,n,r,i){let s=qA(),o=Ww(),a=o?s:s&&s.parent,u=t.data[e]=bU(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Vx(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lx(t,e,n,r,i){let s=Ui(),o=r&2;try{Gs(-1),o&&e.length>Lt&&Ox(t,e,Lt,!1),pr(o?2:0,i),n(r,i)}finally{Gs(s),pr(o?3:1,i)}}function l_(t,e,n){if(Hw(e)){let r=ve(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ve(r)}}}function d_(t,e,n){zA()&&(MU(t,e,n,Nn(n,e)),(n.flags&64)===64&&$x(t,e,n))}function h_(t,e,n=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function jx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=f_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function f_(t,e,n,r,i,s,o,a,u,l,d){let f=Lt+r,m=f+i,g=_U(f,m),w=typeof l=="function"?l():l;return g[le]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:d}}function _U(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_r);return n}function EU(t,e,n,r){let s=r.get(jj,Ex)||n===gr.ShadowDom,o=t.selectRootElement(e,s);return IU(o),o}function IU(t){DU(t)}var DU=()=>null;function bU(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return z2()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zS(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ni.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?qS(r,n,l,a,u):qS(r,n,l,a)}return r}function qS(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CU(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let d=r;d<i;d++){let f=s[d],m=n?n.get(f):null,g=m?m.inputs:null,w=m?m.outputs:null;u=zS(0,f.inputs,d,u,g),l=zS(1,f.outputs,d,l,w);let C=u!==null&&o!==null&&!jw(e)?BU(u,d,o):null;a.push(C)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function TU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ux(t,e,n,r,i,s,o,a){let u=Nn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(m_(t,n,d,r,i),ep(e)&&SU(n,e.index)):e.type&3?(r=TU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function SU(t,e){let n=ji(e,t);n[oe]&16||(n[oe]|=64)}function p_(t,e,n,r){if(zA()){let i=r===null?null:{"":-1},s=RU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Bx(t,e,n,o,i,a),i&&kU(n,r,i)}n.mergedAttrs=Lc(n.mergedAttrs,n.attrs)}function Bx(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Xv(Mf(n,e),t,r[l].type);PU(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,u=Vx(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=Lc(n.mergedAttrs,d.hostAttrs),FU(t,n,e,u,d),OU(u,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}CU(t,n,s)}function AU(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;xU(o)!=a&&o.push(a),o.push(n,r,s)}}function xU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MU(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ep(n)&&VU(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Mf(n,e),Pi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ya(e,t,a,n);if(Pi(l,e),o!==null&&UU(e,a-i,l,u,n,o),ki(u)){let d=ji(n.index,e);d[Vt]=ya(e,t,a,n)}}}function $x(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=J2();try{Gs(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Yv(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&NU(u,l)}}finally{Gs(-1),Yv(o)}}function NU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RU(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(l2(e,o.selectors,!1))if(r||(r=[]),ki(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;ow(t,e,u)}else r.unshift(o),ow(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ow(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kU(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}}function OU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ki(e)&&(n[""]=t)}}function PU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FU(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Hs(i.type,!0)),o=new Ws(s,ki(i),de);t.blueprint[r]=o,n[r]=o,AU(t,e,r,Vx(t,n,i.hostVars,_r),i)}function VU(t,e,n){let r=Nn(e,t),i=jx(n),s=t[yr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=fp(t,hp(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function LU(t,e,n,r,i,s){let o=Nn(t,e);jU(e[ot],o,s,t.value,n,r,i)}function jU(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Qf(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function UU(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],d=o[a++],f=o[a++];Fx(r,n,u,l,d,f)}}function BU(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Hx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zx(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];QA(s),a.contentQueries(2,e[o],o)}}}finally{ve(r)}}}function fp(t,e){return t[Bc]?t[MS][Gn]=e:t[Bc]=e,t[MS]=e,e}function aw(t,e,n){QA(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function $U(t){return t[Df]??=[]}function HU(t){return t.cleanup??=[]}function qx(t,e){let n=t[pa],r=n?n.get(Wr,null):null;r&&r.handleError(e)}function m_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],d=t.data[o];Fx(d,l,r,a,u,i)}}function zU(t,e,n){let r=jA(e,t);Xj(t[ot],r,n)}function qU(t,e){let n=ji(e,t),r=n[le];GU(r,n);let i=n[Qr];i!==null&&n[Uc]===null&&(n[Uc]=s_(i,n[pa])),g_(r,n,n[Vt])}function GU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function g_(t,e,n){Qw(e);try{let r=t.viewQuery;r!==null&&aw(1,r,n);let i=t.template;i!==null&&Lx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ga]?.finishViewCreation(t),t.staticContentQueries&&zx(t,e),t.staticViewQueries&&aw(2,t.viewQuery,n);let s=t.components;s!==null&&WU(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,Yw()}}function WU(t,e){for(let n=0;n<e.length;n++)qU(t,e[n])}function pp(t,e,n,r){let i=ve(null);try{let s=e.tView,a=t[oe]&4096?4096:16,u=hp(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ma]=l;let d=t[ga];return d!==null&&(u[ga]=d.createEmbeddedView(s)),g_(s,u,n),u}finally{ve(i)}}function Gx(t,e){let n=Yt+e;if(n<t.length)return t[n]}function zc(t,e){return!e||e.firstChild===null||mx(t)}function mp(t,e,n,r=!0){let i=e[le];if(iU(i,e,t,n),r){let o=sw(n,t),a=e[ot],u=Mx(a,t[zs]);u!==null&&nU(i,t[Yn],a,e,u,o)}let s=e[Uc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Wx(t,e){let n=Hc(t,e);return n!==void 0&&cp(n[le],n),n}function Ff(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(vr(s)),Yr(s)&&KU(s,r);let o=n.type;if(o&8)Ff(t,e,n.child,r);else if(o&32){let a=a_(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=Nx(e,n);if(Array.isArray(a))r.push(...a);else{let u=qs(e[Wn]);Ff(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KU(t,e){for(let n=Yt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&Ff(r[le],r,i,e)}t[zs]!==t[Qr]&&e.push(t[zs])}var Kx=[];function QU(t){return t[Mn]??YU(t)}function YU(t){let e=Kx.pop()??Object.create(JU);return e.lView=t,e}function ZU(t){t.lView[Mn]!==t&&(t.lView=null,Kx.push(t))}var JU=z(I({},Tc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{np(t.lView)},consumerOnSignalRead(){this.lView[Mn]=this}});function XU(t){let e=t[Mn]??Object.create(eB);return e.lView=t,e}var eB=z(I({},Tc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qs(t.lView);for(;e&&!Qx(e[le]);)e=qs(e);e&&BA(e)},consumerOnSignalRead(){this.lView[Mn]=this}});function Qx(t){return t.type!==2}var tB=100;function Yx(t,e=!0,n=0){let r=t[yr],i=r.rendererFactory,s=!1;s||i.begin?.();try{nB(t,n)}catch(o){throw e&&qx(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function nB(t,e){let n=WA();try{RS(!0),uw(t,e);let r=0;for(;$c(t);){if(r===tB)throw new ee(103,!1);r++,uw(t,1)}}finally{RS(n)}}function rB(t,e,n,r){let i=e[oe];if((i&256)===256)return;let s=!1,o=!1;!s&&e[yr].inlineEffectRunner?.flush(),Qw(e);let a=!0,u=null,l=null;s||(Qx(t)?(l=QU(e),u=Nh(l)):UT()===null?(a=!1,l=XU(e),u=Nh(l)):e[Mn]&&(iv(e[Mn]),e[Mn]=null));try{UA(e),Q2(t.bindingStartIndex),n!==null&&Lx(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&gf(e,g,null)}else{let g=t.preOrderHooks;g!==null&&yf(e,g,0,null),Sv(e,0)}if(o||iB(e),Zx(e,0),t.contentQueries!==null&&zx(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&gf(e,g)}else{let g=t.contentHooks;g!==null&&yf(e,g,1),Sv(e,1)}vU(t,e);let f=t.components;f!==null&&Xx(e,f,0);let m=t.viewQuery;if(m!==null&&aw(2,m,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&gf(e,g)}else{let g=t.viewHooks;g!==null&&yf(e,g,2),Sv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tv]){for(let g of e[Tv])g();e[Tv]=null}s||(e[oe]&=-73)}catch(d){throw s||np(e),d}finally{l!==null&&(nv(l,u),a&&ZU(l)),Yw()}}function Zx(t,e){for(let n=yx(t);n!==null;n=vx(n))for(let r=Yt;r<n.length;r++){let i=n[r];Jx(i,e)}}function iB(t){for(let e=yx(t);e!==null;e=vx(e)){if(!(e[oe]&Tf.HasTransplantedViews))continue;let n=e[Cf];for(let r=0;r<n.length;r++){let i=n[r];BA(i)}}}function sB(t,e,n){let r=ji(e,t);Jx(r,n)}function Jx(t,e){Gw(t)&&uw(t,e)}function uw(t,e){let r=t[le],i=t[oe],s=t[Mn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rv(s)),o||=!1,s&&(s.dirty=!1),t[oe]&=-9217,o)rB(r,t,r.template,t[Vt]);else if(i&8192){Zx(t,1);let a=r.components;a!==null&&Xx(t,a,1)}}function Xx(t,e,n){for(let r=0;r<e.length;r++)sB(t,e[r],n)}function y_(t,e){let n=WA()?64:1088;for(t[yr].changeDetectionScheduler?.notify(e);t;){t[oe]|=n;let r=qs(t);if(Wv(t)&&!r)return t;t=r}return null}var Ks=class{get rootNodes(){let e=this._lView,n=e[le];return Ff(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vt]}set context(e){this._lView[Vt]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Zt];if(Yr(e)){let n=e[bf],r=n?n.indexOf(this):-1;r>-1&&(Hc(e,r),Ef(n,r))}this._attachedToViewContainer=!1}cp(this._lView[le],this._lView)}onDestroy(e){$A(this._lView,e)}markForCheck(){y_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Qv(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,Yx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wv(this._lView),n=this._lView[ma];n!==null&&!e&&u_(n,this._lView),Sx(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let n=Wv(this._lView),r=this._lView[ma];r!==null&&!n&&Ax(r,this._lView),Qv(this._lView)}},gp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uB;let t=e;return t})(),oB=gp,aB=class extends oB{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ks(i)}};function uB(){return eM(Ut(),Ee())}function eM(t,e){return t.type&4?new aB(e,t,op(t,e)):null}var _X=new RegExp(`^(\\d+)*(${Vj}|${Fj})*(.*)`);var cB=()=>null;function qc(t,e){return cB(t,e)}var va=class{},tM=new G("",{providedIn:"root",factory:()=>!1});var nM=new G(""),cw=class{},Vf=class{};function lB(t){let e=Error(`No component factory found for ${Qt(t)}.`);return e[dB]=t,e}var dB="ngComponent";var lw=class{resolveComponentFactory(e){throw lB(e)}},R_=class R_{};R_.NULL=new lw;var wa=R_,_a=class{},Ir=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>hB();let t=e;return t})();function hB(){let t=Ee(),e=Ut(),n=ji(e.index,t);return(Mi(n)?n:t)[ot]}var fB=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var GS=new Set;function Js(t){GS.has(t)||(GS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var un=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(un||{}),pB={destroy(){}};function v_(t,e){!e&&M2(v_);let n=e?.injector??B(mn);return Yj(n)?(Js("NgAfterNextRender"),gB(t,n,!0,e?.phase??un.MixedReadWrite)):pB}function mB(t,e){if(t instanceof Function)switch(e){case un.EarlyRead:return{earlyRead:t};case un.Write:return{write:t};case un.MixedReadWrite:return{mixedReadWrite:t};case un.Read:return{read:t}}return t}function gB(t,e,n,r){let i=mB(t,r),s=e.get(w_),o=s.handler??=new hw,a=[],u=[],l=()=>{for(let g of u)o.unregister(g);d()},d=e.get(e_).onDestroy(l),f=0,m=(g,w)=>{if(!w)return;let C=n?(...O)=>(f--,f<1&&l(),w(...O)):w,T=Qn(e,()=>new dw(g,a,C));o.register(T),u.push(T),f++};return m(un.EarlyRead,i.earlyRead),m(un.Write,i.write),m(un.MixedReadWrite,i.mixedReadWrite),m(un.Read,i.read),{destroy:l}}var dw=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=B(Ie),this.errorHandler=B(Wr,{optional:!0}),B(va,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},hw=class{constructor(){this.executingCallbacks=!1,this.buckets={[un.EarlyRead]:new Set,[un.Write]:new Set,[un.MixedReadWrite]:new Set,[un.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},w_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Lf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jv(i,a);else if(s==2){let u=a,l=e[++o];r=jv(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var jf=class extends wa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ri(e);return new Ea(n,this.ngModule)}};function WS(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ni.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ni.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function yB(t){let e=t.toLowerCase();return e==="svg"?F2:e==="math"?V2:null}var Ea=class extends Vf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=WS(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return WS(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=p2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ve(null);try{i=i||this.ngModule;let o=i instanceof pn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Zv(e,o):e,u=a.get(_a,null);if(u===null)throw new ee(407,!1);let l=a.get(fB,null),d=a.get(w_,null),f=a.get(va,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},g=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=r?EU(g,r,this.componentDef.encapsulation,a):Tx(g,w,yB(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let O=null;C!==null&&(O=s_(C,a,!0));let j=f_(0,null,null,1,0,null,null,null,null,null,null),P=hp(null,j,null,T,null,null,m,g,a,null,O);Qw(P);let K,J;try{let ne=this.componentDef,D,v=null;ne.findHostDirectiveDefs?(D=[],v=new Map,ne.findHostDirectiveDefs(ne,D,v),D.push(ne)):D=[ne];let _=vB(P,C),b=wB(_,C,ne,D,P,m,g);J=zw(j,Lt),C&&IB(g,ne,C,r),n!==void 0&&DB(J,this.ngContentSelectors,n),K=EB(b,ne,D,v,P,[bB]),g_(j,P,null)}finally{Yw()}return new fw(this.componentType,K,op(J,P),P,J)}finally{ve(s)}}},fw=class extends cw{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ks(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;m_(s[le],s,i,e,n),this.previousInputValues.set(e,n);let o=ji(this._tNode.index,s);y_(o,1)}}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vB(t,e){let n=t[le],r=Lt;return t[r]=e,Zc(n,r,2,"#host",null)}function wB(t,e,n,r,i,s,o){let a=i[le];_B(r,t,e,o);let u=null;e!==null&&(u=s_(e,i[pa]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=hp(i,jx(n),null,d,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&ow(a,t,r.length-1),fp(i,f),i[t.index]=f}function _B(t,e,n,r){for(let i of t)e.mergedAttrs=Lc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lf(e,e.mergedAttrs,!0),n!==null&&kx(r,n,e))}function EB(t,e,n,r,i,s){let o=Ut(),a=i[le],u=Nn(o,i);Bx(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=ya(i,a,f,o);Pi(m,i)}$x(a,i,o),u&&Pi(u,i);let l=ya(i,a,o.directiveStart+o.componentOffset,o);if(t[Vt]=i[Vt]=l,s!==null)for(let d of s)d(l,e);return l_(a,o,i),l}function IB(t,e,n,r){if(r)Hv(t,n,["ng-version","18.2.0"]);else{let{attrs:i,classes:s}=m2(e.selectors[0]);i&&Hv(t,n,i),s&&s.length>0&&Rx(t,n,s.join(" "))}}function DB(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function bB(){let t=Ut();sp(Ee()[le],t)}var Aa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CB;let t=e;return t})();function CB(){let t=Ut();return SB(t,Ee())}var TB=Aa,rM=class extends TB{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return op(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jw(this._hostTNode,this._hostLView);if(rx(e)){let n=Af(e,this._hostLView),r=Sf(e),i=n[le].data[r+8];return new $s(i,n)}else return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=KS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=qc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,zc(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!R2(e),a;if(o)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let u=o?e:new Ea(Ri(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let C=(o?l:this.parentInjector).get(pn,null);C&&(s=C)}let d=Ri(u.componentType??{}),f=qc(this._lContainer,d?.id??null),m=f?.firstChild??null,g=u.create(l,i,m,s);return this.insertImpl(g.hostView,a,zc(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(L2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Zt],l=new rM(u,u[Yn],u[Zt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return mp(o,i,s,r),e.attachToViewContainerRef(),gA(Rv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=KS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hc(this._lContainer,n);r&&(Ef(Rv(this._lContainer),n),cp(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hc(this._lContainer,n);return r&&Ef(Rv(this._lContainer),n)!=null?new Ks(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KS(t){return t[bf]}function Rv(t){return t[bf]||(t[bf]=[])}function SB(t,e){let n,r=e[t.index];return Yr(r)?n=r:(n=Hx(r,e,null,t),e[t.index]=n,fp(e,n)),xB(n,e,t,r),new rM(n,t,e)}function AB(t,e){let n=t[ot],r=n.createComment(""),i=Nn(e,t),s=Mx(n,i);return Pf(n,s,r,cU(n,i),!1),r}var xB=RB,MB=()=>!1;function NB(t,e,n){return MB(t,e,n)}function RB(t,e,n,r){if(t[zs])return;let i;n.type&8?i=vr(r):i=AB(e,n),t[zs]=i}function kB(t){return typeof t=="function"&&t[zr]!==void 0}function yp(t,e){Js("NgSignals");let n=ZT(t),r=n[zr];return e?.equal&&(r.equal=e.equal),n.set=i=>sv(r,i),n.update=i=>JT(r,i),n.asReadonly=OB.bind(n),n}function OB(){let t=this[zr];if(t.readonlyFn===void 0){let e=()=>this();e[zr]=t,t.readonlyFn=e}return t.readonlyFn}function iM(t){return kB(t)&&typeof t.set=="function"}function PB(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(jB))}return s}return Uf.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,m)=>{a.push(""),o.push(r(f).then(g=>{a[l+m]=g,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>UB(s));e.push(u)}),VB(),Promise.all(e).then(()=>{})}var Uf=new Map,FB=new Set;function VB(){let t=Uf;return Uf=new Map,t}function LB(){return Uf.size===0}function jB(t){return typeof t=="string"?t:t.text()}function UB(t){FB.delete(t)}function BB(t){return Object.getPrototypeOf(t.prototype).constructor}function Bi(t){let e=BB(t.type),n=!0,r=[t];for(;e;){let i;if(ki(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=df(t.inputs),o.inputTransforms=df(t.inputTransforms),o.declaredInputs=df(t.declaredInputs),o.outputs=df(t.outputs);let a=i.hostBindings;a&&GB(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&zB(t,u),l&&qB(t,l),$B(t,i),VL(t.outputs,i.outputs),ki(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Bi&&(n=!1)}}e=Object.getPrototypeOf(e)}HB(r)}function $B(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function HB(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lc(i.hostAttrs,n=Lc(n,i.hostAttrs))}}function df(t){return t===da?{}:t===an?[]:t}function zB(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function qB(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function GB(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function __(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fi=class{},Gc=class{};var Bf=class extends Fi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jf(this);let s=CA(e);this._bootstrapComponents=Cx(s.bootstrap),this._r3Injector=hx(e,n,[{provide:Fi,useValue:this},{provide:wa,useValue:this.componentFactoryResolver},...r],Qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$f=class extends Gc{constructor(e){super(),this.moduleType=e}create(e){return new Bf(this.moduleType,e,[])}};function WB(t,e,n){return new Bf(t,e,n,!1)}var pw=class extends Fi{constructor(e){super(),this.componentFactoryResolver=new jf(this),this.instance=null;let n=new jc([...e.providers,{provide:Fi,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],e.parent||$w(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vp(t,e,n=null){return new pw({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function sM(t){return E_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function KB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function E_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oM(t,e,n){return t[e]=n}function Kn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QB(t,e,n,r){let i=Kn(t,e,n);return Kn(t,e+1,r)||i}function YB(t){return(t.flags&32)===32}function ZB(t,e,n,r,i,s,o,a,u){let l=e.consts,d=Zc(e,t,4,o||null,a||null);p_(e,n,d,Oi(l,u)),sp(e,d);let f=d.tView=f_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function mw(t,e,n,r,i,s,o,a,u,l){let d=n+Lt,f=e.firstCreatePass?ZB(d,e,t,r,i,s,o,a,u):e.data[d];Ys(f,!1);let m=XB(e,t,f,n);rp()&&lp(e,t,m,f),Pi(m,t);let g=Hx(m,t,m,f);return t[d]=g,fp(t,g),NB(g,f,t),tp(f)&&d_(e,t,f),u!=null&&h_(t,f,l),f}function JB(t,e,n,r,i,s,o,a){let u=Ee(),l=bt(),d=Oi(l.consts,s);return mw(u,l,t,e,n,r,i,d,o,a),JB}var XB=e$;function e$(t,e,n,r){return ip(!0),e[ot].createComment("")}function Jc(t,e,n,r){let i=Ee(),s=Ca();if(Kn(i,s,e)){let o=bt(),a=Zw();LU(a,i,t,e,n,r)}return Jc}function t$(t,e,n,r){return Kn(t,Ca(),n)?e+Qf(n)+r:_r}function hf(t,e){return t<<17|e<<2}function Qs(t){return t>>17&32767}function n$(t){return(t&2)==2}function r$(t,e){return t&131071|e<<17}function gw(t){return t|2}function Ia(t){return(t&131068)>>2}function kv(t,e){return t&-131069|e<<2}function i$(t){return(t&1)===1}function yw(t){return t|1}function s$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qs(o),u=Ia(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Qc(f,d)>0)&&(l=!0)}else d=n;if(i)if(u!==0){let m=Qs(t[a+1]);t[r+1]=hf(m,a),m!==0&&(t[m+1]=kv(t[m+1],r)),t[a+1]=r$(t[a+1],r)}else t[r+1]=hf(a,0),a!==0&&(t[a+1]=kv(t[a+1],r)),a=r;else t[r+1]=hf(u,0),a===0?a=r:t[u+1]=kv(t[u+1],r),u=r;l&&(t[r+1]=gw(t[r+1])),QS(t,d,r,!0),QS(t,d,r,!1),o$(e,d,t,r,s),o=hf(a,u),s?e.classBindings=o:e.styleBindings=o}function o$(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Qc(s,e)>=0&&(n[r+1]=yw(n[r+1]))}function QS(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qs(i):Ia(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];a$(u,e)&&(a=!0,t[o+1]=r?yw(l):gw(l)),o=r?Qs(l):Ia(l)}a&&(t[n+1]=r?gw(i):yw(i))}function a$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qc(t,e)>=0:!1}var qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u$(t){return t.substring(qn.key,qn.keyEnd)}function c$(t){return l$(t),aM(t,uM(t,0,qn.textEnd))}function aM(t,e){let n=qn.textEnd;return n===e?-1:(e=qn.keyEnd=d$(t,qn.key=e,n),uM(t,e,n))}function l$(t){qn.key=0,qn.keyEnd=0,qn.value=0,qn.valueEnd=0,qn.textEnd=t.length}function uM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function d$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Xc(t,e,n){let r=Ee(),i=Ca();if(Kn(r,i,e)){let s=bt(),o=Zw();Ux(s,o,r,t,e,r[ot],n,!1)}return Xc}function vw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";m_(t,n,s[o],o,r)}function cM(t,e,n){return lM(t,e,n,!1),cM}function wp(t,e){return lM(t,e,null,!0),wp}function IX(t){f$(w$,h$,t,!0)}function h$(t,e){for(let n=c$(e);n>=0;n=aM(e,n))Lw(t,u$(e),!0)}function lM(t,e,n,r){let i=Ee(),s=bt(),o=KA(2);if(s.firstUpdatePass&&hM(s,t,o,r),e!==_r&&Kn(i,o,e)){let a=s.data[Ui()];fM(s,a,i,i[ot],t,i[o+1]=E$(e,n),r,o)}}function f$(t,e,n,r){let i=bt(),s=KA(2);i.firstUpdatePass&&hM(i,null,s,r);let o=Ee();if(n!==_r&&Kn(o,s,n)){let a=i.data[Ui()];if(pM(a,r)&&!dM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=jv(u,n||"")),vw(i,a,o,n,r)}else _$(i,a,o,o[ot],o[s+1],o[s+1]=v$(t,e,n),r,s)}}function dM(t,e){return e>=t.expandoStartIndex}function hM(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ui()],o=dM(t,n);pM(s,r)&&e===null&&!o&&(e=!1),e=p$(i,s,e,r),s$(i,s,e,n,o,r)}}function p$(t,e,n,r){let i=X2(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ov(null,t,e,n,r),n=Wc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ov(i,t,e,n,r),s===null){let u=m$(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Ov(null,t,e,u[1],r),u=Wc(u,e.attrs,r),g$(t,e,r,u))}else s=y$(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function m$(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ia(r)!==0)return t[Qs(r)]}function g$(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qs(i)]=r}function y$(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Wc(r,o,n)}return Wc(r,e.attrs,n)}function Ov(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Wc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Lw(t,o,n?!0:e[++s]))}return t===void 0?null:t}function v$(t,e,n){if(n==null||n==="")return an;let r=[],i=Sa(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function w$(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Lw(t,r,n)}function _$(t,e,n,r,i,s,o,a){i===_r&&(i=an);let u=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=u<i.length?i[u+1]:void 0,g=l<s.length?s[l+1]:void 0,w=null,C;d===f?(u+=2,l+=2,m!==g&&(w=f,C=g)):f===null||d!==null&&d<f?(u+=2,w=d):(l+=2,w=f,C=g),w!==null&&fM(t,e,n,r,w,C,o,a),d=u<i.length?i[u]:null,f=l<s.length?s[l]:null}}function fM(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],d=i$(l)?YS(u,e,n,i,Ia(l),o):void 0;if(!Hf(d)){Hf(s)||n$(l)&&(s=YS(u,null,n,i,a,o));let f=jA(Ui(),n);gU(r,o,f,i,s)}}function YS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),d=l?u[1]:u,f=d===null,m=n[i+1];m===_r&&(m=f?an:void 0);let g=f?bv(m,r):d===r?m:void 0;if(l&&!Hf(g)&&(g=bv(u,r)),Hf(g)&&(a=g,o))return a;let w=t[i+1];i=o?Qs(w):Ia(w)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=bv(u,r))}return a}function Hf(t){return t!==void 0}function E$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qt(Sa(t)))),t}function pM(t,e){return(t.flags&(e?8:16))!==0}var ww=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Pv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function I$(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),d=e[s],f=Pv(s,l,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let m=t.at(o),g=e[u],w=Pv(o,m,u,g,n);if(w!==0){w<0&&t.updateValue(o,g),o--,u--;continue}let C=n(s,l),T=n(o,m),O=n(s,d);if(Object.is(O,T)){let j=n(u,g);Object.is(j,C)?(t.swap(s,o),t.updateValue(o,g),u--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new zf,i??=JS(t,s,o,n),_w(t,r,s,O))t.updateValue(s,d),s++,o++;else if(i.has(O))r.set(C,t.detach(s)),o--;else{let j=t.create(s,e[s]);t.attach(s,j),s++,o++}}for(;s<=u;)ZS(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let d=t.at(s),f=l.value,m=Pv(s,d,s,f,n);if(m!==0)m<0&&t.updateValue(s,f),s++,l=u.next();else{r??=new zf,i??=JS(t,s,o,n);let g=n(s,f);if(_w(t,r,s,g))t.updateValue(s,f),s++,o++,l=u.next();else if(!i.has(g))t.attach(s,t.create(s,f)),s++,o++,l=u.next();else{let w=n(s,d);r.set(w,t.detach(s)),o--}}}for(;!l.done;)ZS(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function _w(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ZS(t,e,n,r,i){if(_w(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function JS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var zf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function DX(t,e){Js("NgControlFlow");let n=Ee(),r=Ca(),i=n[r]!==_r?n[r]:-1,s=i!==-1?qf(n,Lt+i):void 0,o=0;if(Kn(n,r,t)){let a=ve(null);try{if(s!==void 0&&Wx(s,o),t!==-1){let u=Lt+t,l=qf(n,u),d=bw(n[le],u),f=qc(l,d.tView.ssrId),m=pp(n,d,e,{dehydratedView:f});mp(l,m,o,zc(d,f))}}finally{ve(a)}}else if(s!==void 0){let a=Gx(s,o);a!==void 0&&(a[Vt]=e)}}var Ew=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Yt}};var Iw=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function _p(t,e,n,r,i,s,o,a,u,l,d,f,m){Js("NgControlFlow");let g=Ee(),w=bt(),C=u!==void 0,T=Ee(),O=a?o.bind(T[Wn][Vt]):o,j=new Iw(C,O);T[Lt+t]=j,mw(g,w,t+1,e,n,r,i,Oi(w.consts,s)),C&&mw(g,w,t+2,u,l,d,f,Oi(w.consts,m))}var Dw=class extends ww{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Yt}at(e){return this.getLView(e)[Vt].$implicit}attach(e,n){let r=n[Uc];this.needsIndexUpdate||=e!==this.length,mp(this.lContainer,n,e,zc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,D$(this.lContainer,e)}create(e,n){let r=qc(this.lContainer,this.templateTNode.tView.ssrId),i=pp(this.hostLView,this.templateTNode,new Ew(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){cp(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Vt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Vt].$index=e}getLView(e){return b$(this.lContainer,e)}};function Ep(t){let e=ve(null),n=Ui();try{let r=Ee(),i=r[le],s=r[n],o=n+1,a=qf(r,o);if(s.liveCollection===void 0){let l=bw(i,o);s.liveCollection=new Dw(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(I$(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=Ca(),d=u.length===0;if(Kn(r,l,d)){let f=n+2,m=qf(r,f);if(d){let g=bw(i,f),w=qc(m,g.tView.ssrId),C=pp(r,g,void 0,{dehydratedView:w});mp(m,C,0,zc(g,w))}else Wx(m,0)}}}finally{ve(e)}}function qf(t,e){return t[e]}function D$(t,e){return Hc(t,e)}function b$(t,e){return Gx(t,e)}function bw(t,e){return zw(t,e)}function C$(t,e,n,r,i,s){let o=e.consts,a=Oi(o,i),u=Zc(e,t,2,r,a);return p_(e,n,u,Oi(o,s)),u.attrs!==null&&Lf(u,u.attrs,!1),u.mergedAttrs!==null&&Lf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Zr(t,e,n,r){let i=Ee(),s=bt(),o=Lt+t,a=i[ot],u=s.firstCreatePass?C$(o,s,i,e,n,r):s.data[o],l=T$(s,i,u,a,e,t);i[o]=l;let d=tp(u);return Ys(u,!0),kx(a,l,u),!YB(u)&&rp()&&lp(s,i,l,u),B2()===0&&Pi(l,i),$2(),d&&(d_(s,i,u),l_(s,u,i)),r!==null&&h_(i,u),Zr}function Jr(){let t=Ut();Ww()?GA():(t=t.parent,Ys(t,!1));let e=t;q2(e)&&G2(),H2();let n=bt();return n.firstCreatePass&&(sp(n,t),Hw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oj(e)&&vw(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aj(e)&&vw(n,e,Ee(),e.stylesWithoutHost,!1),Jr}function I_(t,e,n,r){return Zr(t,e,n,r),Jr(),I_}var T$=(t,e,n,r,i,s)=>(ip(!0),Tx(r,i,nj()));function S$(t,e,n,r,i){let s=e.consts,o=Oi(s,r),a=Zc(e,t,8,"ng-container",o);o!==null&&Lf(a,o,!0);let u=Oi(s,i);return p_(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function A$(t,e,n){let r=Ee(),i=bt(),s=t+Lt,o=i.firstCreatePass?S$(s,i,r,e,n):i.data[s];Ys(o,!0);let a=M$(i,r,o,t);return r[s]=a,rp()&&lp(i,r,a,o),Pi(a,r),tp(o)&&(d_(i,r,o),l_(i,o,r)),n!=null&&h_(r,o),A$}function x$(){let t=Ut(),e=bt();return Ww()?GA():(t=t.parent,Ys(t,!1)),e.firstCreatePass&&(sp(e,t),Hw(t)&&e.queries.elementEnd(t)),x$}var M$=(t,e,n,r)=>(ip(!0),eU(e[ot],""));function bX(){return Ee()}var Us=void 0;function N$(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var R$=["en",[["a","p"],["AM","PM"],Us],[["AM","PM"],Us,Us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Us,"{1} 'at' {0}",Us],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N$],Fv={};function gn(t){let e=k$(t),n=XS(e);if(n)return n;let r=e.split("-")[0];if(n=XS(r),n)return n;if(r==="en")return R$;throw new ee(701,!1)}function XS(t){return t in Fv||(Fv[t]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[t]),Fv[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function k$(t){return t.toLowerCase().replace(/_/g,"-")}var Gf="en-US";var O$=Gf;function P$(t){typeof t=="string"&&(O$=t.toLowerCase().replace(/_/g,"-"))}var F$=(t,e,n)=>{};function Dr(t,e,n,r){let i=Ee(),s=bt(),o=Ut();return mM(s,i,i[ot],o,t,e,r),Dr}function V$(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Df],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function mM(t,e,n,r,i,s,o){let a=tp(r),l=t.firstCreatePass&&HU(t),d=e[Vt],f=$U(e),m=!0;if(r.type&3||o){let C=Nn(r,e),T=o?o(C):C,O=f.length,j=o?K=>o(vr(K[r.index])):r.index,P=null;if(!o&&a&&(P=V$(t,e,i,r.index)),P!==null){let K=P.__ngLastListenerFn__||P;K.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,m=!1}else{s=tA(r,e,d,s),F$(C,i,s);let K=n.listen(T,i,s);f.push(s,K),l&&l.push(i,j,O,O+1)}}else s=tA(r,e,d,s);let g=r.outputs,w;if(m&&g!==null&&(w=g[i])){let C=w.length;if(C)for(let T=0;T<C;T+=2){let O=w[T],j=w[T+1],J=e[O][j].subscribe(s),ne=f.length;f.push(s,J),l&&l.push(i,r.index,ne,-(ne+1))}}}function eA(t,e,n,r){let i=ve(null);try{return pr(6,e,n),n(r)!==!1}catch(s){return qx(t,s),!1}finally{pr(7,e,n),ve(i)}}function tA(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?ji(t.index,e):e;y_(o,5);let a=eA(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=eA(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function CX(t=1){return tj(t)}function L$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function TX(t){let e=K2();return qw(e,Lt+t)}function Ip(t,e=""){let n=Ee(),r=bt(),i=t+Lt,s=r.firstCreatePass?Zc(r,i,1,e,null):r.data[i],o=j$(r,n,s,e,t);n[i]=o,rp()&&lp(r,n,o,s),Ys(s,!1)}var j$=(t,e,n,r,i)=>(ip(!0),Jj(e[ot],r));function U$(t){return xa("",t,""),U$}function xa(t,e,n){let r=Ee(),i=t$(r,t,e,n);return i!==_r&&zU(r,Ui(),i),xa}function B$(t,e,n){iM(e)&&(e=e());let r=Ee(),i=Ca();if(Kn(r,i,e)){let s=bt(),o=Zw();Ux(s,o,r,t,e,r[ot],n,!1)}return B$}function SX(t,e){let n=iM(t);return n&&t.set(e),n}function $$(t,e){let n=Ee(),r=bt(),i=Ut();return mM(r,n,n[ot],i,t,e),$$}function H$(t,e,n){let r=bt();if(r.firstCreatePass){let i=ki(t);Cw(n,r.data,r.blueprint,i,!0),Cw(e,r.data,r.blueprint,i,!1)}}function Cw(t,e,n,r,i){if(t=Kt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cw(t[s],e,n,r,i);else{let s=bt(),o=Ee(),a=Ut(),u=fa(t)?t:Kt(t.provide),l=NA(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(fa(t)||!t.multi){let g=new Ws(l,i,de),w=Lv(u,e,i?d:d+m,f);w===-1?(Xv(Mf(a,o),s,u),Vv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[w]=g,o[w]=g)}else{let g=Lv(u,e,d+m,f),w=Lv(u,e,d,d+m),C=g>=0&&n[g],T=w>=0&&n[w];if(i&&!T||!i&&!C){Xv(Mf(a,o),s,u);let O=G$(i?q$:z$,n.length,i,r,l);!i&&T&&(n[w].providerFactory=O),Vv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=gM(n[i?w:g],l,!i&&r);Vv(s,t,g>-1?g:w,O)}!i&&r&&T&&n[w].componentProviders++}}}function Vv(t,e,n,r){let i=fa(e),s=D2(e);if(i||s){let u=(s?Kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,u]):l[d+1].push(r,u)}else l.push(n,u)}}}function gM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function z$(t,e,n,r){return Tw(this.multi,[])}function q$(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ya(n,n[le],this.providerFactory.index,r);s=a.slice(0,o),Tw(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Tw(i,s);return s}function Tw(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function G$(t,e,n,r,i){let s=new Ws(t,n,de);return s.multi=[],s.index=e,s.componentProviders=0,gM(s,i,r&&!n),s}function Dp(t,e=[]){return n=>{n.providersResolver=(r,i)=>H$(r,i?i(t):t,e)}}var W$=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AA(!1,r.type),s=i.length>0?vp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(L(pn))});let t=e;return t})();function el(t){Js("NgStandalone"),t.getStandaloneInjector=e=>e.get(W$).getOrCreateStandaloneInjector(t)}function bp(t,e,n,r){return vM(Ee(),Kw(),t,e,n,r)}function yM(t,e){let n=t[e];return n===_r?void 0:n}function vM(t,e,n,r,i,s){let o=e+n;return Kn(t,o,i)?oM(t,o+1,s?r.call(s,i):r(i)):yM(t,o+1)}function K$(t,e,n,r,i,s,o){let a=e+n;return QB(t,a,i,s)?oM(t,a+2,o?r.call(o,i,s):r(i,s)):yM(t,a+2)}function AX(t,e){let n=bt(),r,i=t+Lt;n.firstCreatePass?(r=Q$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Hs(r.type,!0)),o,a=on(de);try{let u=xf(!1),l=s();return xf(u),L$(n,Ee(),i,l),l}finally{on(a)}}function Q$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function xX(t,e,n){let r=t+Lt,i=Ee(),s=qw(i,r);return wM(i,r)?vM(i,Kw(),e,s.transform,n,s):s.transform(n)}function MX(t,e,n,r){let i=t+Lt,s=Ee(),o=qw(s,i);return wM(s,i)?K$(s,Kw(),e,o.transform,n,r,o):o.transform(n,r)}function wM(t,e){return t[le].data[e].pure}function NX(t,e){return eM(t,e)}var ff=null;function Y$(t){ff!==null&&(t.defaultEncapsulation!==ff.defaultEncapsulation||t.preserveWhitespaces!==ff.preserveWhitespaces)||(ff=t)}var Kr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_M=new Kr("18.2.0");var Ma=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var D_=new G(""),tl=new G(""),Cp=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,b_||(Z$(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(L(Ie),L(Tp),L(tl))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Tp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return b_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Z$(t){b_=t}var b_;function $i(t){return!!t&&typeof t.then=="function"}function C_(t){return!!t&&typeof t.subscribe=="function"}var Sp=new G(""),EM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(Sp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if($i(o))r.push(o);else if(C_(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T_=new G("");function J$(){YT(()=>{throw new ee(600,!1)})}function X$(t){return t.isBoundToModule}var e4=10;function t4(t,e,n){try{let r=n();return $i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function IM(t,e){return Array.isArray(e)?e.reduce(IM,t):I(I({},t),e)}var Hi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(Aj),this.afterRenderEffectManager=B(w_),this.zonelessEnabled=B(tM),this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=B(Ta).hasPendingTasks.pipe(X(r=>!r)),this._injector=B(pn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Vf;if(!this._injector.get(EM).done){let g=!s&&bA(r),w=!1;throw new ee(405,w)}let a;s?a=r:a=this._injector.get(wa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=X$(a)?void 0:this._injector.get(Fi),l=i||a.selector,d=a.create(mn.NULL,[],l,u),f=d.location.nativeElement,m=d.injector.get(D_,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),vf(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ee(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ve(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(_a,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<e4;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)n4(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>$c(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>$c(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;vf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(T_,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>vf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function n4(t,e,n,r){if(!n&&!$c(t))return;Yx(t,e,n&&!r?0:1)}var Sw=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ap=(()=>{let e=class e{compileModuleSync(r){return new $f(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=CA(r),o=Cx(s.declarations).reduce((a,u)=>{let l=Ri(u);return l&&a.push(new Ea(l)),a},[]);return new Sw(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r4=new G("");function i4(t,e,n){let r=new $f(n);return Promise.resolve(r)}function nA(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var s4=(()=>{let e=class e{constructor(){this.zone=B(Ie),this.changeDetectionScheduler=B(va),this.applicationRef=B(Hi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o4({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ie(DM()),[{provide:Ie,useFactory:t},{provide:ha,multi:!0,useFactory:()=>{let n=B(s4,{optional:!0});return()=>n.initialize()}},{provide:ha,multi:!0,useFactory:()=>{let n=B(a4);return()=>{n.initialize()}}},e===!0?{provide:nM,useValue:!0}:[]]}function DM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var a4=(()=>{let e=class e{constructor(){this.subscription=new Xe,this.initialized=!1,this.zone=B(Ie),this.pendingTasks=B(Ta)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var u4=(()=>{let e=class e{constructor(){this.appRef=B(Hi),this.taskService=B(Ta),this.ngZone=B(Ie),this.zonelessEnabled=B(tM),this.disableScheduling=B(nM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rf):null,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?VS:fx;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rf+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function c4(){return typeof $localize<"u"&&$localize.locale||Gf}var xp=new G("",{providedIn:"root",factory:()=>B(xp,me.Optional|me.SkipSelf)||c4()});var S_=new G("");function pf(t){return!!t.platformInjector}function l4(t){let e=pf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{pf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Wr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),pf(t)){let s=()=>e.destroy(),o=t.platformInjector.get(S_);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{vf(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return t4(r,n,()=>{let s=e.get(EM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(xp,Gf);if(P$(o||Gf),pf(t)){let a=e.get(Hi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return d4(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function d4(t,e){let n=t.injector.get(Hi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ee(-403,!1);e.push(t)}var bM=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=()=>Sj(i?.ngZone,DM({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),o=i?.ignoreChangesOutsideZone,a=[o4({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:va,useExisting:u4}],u=WB(r.moduleType,this.injector,a);return l4({moduleRef:u,allPlatformModules:this._modules})}bootstrapModule(r,i=[]){let s=IM({},i);return i4(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(S_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(L(mn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Fc=null,CM=new G("");function h4(t){if(Fc&&!Fc.get(CM,!1))throw new ee(400,!1);J$(),Fc=t;let e=t.get(bM);return m4(t),e}function A_(t,e,n=[]){let r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=TM();if(!o||o.injector.get(CM,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):h4(f4(a,r))}return p4(i)}}function f4(t=[],e){return mn.create({name:e,providers:[{provide:Jf,useValue:"platform"},{provide:S_,useValue:new Set([()=>Fc=null])},...t]})}function p4(t){let e=TM();if(!e)throw new ee(401,!1);return e}function TM(){return Fc?.get(bM)??null}function m4(t){t.get(r_,null)?.forEach(n=>n())}function x_(){return!1}var zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=g4;let t=e;return t})();function g4(t){return y4(Ut(),Ee(),(t&16)===16)}function y4(t,e,n){if(ep(t)&&!n){let r=ji(t.index,e);return new Ks(r,r)}else if(t.type&175){let r=e[Wn];return new Ks(r,e)}return null}var Aw=class{constructor(){}supports(e){return sM(e)}create(e){return new xw(e)}},v4=(t,e)=>e,xw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||v4}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<rA(r,i,s)?n:r,a=rA(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,d=u-i;if(l!=d){for(let m=0;m<l;m++){let g=m<s.length?s[m]:s[m]=0,w=g+m;d<=w&&w<l&&(s[m]=g+1)}let f=o.previousIndex;s[f]=d-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sM(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,KB(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Mw(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Mw=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Nw=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Nw,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Rw=class{constructor(){}supports(e){return e instanceof Map||E_(e)}create(){return new kw}},kw=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||E_(e)))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Ow(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Ow=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function iA(){return new M_([new Aw])}var M_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iA()),deps:[[e,new Zf,new Vi]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new ee(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:iA});let t=e;return t})();function sA(){return new N_([new Rw])}var N_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sA()),deps:[[e,new Zf,new Vi]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:sA});let t=e;return t})();var SM=A_(null,"core",[]),AM=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(L(Hi))},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({});let t=e;return t})();var xM=new G("");function Xs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Mp(t,e){Js("NgSignals");let n=WT(t);return e?.equal&&(n[zr].equal=e.equal),n}function br(t){let e=ve(null);try{return t()}finally{ve(e)}}function MM(t){let e=Ri(t);if(!e)return null;let n=new Ea(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VM=null;function Cr(){return VM}function LM(t){VM??=t}var jp=class{};var At=new G(""),H_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(w4),providedIn:"platform"});let t=e;return t})(),jM=new G(""),w4=(()=>{let e=class e extends H_{constructor(){super(),this._doc=B(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(r){let i=Cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function z_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function NM(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ei(t){return t&&t[0]!=="?"?"?"+t:t}var ni=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(q_),providedIn:"root"});let t=e;return t})(),UM=new G(""),q_=(()=>{let e=class e extends ni{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ei(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ei(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ei(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(H_),L(UM,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BM=(()=>{let e=class e extends ni{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=z_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ei(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ei(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(H_),L(UM,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Na=(()=>{let e=class e{constructor(r){this._subject=new st,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=I4(NM(RM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ei(i))}normalize(r){return e.stripTrailingSlash(E4(this._basePath,RM(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ei(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ei(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ei,e.joinWithSlash=z_,e.stripTrailingSlash=NM,e.\u0275fac=function(i){return new(i||e)(L(ni))},e.\u0275prov=W({token:e,factory:()=>_4(),providedIn:"root"});let t=e;return t})();function _4(){return new Na(L(ni))}function E4(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RM(t){return t.replace(/\/index.html$/,"")}function I4(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var D4={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Jt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Jt||{}),Fe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Fe||{}),yn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(yn||{}),qi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function b4(t){return gn(t)[tt.LocaleId]}function C4(t,e,n){let r=gn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],s=Rn(i,e);return Rn(s,n)}function T4(t,e,n){let r=gn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],s=Rn(i,e);return Rn(s,n)}function S4(t,e,n){let r=gn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],s=Rn(i,e);return Rn(s,n)}function A4(t,e){let r=gn(t)[tt.Eras];return Rn(r,e)}function Np(t,e){let n=gn(t);return Rn(n[tt.DateFormat],e)}function Rp(t,e){let n=gn(t);return Rn(n[tt.TimeFormat],e)}function kp(t,e){let r=gn(t)[tt.DateTimeFormat];return Rn(r,e)}function $p(t,e){let n=gn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===qi.CurrencyDecimal)return n[tt.NumberSymbols][qi.Decimal];if(e===qi.CurrencyGroup)return n[tt.NumberSymbols][qi.Group]}return r}function x4(t){return gn(t)[tt.Currencies]}function $M(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M4(t){let e=gn(t);return $M(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?k_(r):[k_(r[0]),k_(r[1])])}function N4(t,e,n){let r=gn(t);$M(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],s=Rn(i,e)||[];return Rn(s,n)||[]}function Rn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function k_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function XX(t,e,n="en"){let r=x4(n)[t]||D4[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var R4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Op={},k4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ti=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ti||{}),Ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ae||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function O4(t,e,n,r){let i=H4(t);e=Xr(n,e)||e;let o=[],a;for(;e;)if(a=k4.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=zM(r,u),i=$4(i,r,!0));let l="";return o.forEach(d=>{let f=U4(d);l+=f?f(i,n,u):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Up(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Xr(t,e){let n=b4(t);if(Op[n]??={},Op[n][e])return Op[n][e];let r="";switch(e){case"shortDate":r=Np(t,yn.Short);break;case"mediumDate":r=Np(t,yn.Medium);break;case"longDate":r=Np(t,yn.Long);break;case"fullDate":r=Np(t,yn.Full);break;case"shortTime":r=Rp(t,yn.Short);break;case"mediumTime":r=Rp(t,yn.Medium);break;case"longTime":r=Rp(t,yn.Long);break;case"fullTime":r=Rp(t,yn.Full);break;case"short":let i=Xr(t,"shortTime"),s=Xr(t,"shortDate");r=Pp(kp(t,yn.Short),[i,s]);break;case"medium":let o=Xr(t,"mediumTime"),a=Xr(t,"mediumDate");r=Pp(kp(t,yn.Medium),[o,a]);break;case"long":let u=Xr(t,"longTime"),l=Xr(t,"longDate");r=Pp(kp(t,yn.Long),[u,l]);break;case"full":let d=Xr(t,"fullTime"),f=Xr(t,"fullDate");r=Pp(kp(t,yn.Full),[d,f]);break}return r&&(Op[n][e]=r),r}function Pp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Jn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function P4(t,e){return Jn(t,3).substring(0,e)}function ht(t,e,n=0,r=!1,i=!1){return function(s,o){let a=F4(t,s);if((n>0||a>-n)&&(a+=n),t===Ae.Hours)a===0&&n===-12&&(a=12);else if(t===Ae.FractionalSeconds)return P4(a,e);let u=$p(o,qi.MinusSign);return Jn(a,e,u,r,i)}}function F4(t,e){switch(t){case Ae.FullYear:return e.getFullYear();case Ae.Month:return e.getMonth();case Ae.Date:return e.getDate();case Ae.Hours:return e.getHours();case Ae.Minutes:return e.getMinutes();case Ae.Seconds:return e.getSeconds();case Ae.FractionalSeconds:return e.getMilliseconds();case Ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Le(t,e,n=Jt.Format,r=!1){return function(i,s){return V4(i,s,t,e,n,r)}}function V4(t,e,n,r,i,s){switch(n){case Se.Months:return S4(e,i,r)[t.getMonth()];case Se.Days:return T4(e,i,r)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=M4(e),d=N4(e,i,r),f=l.findIndex(m=>{if(Array.isArray(m)){let[g,w]=m,C=o>=g.hours&&a>=g.minutes,T=o<w.hours||o===w.hours&&a<w.minutes;if(g.hours<w.hours){if(C&&T)return!0}else if(C||T)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return C4(e,i,r)[o<12?0:1];case Se.Eras:return A4(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Fp(t){return function(e,n,r){let i=-1*r,s=$p(n,qi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ti.Short:return(i>=0?"+":"")+Jn(o,2,s)+Jn(Math.abs(i%60),2,s);case ti.ShortGMT:return"GMT"+(i>=0?"+":"")+Jn(o,1,s);case ti.Long:return"GMT"+(i>=0?"+":"")+Jn(o,2,s)+":"+Jn(Math.abs(i%60),2,s);case ti.Extended:return r===0?"Z":(i>=0?"+":"")+Jn(o,2,s)+":"+Jn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var L4=0,Lp=4;function j4(t){let e=Up(t,L4,1).getDay();return Up(t,0,1+(e<=Lp?Lp:Lp+7)-e)}function HM(t){let e=t.getDay(),n=e===0?-3:Lp-e;return Up(t.getFullYear(),t.getMonth(),t.getDate()+n)}function O_(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=HM(n),o=j4(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Jn(i,t,$p(r,qi.MinusSign))}}function Vp(t,e=!1){return function(n,r){let s=HM(n).getFullYear();return Jn(s,t,$p(r,qi.MinusSign),e)}}var P_={};function U4(t){if(P_[t])return P_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Le(Se.Eras,Fe.Abbreviated);break;case"GGGG":e=Le(Se.Eras,Fe.Wide);break;case"GGGGG":e=Le(Se.Eras,Fe.Narrow);break;case"y":e=ht(Ae.FullYear,1,0,!1,!0);break;case"yy":e=ht(Ae.FullYear,2,0,!0,!0);break;case"yyy":e=ht(Ae.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(Ae.FullYear,4,0,!1,!0);break;case"Y":e=Vp(1);break;case"YY":e=Vp(2,!0);break;case"YYY":e=Vp(3);break;case"YYYY":e=Vp(4);break;case"M":case"L":e=ht(Ae.Month,1,1);break;case"MM":case"LL":e=ht(Ae.Month,2,1);break;case"MMM":e=Le(Se.Months,Fe.Abbreviated);break;case"MMMM":e=Le(Se.Months,Fe.Wide);break;case"MMMMM":e=Le(Se.Months,Fe.Narrow);break;case"LLL":e=Le(Se.Months,Fe.Abbreviated,Jt.Standalone);break;case"LLLL":e=Le(Se.Months,Fe.Wide,Jt.Standalone);break;case"LLLLL":e=Le(Se.Months,Fe.Narrow,Jt.Standalone);break;case"w":e=O_(1);break;case"ww":e=O_(2);break;case"W":e=O_(1,!0);break;case"d":e=ht(Ae.Date,1);break;case"dd":e=ht(Ae.Date,2);break;case"c":case"cc":e=ht(Ae.Day,1);break;case"ccc":e=Le(Se.Days,Fe.Abbreviated,Jt.Standalone);break;case"cccc":e=Le(Se.Days,Fe.Wide,Jt.Standalone);break;case"ccccc":e=Le(Se.Days,Fe.Narrow,Jt.Standalone);break;case"cccccc":e=Le(Se.Days,Fe.Short,Jt.Standalone);break;case"E":case"EE":case"EEE":e=Le(Se.Days,Fe.Abbreviated);break;case"EEEE":e=Le(Se.Days,Fe.Wide);break;case"EEEEE":e=Le(Se.Days,Fe.Narrow);break;case"EEEEEE":e=Le(Se.Days,Fe.Short);break;case"a":case"aa":case"aaa":e=Le(Se.DayPeriods,Fe.Abbreviated);break;case"aaaa":e=Le(Se.DayPeriods,Fe.Wide);break;case"aaaaa":e=Le(Se.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":e=Le(Se.DayPeriods,Fe.Abbreviated,Jt.Standalone,!0);break;case"bbbb":e=Le(Se.DayPeriods,Fe.Wide,Jt.Standalone,!0);break;case"bbbbb":e=Le(Se.DayPeriods,Fe.Narrow,Jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Le(Se.DayPeriods,Fe.Abbreviated,Jt.Format,!0);break;case"BBBB":e=Le(Se.DayPeriods,Fe.Wide,Jt.Format,!0);break;case"BBBBB":e=Le(Se.DayPeriods,Fe.Narrow,Jt.Format,!0);break;case"h":e=ht(Ae.Hours,1,-12);break;case"hh":e=ht(Ae.Hours,2,-12);break;case"H":e=ht(Ae.Hours,1);break;case"HH":e=ht(Ae.Hours,2);break;case"m":e=ht(Ae.Minutes,1);break;case"mm":e=ht(Ae.Minutes,2);break;case"s":e=ht(Ae.Seconds,1);break;case"ss":e=ht(Ae.Seconds,2);break;case"S":e=ht(Ae.FractionalSeconds,1);break;case"SS":e=ht(Ae.FractionalSeconds,2);break;case"SSS":e=ht(Ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Fp(ti.Short);break;case"ZZZZZ":e=Fp(ti.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fp(ti.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fp(ti.Long);break;default:return null}return P_[t]=e,e}function zM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function B4(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function $4(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=zM(e,i);return B4(t,r*(s-i))}function H4(t){if(kM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Up(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(R4))return z4(r)}let e=new Date(t);if(!kM(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function z4(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function kM(t){return t instanceof Date&&!isNaN(t.valueOf())}function qM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var F_=/\s+/,OM=[],GM=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=OM,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(F_):OM}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(F_):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(F_).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(de(Zn),de(Ir))},e.\u0275dir=jt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var V_=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},eee=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new V_(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),PM(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);PM(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(de(Aa),de(gp),de(M_))},e.\u0275dir=jt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function PM(t,e){t.context.$implicit=e.item}var tee=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new L_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){FM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){FM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(de(Aa),de(gp))},e.\u0275dir=jt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),L_=class{constructor(){this.$implicit=null,this.ngIf=null}};function FM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Qt(e)}'.`)}var nee=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:wr.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(de(Zn),de(N_),de(Ir))},e.\u0275dir=jt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function WM(t,e){return new ee(2100,!1)}var j_=class{createSubscription(e,n){return br(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){br(()=>e.unsubscribe())}},U_=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},q4=new U_,G4=new j_,ree=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if($i(r))return q4;if(C_(r))return G4;throw WM(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(de(zi,16))},e.\u0275pipe=Uw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var W4="mediumDate",K4=new G(""),Q4=new G(""),iee=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??W4,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return O4(r,a,o||this.locale,u)}catch(a){throw WM(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(de(xp,16),de(K4,24),de(Q4,24))},e.\u0275pipe=Uw({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({});let t=e;return t})(),G_="browser",Y4="server";function Z4(t){return t===G_}function eo(t){return t===Y4}var KM=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>Z4(B(cn))?new B_(B(At),window):new $_});let t=e;return t})(),B_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=J4(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function J4(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var $_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bp=class{};var Q_=class extends jp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Y_=class t extends Q_{static makeCurrent(){LM(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=eH();return n==null?null:tH(n)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qM(document.cookie,e)}},nl=null;function eH(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}function tH(t){return new URL(t,document.baseURI).pathname}var Z_=class{addToWindow(e){Wt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new ee(5103,!1);return s},Wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Wt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},nH=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),rl=new G(""),XM=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(rl),L(Ie))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Ra=class{constructor(e){this._doc=e}},W_="ng-app-id",eN=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eo(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${W_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(W_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(W_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(At),L(ap),L(i_,8),L(cn))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),K_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eE=/%COMP%/g,tN="%COMP%",rH=`_nghost-${tN}`,iH=`_ngcontent-${tN}`,sH=!0,oH=new G("",{providedIn:"root",factory:()=>sH});function aH(t){return iH.replace(eE,t)}function uH(t){return rH.replace(eE,t)}function nN(t,e){return e.map(n=>n.replace(eE,t))}var YM=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=eo(u),this.defaultRenderer=new il(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gr.ShadowDom&&(i=z(I({},i),{encapsulation:gr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof zp?s.applyToHost(r):s instanceof sl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case gr.Emulated:o=new zp(l,d,i,this.appId,f,a,u,m);break;case gr.ShadowDom:return new J_(l,d,r,i,a,u,this.nonce,m);default:o=new sl(l,d,i,f,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(XM),L(eN),L(ap),L(oH),L(At),L(cn),L(Ie),L(i_))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),il=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(K_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=K_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=K_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wr.DashCase|wr.Important)?e.style.setProperty(n,r,i&wr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var J_=class extends il{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=nN(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sl=class extends il{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?nN(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zp=class extends sl{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=aH(l),this.hostAttr=uH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},cH=(()=>{let e=class e extends Ra{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(L(At))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),lH=(()=>{let e=class e extends Ra{constructor(r){super(r),this.delegate=B(xM,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(L(At))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),JM=["alt","control","meta","shift"],dH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fH=(()=>{let e=class e extends Ra{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),JM.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=dH[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),JM.forEach(a=>{if(a!==s){let u=hH[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(At))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function pH(){Y_.makeCurrent()}function mH(){return new Wr}function gH(){return _x(document),document}var yH=[{provide:cn,useValue:G_},{provide:r_,useValue:pH,multi:!0},{provide:At,useFactory:gH,deps:[]}],bee=A_(SM,"browser",yH),vH=new G(""),wH=[{provide:tl,useClass:Z_,deps:[]},{provide:D_,useClass:Cp,deps:[Ie,Tp,tl]},{provide:Cp,useClass:Cp,deps:[Ie,Tp,tl]}],_H=[{provide:Jf,useValue:"root"},{provide:Wr,useFactory:mH,deps:[]},{provide:rl,useClass:cH,multi:!0,deps:[At,Ie,cn]},{provide:rl,useClass:fH,multi:!0,deps:[At]},{provide:rl,useClass:lH,multi:!0},YM,eN,XM,{provide:_a,useExisting:YM},{provide:Bp,useClass:nH,deps:[]},[]],Cee=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:ap,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(L(vH,12))},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({providers:[..._H,...wH],imports:[Hp,AM]});let t=e;return t})();var rN=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(At))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EH={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},X_=new G("HammerGestureConfig"),iN=new G("HammerLoader"),IH=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),DH=(()=>{let e=class e extends Ra{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!EH.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,u=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){u=()=>{};return}a||(u=this.addEventListener(r,i,s))}).catch(()=>{u=()=>{}})),()=>{u()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),u=function(l){o.runGuarded(function(){s(l)})};return a.on(i,u),()=>{a.off(i,u),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(L(At),L(X_),L(Ma),L(iN,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Tee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({providers:[{provide:rl,useClass:DH,multi:!0,deps:[At,X_,Ma,[new Vi,iN]]},{provide:X_,useClass:IH,deps:[]}]});let t=e;return t})();var hN=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(de(Ir),de(Zn))},e.\u0275dir=jt({type:e});let t=e;return t})(),fN=(()=>{let e=class e extends hN{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zs(e)))(s||e)}})(),e.\u0275dir=jt({type:e,features:[Bi]});let t=e;return t})(),sE=new G(""),CH={provide:sE,useExisting:Da(()=>TH),multi:!0},TH=(()=>{let e=class e extends fN{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zs(e)))(s||e)}})(),e.\u0275dir=jt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&Dr("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Dp([CH]),Bi]});let t=e;return t})(),SH={provide:sE,useExisting:Da(()=>pN),multi:!0};function AH(){let t=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var xH=new G(""),pN=(()=>{let e=class e extends hN{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!AH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(de(Ir),de(Zn),de(xH,8))},e.\u0275dir=jt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Dr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Dp([SH]),Bi]});let t=e;return t})();var MH=new G(""),NH=new G("");function mN(t){return t!=null}function gN(t){return $i(t)?ce(t):t}function yN(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function vN(t,e){return e.map(n=>n(t))}function RH(t){return!t.validate}function wN(t){return t.map(e=>RH(e)?e:n=>e.validate(n))}function kH(t){if(!t)return null;let e=t.filter(mN);return e.length==0?null:function(n){return yN(vN(n,e))}}function _N(t){return t!=null?kH(wN(t)):null}function OH(t){if(!t)return null;let e=t.filter(mN);return e.length==0?null:function(n){let r=vN(n,e).map(gN);return vv(r).pipe(X(yN))}}function EN(t){return t!=null?OH(wN(t)):null}function sN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PH(t){return t._rawValidators}function FH(t){return t._rawAsyncValidators}function tE(t){return t?Array.isArray(t)?t:[t]:[]}function Gp(t,e){return Array.isArray(t)?t.includes(e):t===e}function oN(t,e){let n=tE(e);return tE(t).forEach(i=>{Gp(n,i)||n.push(i)}),n}function aN(t,e){return tE(e).filter(n=>!Gp(t,n))}var Wp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},nE=class extends Wp{get formDirective(){return null}get path(){return null}},ll=class extends Wp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rE=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},VH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hee=z(I({},VH),{"[class.ng-submitted]":"isSubmitted"}),zee=(()=>{let e=class e extends rE{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(ll,2))},e.\u0275dir=jt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&wp("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Bi]});let t=e;return t})();var ol="VALID",qp="INVALID",ka="PENDING",al="DISABLED",Pa=class{},Kp=class extends Pa{constructor(e,n){super(),this.value=e,this.source=n}},ul=class extends Pa{constructor(e,n){super(),this.pristine=e,this.source=n}},cl=class extends Pa{constructor(e,n){super(),this.touched=e,this.source=n}},Oa=class extends Pa{constructor(e,n){super(),this.status=e,this.source=n}};function LH(t){return(Qp(t)?t.validators:t)||null}function jH(t){return Array.isArray(t)?_N(t):t||null}function UH(t,e){return(Qp(e)?e.asyncValidators:t)||null}function BH(t){return Array.isArray(t)?EN(t):t||null}function Qp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var iE=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Mp(()=>this.statusReactive()),this.statusReactive=yp(void 0),this._pristine=Mp(()=>this.pristineReactive()),this.pristineReactive=yp(!0),this._touched=Mp(()=>this.touchedReactive()),this.touchedReactive=yp(!1),this._events=new ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return br(this.statusReactive)}set status(e){br(()=>this.statusReactive.set(e))}get valid(){return this.status===ol}get invalid(){return this.status===qp}get pending(){return this.status==ka}get disabled(){return this.status===al}get enabled(){return this.status!==al}get pristine(){return br(this.pristineReactive)}set pristine(e){br(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return br(this.touchedReactive)}set touched(e){br(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aN(e,this._rawAsyncValidators))}hasValidator(e){return Gp(this._rawValidators,e)}hasAsyncValidator(e){return Gp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new cl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ul(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ul(!0,r))}markAsPending(e={}){this.status=ka;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=al,this.errors=null,this._forEachChild(i=>{i.disable(z(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kp(this.value,r)),this._events.next(new Oa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ol,this._forEachChild(r=>{r.enable(z(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ol||this.status===ka)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kp(this.value,n)),this._events.next(new Oa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?al:ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=gN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Oa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?al:this.errors?qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(qp)?qp:ol}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ul(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BH(this._rawAsyncValidators)}};var IN=new G("CallSetDisabledState",{providedIn:"root",factory:()=>oE}),oE="always";function $H(t,e){return[...e.path,t]}function HH(t,e,n=oE){qH(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),GH(t,e),KH(t,e),WH(t,e),zH(t,e)}function uN(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qH(t,e){let n=PH(t);e.validator!==null?t.setValidators(sN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=FH(t);e.asyncValidator!==null?t.setAsyncValidators(sN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();uN(e._rawValidators,i),uN(e._rawAsyncValidators,i)}function GH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&DN(t,e)})}function WH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&DN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function DN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function YH(t){return Object.getPrototypeOf(t.constructor)===fN}function ZH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===pN?n=s:YH(s)?r=s:i=s}),i||r||n||null}function cN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var JH=class extends iE{constructor(e=null,n,r){super(LH(n),UH(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var XH={provide:ll,useExisting:Da(()=>ez)},dN=Promise.resolve(),ez=(()=>{let e=class e extends ll{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new JH,this._registered=!1,this.name="",this.update=new st,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ZH(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),QH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){dN.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Xs(i);dN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?$H(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(de(nE,9),de(MH,10),de(NH,10),de(sE,10),de(zi,8),de(IN,8))},e.\u0275dir=jt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dp([XH]),Bi,Li]});let t=e;return t})();var tz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({});let t=e;return t})();var Gee=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:IN,useValue:r.callSetDisabledState??oE}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({imports:[tz]});let t=e;return t})();var he="primary",bl=Symbol("RouteTitle"),dE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ba(t){return new dE(t)}function nz(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tr(t[n],e[n]))return!1;return!0}function Tr(t,e){let n=t?hE(t):void 0,r=e?hE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ON(t[i],e[i]))return!1;return!0}function hE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ON(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function PN(t){return t.length>0?t[t.length-1]:null}function Ki(t){return yv(t)?t:$i(t)?ce(Promise.resolve(t)):Y(t)}var iz={exact:VN,subset:LN},FN={exact:sz,subset:oz,ignored:()=>!0};function bN(t,e,n){return iz[n.paths](t.root,e.root,n.matrixParams)&&FN[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function sz(t,e){return Tr(t,e)}function VN(t,e,n){if(!no(t.segments,e.segments)||!Jp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VN(t.children[r],e.children[r],n))return!1;return!0}function oz(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ON(t[n],e[n]))}function LN(t,e,n){return jN(t,e,e.segments,n)}function jN(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!no(i,n)||e.hasChildren()||!Jp(i,n,r))}else if(t.segments.length===n.length){if(!no(t.segments,n)||!Jp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!LN(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!no(t.segments,i)||!Jp(t.segments,i,r)||!t.children[he]?!1:jN(t.children[he],e,s,r)}}function Jp(t,e,n){return e.every((r,i)=>FN[n](t[i].parameters,r.parameters))}var ii=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){return cz.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xp(this)}},to=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ba(this.parameters),this._parameterMap}toString(){return BN(this)}};function az(t,e){return no(t,e)&&t.every((n,r)=>Tr(n.parameters,e[r].parameters))}function no(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function uz(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===he&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==he&&(n=n.concat(e(i,r)))}),n}var Cl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new $a,providedIn:"root"});let t=e;return t})(),$a=class{parse(e){let n=new pE(e);return new ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${dl(e.root,!0)}`,r=hz(e.queryParams),i=typeof e.fragment=="string"?`#${lz(e.fragment)}`:"";return`${n}${r}${i}`}},cz=new $a;function Xp(t){return t.segments.map(e=>BN(e)).join("/")}function dl(t,e){if(!t.hasChildren())return Xp(t);if(e){let n=t.children[he]?dl(t.children[he],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${dl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=uz(t,(r,i)=>i===he?[dl(t.children[he],!1)]:[`${i}:${dl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[he]!=null?`${Xp(t)}/${n[0]}`:`${Xp(t)}/(${n.join("//")})`}}function UN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yp(t){return UN(t).replace(/%3B/gi,";")}function lz(t){return encodeURI(t)}function fE(t){return UN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function em(t){return decodeURIComponent(t)}function CN(t){return em(t.replace(/\+/g,"%20"))}function BN(t){return`${fE(t.path)}${dz(t.parameters)}`}function dz(t){return Object.entries(t).map(([e,n])=>`;${fE(e)}=${fE(n)}`).join("")}function hz(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yp(n)}=${Yp(i)}`).join("&"):`${Yp(n)}=${Yp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var fz=/^[^\/()?;#]+/;function aE(t){let e=t.match(fz);return e?e[0]:""}var pz=/^[^\/()?;=#]+/;function mz(t){let e=t.match(pz);return e?e[0]:""}var gz=/^[^=?&#]+/;function yz(t){let e=t.match(gz);return e?e[0]:""}var vz=/^[^&#]+/;function wz(t){let e=t.match(vz);return e?e[0]:""}var pE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new Re(e,n)),r}parseSegment(){let e=aE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new to(em(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=mz(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=aE(this.remaining);i&&(r=i,this.capture(r))}e[em(n)]=em(r)}parseQueryParam(e){let n=yz(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=wz(this.remaining);o&&(r=o,this.capture(r))}let i=CN(n),s=CN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=aE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[he]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function $N(t){return t.segments.length>0?new Re([],{[he]:t}):t}function HN(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=HN(i);if(r===he&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Re(t.segments,e);return _z(n)}function _z(t){if(t.numberOfChildren===1&&t.children[he]){let e=t.children[he];return new Re(t.segments.concat(e.segments),e.children)}return t}function ro(t){return t instanceof ii}function Ez(t,e,n=null,r=null){let i=zN(t);return qN(i,e,n,r)}function zN(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$N(r);return e??i}function qN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return uE(i,i,i,n,r);let s=Iz(e);if(s.toRoot())return uE(i,i,new Re([],{}),n,r);let o=Dz(s,i,t),a=o.processChildren?pl(o.segmentGroup,o.index,s.commands):WN(o.segmentGroup,o.index,s.commands);return uE(i,o.segmentGroup,a,n,r)}function tm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yl(t){return typeof t=="object"&&t!=null&&t.outlets}function uE(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=GN(t,e,n);let a=$N(HN(o));return new ii(a,s,i)}function GN(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GN(s,e,n)}),new Re(t.segments,r)}var nm=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tm(r[0]))throw new ee(4003,!1);let i=r.find(yl);if(i&&i!==PN(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Iz(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new nm(n,e,r)}var La=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Dz(t,e,n){if(t.isAbsolute)return new La(e,!0,0);if(!n)return new La(e,!1,NaN);if(n.parent===null)return new La(n,!0,0);let r=tm(t.commands[0])?0:1,i=n.segments.length-1+r;return bz(n,i,t.numberOfDoubleDots)}function bz(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new La(r,!1,i-s)}function Cz(t){return yl(t[0])?t[0].outlets:{[he]:t}}function WN(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return pl(t,e,n);let r=Tz(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[he]=new Re(t.segments.slice(r.pathIndex),t.children),pl(s,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?mE(t,e,n):r.match?pl(t,0,i):mE(t,e,n)}function pl(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=Cz(n),i={};if(Object.keys(r).some(s=>s!==he)&&t.children[he]&&t.numberOfChildren===1&&t.children[he].segments.length===0){let s=pl(t.children[he],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=WN(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Re(t.segments,i)}}function Tz(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(yl(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!SN(u,l,o))return s;r+=2}else{if(!SN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mE(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(yl(s)){let u=Sz(s.outlets);return new Re(r,u)}if(i===0&&tm(n[0])){let u=t.segments[e];r.push(new to(u.path,TN(n[0]))),i++;continue}let o=yl(s)?s.outlets[he]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&tm(a)?(r.push(new to(o,TN(a))),i+=2):(r.push(new to(o,{})),i++)}return new Re(r,{})}function Sz(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mE(new Re([],{}),0,r))}),e}function TN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function SN(t,e,n){return t==n.path&&Tr(e,n.parameters)}var ml="imperative",Ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ct||{}),kn=class{constructor(e,n){this.id=e,this.url=n}},Ha=class extends kn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sr=class extends kn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(wn||{}),rm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rm||{}),ri=class extends kn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gi=class extends kn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationSkipped}},vl=class extends kn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},im=class extends kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gE=class extends kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yE=class extends kn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vE=class extends kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wE=class extends kn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_E=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},EE=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},IE=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},DE=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bE=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},CE=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wl=class{},za=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Az(t,e){return t.providers&&!t._injector&&(t._injector=vp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xn(t){return t.outlet||he}function xz(t,e){let n=t.filter(r=>Xn(r)===e);return n.push(...t.filter(r=>Xn(r)!==e)),n}function Tl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TE=class{get injector(){return Tl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Sl(this.rootInjector),this.attachRef=null}},Sl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new TE(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(L(pn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),om=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=SE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=SE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=AE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AE(e,this._root).map(n=>n.value)}};function SE(t,e){if(t===e.value)return e;for(let n of e.children){let r=SE(t,n);if(r)return r}return null}function AE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=AE(t,n);if(r.length)return r.unshift(e),r}return[]}var vn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Va(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var am=class extends om{constructor(e,n){super(e),this.snapshot=n,VE(this,e)}toString(){return this.snapshot.toString()}};function KN(t){let e=Mz(t),n=new wt([new to("",{})]),r=new wt({}),i=new wt({}),s=new wt({}),o=new wt(""),a=new io(n,r,s,o,i,he,t,e.root);return a.snapshot=e.root,new am(new vn(a,[]),e)}function Mz(t){let e={},n={},r={},i="",s=new ja([],e,r,i,n,he,t,null,{});return new cm("",new vn(s,[]))}var io=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[bl]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function um(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&YN(i)&&(r.resolve[bl]=i.title),r}var ja=class{get title(){return this.data?.[bl]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cm=class extends om{constructor(e,n){super(n),this.url=e,VE(this,n)}toString(){return QN(this._root)}};function VE(t,e){e.value._routerState=t,e.children.forEach(n=>VE(t,n))}function QN(t){let e=t.children.length>0?` { ${t.children.map(QN).join(", ")} } `:"";return`${t.value}${e}`}function cE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tr(e.params,n.params)||t.paramsSubject.next(n.params),rz(e.url,n.url)||t.urlSubject.next(n.url),Tr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xE(t,e){let n=Tr(t.params,e.params)&&az(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xE(t.parent,e.parent))}function YN(t){return typeof t.title=="string"||t.title===null}var Nz=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new st,this.deactivateEvents=new st,this.attachEvents=new st,this.detachEvents=new st,this.parentContexts=B(Sl),this.location=B(Aa),this.changeDetector=B(zi),this.inputBinder=B(pm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new ME(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]});let t=e;return t})(),ME=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===io?this.route:e===Sl?this.childContexts:this.parent.get(e,n)}},pm=new G(""),AN=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Nc([i.queryParams,i.params,i.data]).pipe(Qe(([o,a,u],l)=>(u=I(I(I({},o),a),u),l===0?Y(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=MM(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function Rz(t,e,n){let r=_l(t,e._root,n?n._root:void 0);return new am(r,e)}function _l(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=kz(t,e,n);return new vn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_l(t,a)),o}}let r=Oz(e.value),i=e.children.map(s=>_l(t,s));return new vn(r,i)}}function kz(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _l(t,r,i);return _l(t,r)})}function Oz(t){return new io(new wt(t.url),new wt(t.params),new wt(t.queryParams),new wt(t.fragment),new wt(t.data),t.outlet,t.component,t)}var El=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ZN="ngNavigationCancelingError";function lm(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JN(!1,wn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function JN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ZN]=!0,n.cancellationCode=e,n}function Pz(t){return XN(t)&&ro(t.url)}function XN(t){return!!t&&t[ZN]}var Fz=(t,e,n,r)=>X(i=>(new NE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),NE=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Va(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Va(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new CE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new DE(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(cE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},dm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ua=class{constructor(e,n){this.component=e,this.route=n}};function Vz(t,e,n){let r=t._root,i=e?e._root:null;return hl(r,i,n,[r.value])}function Lz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ga(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!cA(t)?t:e.get(t):r}function hl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Va(e);return t.children.forEach(o=>{jz(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>gl(a,n.getContext(o),i)),i}function jz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Uz(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?hl(t,e,a?a.children:null,r,i):hl(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ua(a.outlet.component,o))}else o&&gl(e,a,i),i.canActivateChecks.push(new dm(r)),s.component?hl(t,null,a?a.children:null,r,i):hl(t,null,n,r,i);return i}function Uz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!Tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xE(t,e)||!Tr(t.queryParams,e.queryParams);case"paramsChange":default:return!xE(t,e)}}function gl(t,e,n){let r=Va(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?gl(o,e.children.getContext(s),n):gl(o,null,n):gl(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ua(e.outlet.component,i)):n.canDeactivateChecks.push(new Ua(null,i)):n.canDeactivateChecks.push(new Ua(null,i))}function Al(t){return typeof t=="function"}function Bz(t){return typeof t=="boolean"}function $z(t){return t&&Al(t.canLoad)}function Hz(t){return t&&Al(t.canActivate)}function zz(t){return t&&Al(t.canActivateChild)}function qz(t){return t&&Al(t.canDeactivate)}function Gz(t){return t&&Al(t.canMatch)}function eR(t){return t instanceof Gr||t?.name==="EmptyError"}var Zp=Symbol("INITIAL_VALUE");function qa(){return Qe(t=>Nc(t.map(e=>e.pipe(fr(1),js(Zp)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Zp)return Zp;if(n===!1||Wz(n))return n}return!0}),St(e=>e!==Zp),fr(1)))}function Wz(t){return ro(t)||t instanceof El}function Kz(t,e){return dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(z(I({},n),{guardsResult:!0})):Qz(o,r,i,t).pipe(dt(a=>a&&Bz(a)?Yz(r,s,t,e):Y(a)),X(a=>z(I({},n),{guardsResult:a})))})}function Qz(t,e,n,r){return ce(t).pipe(dt(i=>tq(i.component,i.route,n,e,r)),xn(i=>i!==!0,!0))}function Yz(t,e,n,r){return ce(e).pipe(Vs(i=>ia(Jz(i.route.parent,r),Zz(i.route,r),eq(t,i.path,n),Xz(t,i.route,n))),xn(i=>i!==!0,!0))}function Zz(t,e){return t!==null&&e&&e(new bE(t)),Y(!0)}function Jz(t,e){return t!==null&&e&&e(new IE(t)),Y(!0)}function Xz(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>rf(()=>{let o=Tl(e)??n,a=Ga(s,o),u=Hz(a)?a.canActivate(e,t):Qn(o,()=>a(e,t));return Ki(u).pipe(xn())}));return Y(i).pipe(qa())}function eq(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Lz(o)).filter(o=>o!==null).map(o=>rf(()=>{let a=o.guards.map(u=>{let l=Tl(o.node)??n,d=Ga(u,l),f=zz(d)?d.canActivateChild(r,t):Qn(l,()=>d(r,t));return Ki(f).pipe(xn())});return Y(a).pipe(qa())}));return Y(s).pipe(qa())}function tq(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=Tl(e)??i,l=Ga(a,u),d=qz(l)?l.canDeactivate(t,e,n,r):Qn(u,()=>l(t,e,n,r));return Ki(d).pipe(xn())});return Y(o).pipe(qa())}function nq(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=Ga(o,t),u=$z(a)?a.canLoad(e,n):Qn(t,()=>a(e,n));return Ki(u)});return Y(s).pipe(qa(),tR(r))}function tR(t){return dv(et(e=>{if(typeof e!="boolean")throw lm(t,e)}),X(e=>e===!0))}function rq(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=Ga(o,t),u=Gz(a)?a.canMatch(e,n):Qn(t,()=>a(e,n));return Ki(u)});return Y(s).pipe(qa(),tR(r))}var Il=class{constructor(e){this.segmentGroup=e||null}},Dl=class extends Error{constructor(e){super(),this.urlTree=e}};function Fa(t){return ra(new Il(t))}function iq(t){return ra(new ee(4e3,!1))}function sq(t){return ra(JN(!1,wn.GuardRejected))}var RE=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[he])return iq(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:d,url:f,outlet:m,params:g,data:w,title:C}=i,T=Qn(s,()=>a({params:g,data:w,queryParams:u,fragment:l,routeConfig:d,url:f,outlet:m,title:C}));if(T instanceof ii)throw new Dl(T);n=T}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Dl(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ii(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},kE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oq(t,e,n,r,i){let s=LE(t,e,n);return s.matched?(r=Az(e,r),rq(r,e,n,i).pipe(X(o=>o===!0?s:I({},kE)))):Y(s)}function LE(t,e,n){if(e.path==="**")return aq(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},kE):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nz)(n,t,e);if(!i)return I({},kE);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aq(t){return{matched:!0,parameters:t.length>0?PN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xN(t,e,n,r){return n.length>0&&lq(t,n,r)?{segmentGroup:new Re(e,cq(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&dq(t,n,r)?{segmentGroup:new Re(t.segments,uq(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function uq(t,e,n,r){let i={};for(let s of n)if(mm(t,e,s)&&!r[Xn(s)]){let o=new Re([],{});i[Xn(s)]=o}return I(I({},r),i)}function cq(t,e){let n={};n[he]=e;for(let r of t)if(r.path===""&&Xn(r)!==he){let i=new Re([],{});n[Xn(r)]=i}return n}function lq(t,e,n){return n.some(r=>mm(t,e,r)&&Xn(r)!==he)}function dq(t,e,n){return n.some(r=>mm(t,e,r))}function mm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function hq(t,e,n,r){return Xn(t)!==r&&(r===he||!mm(e,n,t))?!1:LE(e,t,n).matched}function fq(t,e,n){return e.length===0&&!t.children[n]}var OE=class{};function pq(t,e,n,r,i,s,o="emptyOnly"){return new PE(t,e,n,r,i,o,s).recognize()}var mq=31,PE=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new RE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=xN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new vn(r,n),s=new cm("",i),o=Ez(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ja([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,n).pipe(X(r=>({children:r,rootSnapshot:n})),Ti(r=>{if(r instanceof Dl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Il?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(X(o=>o instanceof vn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ce(s).pipe(Vs(o=>{let a=r.children[o],u=xz(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Ls((o,a)=>(o.push(...a),o)),Si(null),Iv(),dt(o=>{if(o===null)return Fa(r);let a=nR(o);return gq(a),Y(a)}))}processSegment(e,n,r,i,s,o,a){return ce(n).pipe(Vs(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Ti(l=>{if(l instanceof Il)return Y(null);throw l}))),xn(u=>!!u),Ti(u=>{if(eR(u))return fq(r,i,s)?Y(new OE):Fa(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return hq(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Fa(i):Fa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=LE(n,i,s);if(!u)return Fa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mq&&(this.allowRedirects=!1));let g=new ja(s,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,MN(i),Xn(i),i.component??i._loadedComponent??null,i,NN(i)),w=um(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let C=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,C).pipe(dt(T=>this.processSegment(e,r,n,T.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=oq(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Qe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qe(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=u,w=new ja(m,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,MN(r),Xn(r),r.component??r._loadedComponent??null,r,NN(r)),C=um(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(C.params),w.data=Object.freeze(C.data);let{segmentGroup:T,slicedSegments:O}=xN(n,m,g,l);if(O.length===0&&T.hasChildren())return this.processChildren(d,l,T,w).pipe(X(P=>new vn(w,P)));if(l.length===0&&O.length===0)return Y(new vn(w,[]));let j=Xn(r)===s;return this.processSegment(d,l,T,O,j?he:s,!0,w).pipe(X(P=>new vn(w,P instanceof vn?[P]:[])))}))):Fa(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):nq(e,n,r,this.urlSerializer).pipe(dt(i=>i?this.configLoader.loadChildren(e,n).pipe(et(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):sq(n))):Y({routes:[],injector:e})}};function gq(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}function yq(t){let e=t.value.routeConfig;return e&&e.path===""}function nR(t){let e=[],n=new Set;for(let r of t){if(!yq(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nR(r.children);e.push(new vn(r.value,i))}return e.filter(r=>!n.has(r))}function MN(t){return t.data||{}}function NN(t){return t.resolve||{}}function vq(t,e,n,r,i,s){return dt(o=>pq(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:a,tree:u})=>z(I({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function wq(t,e){return dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of rR(u))o.add(l);let a=0;return ce(o).pipe(Vs(u=>s.has(u)?_q(u,r,t,e):(u.data=um(u,u.parent,t).resolve,Y(void 0))),et(()=>a++),sa(1),dt(u=>a===o.size?Y(n):Gt))})}function rR(t){let e=t.children.map(n=>rR(n)).flat();return[t,...e]}function _q(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YN(i)&&(s[bl]=i.title),Eq(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=um(t,t.parent,n).resolve,null)))}function Eq(t,e,n,r){let i=hE(t);if(i.length===0)return Y({});let s={};return ce(i).pipe(dt(o=>Iq(t[o],e,n,r).pipe(xn(),et(a=>{if(a instanceof El)throw lm(new $a,a);s[o]=a}))),sa(1),_v(s),Ti(o=>eR(o)?Gt:ra(o)))}function Iq(t,e,n,r){let i=Tl(e)??r,s=Ga(t,i),o=s.resolve?s.resolve(e,n):Qn(i,()=>s(e,n));return Ki(o)}function lE(t){return Qe(e=>{let n=t(e);return n?ce(n).pipe(X(()=>e)):Y(e)})}var iR=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===he);return i}getResolvedTitleForRoute(r){return r.data[bl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(Dq),providedIn:"root"});let t=e;return t})(),Dq=(()=>{let e=class e extends iR{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(rN))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xl=new G("",{providedIn:"root",factory:()=>({})}),bq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Yc({type:e,selectors:[["ng-component"]],standalone:!0,features:[el],decls:1,vars:0,template:function(i,s){i&1&&I_(0,"router-outlet")},dependencies:[Nz],encapsulation:2});let t=e;return t})();function jE(t){let e=t.children&&t.children.map(jE),n=e?z(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=bq),n}var hm=new G(""),UE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Ap)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ki(r.loadComponent()).pipe(X(sR),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Rc(()=>{this.componentLoaders.delete(r)})),s=new Xo(i,()=>new ze).pipe(Jo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Cq(i,this.compiler,r,this.onLoadEndListener).pipe(Rc(()=>{this.childrenLoaders.delete(i)})),a=new Xo(o,()=>new ze).pipe(Jo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cq(t,e,n,r){return Ki(t.loadChildren()).pipe(X(sR),dt(i=>i instanceof Gc||Array.isArray(i)?Y(i):ce(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(hm,[],{optional:!0,self:!0}).flat()),{routes:o.map(jE),injector:s}}))}function Tq(t){return t&&typeof t=="object"&&"default"in t}function sR(t){return Tq(t)?t.default:t}var BE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(Sq),providedIn:"root"});let t=e;return t})(),Sq=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oR=new G(""),aR=new G("");function Aq(t,e,n){let r=t.get(aR),i=t.get(At);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),xq(t))),{onViewTransitionCreated:u}=r;return u&&Qn(t,()=>u({transition:a,from:e,to:n})),o})}function xq(t){return new Promise(e=>{v_({read:()=>setTimeout(e)},{injector:t})})}var Mq=new G(""),$E=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=B(UE),this.environmentInjector=B(pn),this.urlSerializer=B(Cl),this.rootContexts=B(Sl),this.location=B(Na),this.inputBindingEnabled=B(pm,{optional:!0})!==null,this.titleStrategy=B(iR),this.options=B(xl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(BE),this.createViewTransition=B(oR,{optional:!0}),this.navigationErrorHandler=B(Mq,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new _E(s)),i=s=>this.events.next(new EE(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(z(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new wt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ml,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),X(o=>z(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qe(o=>{let a=!1,u=!1;return Y(o).pipe(Qe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",wn.SupersededByNewNavigation),Gt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.rawUrl),m,rm.IgnoredSameUrlNavigation)),l.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Qe(m=>{let g=this.transitions?.getValue();return this.events.next(new Ha(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?Gt:Promise.resolve(m)}),vq(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),et(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=z(I({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new im(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:g,source:w,restoredState:C,extras:T}=l,O=new Ha(m,this.urlSerializer.serialize(g),w,C);this.events.next(O);let j=KN(this.rootComponentType).snapshot;return this.currentTransition=o=z(I({},l),{targetSnapshot:j,urlAfterRedirects:g,extras:z(I({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Y(o)}else{let m="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,rm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gt}}),et(l=>{let d=new gE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),X(l=>(this.currentTransition=o=z(I({},l),{guards:Vz(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Kz(this.environmentInjector,l=>this.events.next(l)),et(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw lm(this.urlSerializer,l.guardsResult);let d=new yE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",wn.GuardRejected),!1)),lE(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(et(d=>{let f=new vE(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Qe(d=>{let f=!1;return Y(d).pipe(wq(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",wn.NoDataFromResolver)}}))}),et(d=>{let f=new wE(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),lE(l=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(et(g=>{f.component=g}),X(()=>{})));for(let g of f.children)m.push(...d(g));return m};return Nc(d(l.targetSnapshot.root)).pipe(Si(null),fr(1))}),lE(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?ce(f).pipe(X(()=>o)):Y(o)}),X(l=>{let d=Rz(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(I({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),et(()=>{this.events.next(new wl)}),Fz(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fr(1),et({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),uf(this.transitionAbortSubject.pipe(et(l=>{throw l}))),Rc(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",wn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ti(l=>{if(u=!0,XN(l))this.events.next(new ri(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Pz(l)?this.events.next(new za(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new vl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=Qn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof El){let{message:m,cancellationCode:g}=lm(this.urlSerializer,f);this.events.next(new ri(o.id,this.urlSerializer.serialize(o.extractedUrl),m,g)),this.events.next(new za(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=r.errorHandler(l);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Gt}))}))}cancelNavigationTransition(r,i,s){let o=new ri(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nq(t){return t!==ml}var Rq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(kq),providedIn:"root"});let t=e;return t})(),FE=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kq=(()=>{let e=class e extends FE{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zs(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>B(Oq),providedIn:"root"});let t=e;return t})(),Oq=(()=>{let e=class e extends uR{constructor(){super(...arguments),this.location=B(Na),this.urlSerializer=B(Cl),this.options=B(xl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(BE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ha)this.stateMemento=this.createStateMemento();else if(r instanceof Gi)this.rawUrlTree=i.initialUrl;else if(r instanceof im){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof wl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof ri&&(r.code===wn.GuardRejected||r.code===wn.NoDataFromResolver)?this.restoreHistory(i):r instanceof vl?this.restoreHistory(i,!0):r instanceof Sr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof ii?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zs(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fl||{});function cR(t,e){t.events.pipe(St(n=>n instanceof Sr||n instanceof ri||n instanceof vl||n instanceof Gi),X(n=>n instanceof Sr||n instanceof Gi?fl.COMPLETE:(n instanceof ri?n.code===wn.Redirect||n.code===wn.SupersededByNewNavigation:!1)?fl.REDIRECTING:fl.FAILED),St(n=>n!==fl.REDIRECTING),fr(1)).subscribe(()=>{e()})}function Pq(t){throw t}var Fq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(Ma),this.stateManager=B(uR),this.options=B(xl,{optional:!0})||{},this.pendingTasks=B(Ta),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B($E),this.urlSerializer=B(Cl),this.location=B(Na),this.urlHandlingStrategy=B(BE),this._events=new ze,this.errorHandler=this.options.errorHandler||Pq,this.navigated=!1,this.routeReuseStrategy=B(Rq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(hm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(pm,{optional:!0}),this.eventsSubscription=new Xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ri&&i.code!==wn.Redirect&&i.code!==wn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Sr)this.navigated=!0;else if(i instanceof za){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=I({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Nq(s.source)},a);this.scheduleNavigation(u,ml,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}jq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ml,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=I({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":f=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=s?s.snapshot:this.routerState.snapshot.root;m=zN(g)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return qN(m,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ro(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ml,null,i)}navigate(r,i={skipLocationChange:!1}){return Lq(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},Fq):i===!1?s=I({},Vq):s=i,ro(r))return bN(this.currentUrlTree,r,s);let o=this.parseUrl(r);return bN(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,d;a?(u=a.resolve,l=a.reject,d=a.promise):d=new Promise((m,g)=>{u=m,l=g});let f=this.pendingTasks.add();return cR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ee(4008,!1)}function jq(t){return!(t instanceof wl)&&!(t instanceof za)}var pte=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ro(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Dx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:ro(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(de(Wi),de(io),Xw("tabindex"),de(Ir),de(Zn),de(ni))},e.\u0275dir=jt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Dr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Jc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xs],replaceUrl:[2,"replaceUrl","replaceUrl",Xs],routerLink:"routerLink"},standalone:!0,features:[__,Li]});let t=e;return t})();var fm=class{};var Uq=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(St(r=>r instanceof Sr),Vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=vp(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return ce(s).pipe(Ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=Y(null);let o=s.pipe(dt(a=>a===null?Y(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ce([o,a]).pipe(Ci())}else return o})}};e.\u0275fac=function(i){return new(i||e)(L(Wi),L(Ap),L(pn),L(fm),L(UE))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lR=new G(""),Bq=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ha?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Sr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Gi&&r.code===rm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof sm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Px()},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function $q(t){return t.routerState.root}function Ml(t,e){return{\u0275kind:t,\u0275providers:e}}function Hq(){let t=B(mn);return e=>{let n=t.get(Hi);if(e!==n.components[0])return;let r=t.get(Wi),i=t.get(dR);t.get(HE)===1&&r.initialNavigation(),t.get(hR,null,me.Optional)?.setUpPreloading(),t.get(lR,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dR=new G("",{factory:()=>new ze}),HE=new G("",{providedIn:"root",factory:()=>1});function zq(){return Ml(2,[{provide:HE,useValue:0},{provide:Sp,multi:!0,deps:[mn],useFactory:e=>{let n=e.get(jM,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Wi),s=e.get(dR);cR(i,()=>{r(!0)}),e.get($E).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}])}function qq(){return Ml(3,[{provide:Sp,multi:!0,useFactory:()=>{let e=B(Wi);return()=>{e.setUpLocationChangeListener()}}},{provide:HE,useValue:2}])}var hR=new G("");function Gq(t){return Ml(0,[{provide:hR,useExisting:Uq},{provide:fm,useExisting:t}])}function Wq(){return Ml(8,[AN,{provide:pm,useExisting:AN}])}function Kq(t){let e=[{provide:oR,useValue:Aq},{provide:aR,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ml(9,e)}var RN=new G("ROUTER_FORROOT_GUARD"),Qq=[Na,{provide:Cl,useClass:$a},Wi,Sl,{provide:io,useFactory:$q,deps:[Wi]},UE,[]],mte=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Qq,[],{provide:hm,multi:!0,useValue:r},{provide:RN,useFactory:Xq,deps:[[Wi,new Vi,new Zf]]},{provide:xl,useValue:i||{}},i?.useHash?Zq():Jq(),Yq(),i?.preloadingStrategy?Gq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?e9(i):[],i?.bindToComponentInputs?Wq().\u0275providers:[],i?.enableViewTransitions?Kq().\u0275providers:[],t9()]}}static forChild(r){return{ngModule:e,providers:[{provide:hm,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(L(RN,8))},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({});let t=e;return t})();function Yq(){return{provide:lR,useFactory:()=>{let t=B(KM),e=B(Ie),n=B(xl),r=B($E),i=B(Cl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Bq(i,r,t,e,n)}}}function Zq(){return{provide:ni,useClass:BM}}function Jq(){return{provide:ni,useClass:q_}}function Xq(t){return"guarded"}function e9(t){return[t.initialNavigation==="disabled"?qq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?zq().\u0275providers:[]]}var kN=new G("");function t9(){return[{provide:kN,useFactory:Hq},{provide:T_,multi:!0,useExisting:kN}]}var si=class extends Error{},gm=class extends si{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},ym=class extends si{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},vm=class extends si{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},er=class extends si{},Wa=class extends si{constructor(e){super(`Invalid unit ${e}`)}},nt=class extends si{},tr=class extends si{constructor(){super("Zone is an abstract class")}};var q="numeric",nr="short",_n="long",Qi={year:q,month:q,day:q},Nl={year:q,month:nr,day:q},zE={year:q,month:nr,day:q,weekday:nr},Rl={year:q,month:_n,day:q},kl={year:q,month:_n,day:q,weekday:_n},Ol={hour:q,minute:q},Pl={hour:q,minute:q,second:q},Fl={hour:q,minute:q,second:q,timeZoneName:nr},Vl={hour:q,minute:q,second:q,timeZoneName:_n},Ll={hour:q,minute:q,hourCycle:"h23"},jl={hour:q,minute:q,second:q,hourCycle:"h23"},Ul={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:nr},Bl={hour:q,minute:q,second:q,hourCycle:"h23",timeZoneName:_n},$l={year:q,month:q,day:q,hour:q,minute:q},Hl={year:q,month:q,day:q,hour:q,minute:q,second:q},zl={year:q,month:nr,day:q,hour:q,minute:q},ql={year:q,month:nr,day:q,hour:q,minute:q,second:q},qE={year:q,month:nr,day:q,weekday:nr,hour:q,minute:q},Gl={year:q,month:_n,day:q,hour:q,minute:q,timeZoneName:nr},Wl={year:q,month:_n,day:q,hour:q,minute:q,second:q,timeZoneName:nr},Kl={year:q,month:_n,day:q,weekday:_n,hour:q,minute:q,timeZoneName:_n},Ql={year:q,month:_n,day:q,weekday:_n,hour:q,minute:q,second:q,timeZoneName:_n};var En=class{get type(){throw new tr}get name(){throw new tr}get ianaName(){return this.name}get isUniversal(){throw new tr}offsetName(e,n){throw new tr}formatOffset(e,n){throw new tr}offset(e){throw new tr}equals(e){throw new tr}get isValid(){throw new tr}};var GE=null,so=class t extends En{static get instance(){return GE===null&&(GE=new t),GE}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _m(e,n,r)}formatOffset(e,n){return Yi(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var Im={};function n9(t){return Im[t]||(Im[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Im[t]}var r9={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function i9(t,e){let n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,a,u,l,d]=r;return[o,i,s,a,u,l,d]}function s9(t,e){let n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){let{type:s,value:o}=n[i],a=r9[s];s==="era"?r[a]=o:ie(a)||(r[a]=parseInt(o,10))}return r}var Em={},Xt=class t extends En{static create(e){return Em[e]||(Em[e]=new t(e)),Em[e]}static resetCache(){Em={},Im={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return _m(e,n,r,this.name)}formatOffset(e,n){return Yi(this.offset(e),n)}offset(e){let n=new Date(e);if(isNaN(n))return NaN;let r=n9(this.name),[i,s,o,a,u,l,d]=r.formatToParts?s9(r,n):i9(r,n);a==="BC"&&(i=-Math.abs(i)+1);let m=Ka({year:i,month:s,day:o,hour:u===24?0:u,minute:l,second:d,millisecond:0}),g=+n,w=g%1e3;return g-=w>=0?w:1e3+w,(m-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var fR={};function o9(t,e={}){let n=JSON.stringify([t,e]),r=fR[n];return r||(r=new Intl.ListFormat(t,e),fR[n]=r),r}var WE={};function KE(t,e={}){let n=JSON.stringify([t,e]),r=WE[n];return r||(r=new Intl.DateTimeFormat(t,e),WE[n]=r),r}var QE={};function a9(t,e={}){let n=JSON.stringify([t,e]),r=QE[n];return r||(r=new Intl.NumberFormat(t,e),QE[n]=r),r}var YE={};function u9(t,e={}){let o=e,{base:n}=o,r=Wy(o,["base"]),i=JSON.stringify([t,r]),s=YE[i];return s||(s=new Intl.RelativeTimeFormat(t,e),YE[i]=s),s}var Yl=null;function c9(){return Yl||(Yl=new Intl.DateTimeFormat().resolvedOptions().locale,Yl)}var pR={};function l9(t){let e=pR[t];if(!e){let n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,pR[t]=e}return e}function d9(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=KE(t).resolvedOptions(),i=t}catch{let u=t.substring(0,n);r=KE(u).resolvedOptions(),i=u}let{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function h9(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function f9(t){let e=[];for(let n=1;n<=12;n++){let r=ge.utc(2009,n,1);e.push(t(r))}return e}function p9(t){let e=[];for(let n=1;n<=7;n++){let r=ge.utc(2016,11,13+n);e.push(t(r))}return e}function Dm(t,e,n,r){let i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function m9(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var ZE=class{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let a=r,{padTo:i,floor:s}=a,o=Wy(a,["padTo","floor"]);if(!n||Object.keys(o).length>0){let u=I({useGrouping:!1},r);r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=a9(e,u)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):Qa(e,3);return Ye(n,this.padTo)}}},JE=class{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Xt.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let s=I({},this.opts);s.timeZone=s.timeZone||i,this.dtf=KE(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){let r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return z(I({},n),{value:r})}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},XE=class{constructor(e,n,r){this.opts=I({style:"long"},r),!n&&bm()&&(this.rtf=u9(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):mR(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},g9={firstDay:1,minimalDays:4,weekend:[6,7]},Me=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){let o=e||xe.defaultLocale,a=o||(s?"en-US":c9()),u=n||xe.defaultNumberingSystem,l=r||xe.defaultOutputCalendar,d=Zl(i)||xe.defaultWeekSettings;return new t(a,u,l,d,o)}static resetCache(){Yl=null,WE={},QE={},YE={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return t.create(e,n,r,i)}constructor(e,n,r,i,s){let[o,a,u]=d9(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=h9(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=m9(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Zl(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(z(I({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(z(I({},e),{defaultToEN:!1}))}months(e,n=!1){return Dm(this,e,eI,()=>{let r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=f9(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Dm(this,e,tI,()=>{let r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=p9(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Dm(this,void 0,()=>nI,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ge.utc(2016,11,13,9),ge.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Dm(this,e,rI,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ge.utc(-40,1,1),ge.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){let i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new ZE(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new JE(e,this.intl,n)}relFormatter(e={}){return new XE(this.intl,this.isEnglish(),e)}listFormatter(e={}){return o9(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Cm()?l9(this.locale):g9}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var sI=null,xt=class t extends En{static get utcInstance(){return sI===null&&(sI=new t(0)),sI}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(oo(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Yi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Yi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Yi(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var Jl=class extends En{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function rr(t,e){let n;if(ie(t)||t===null)return e;if(t instanceof En)return t;if(gR(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?so.instance:r==="utc"||r==="gmt"?xt.utcInstance:xt.parseSpecifier(r)||Xt.create(t)}else return ir(t)?xt.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Jl(t)}var oI={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},yR={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},y9=oI.hanidec.replace(/[\[|\]]/g,"").split("");function vR(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(t[n].search(oI.hanidec)!==-1)e+=y9.indexOf(t[n]);else for(let i in yR){let[s,o]=yR[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}var Ya={};function wR(){Ya={}}function On({numberingSystem:t},e=""){let n=t||"latn";return Ya[n]||(Ya[n]={}),Ya[n][e]||(Ya[n][e]=new RegExp(`${oI[n]}${e}`)),Ya[n][e]}var _R=()=>Date.now(),ER="system",IR=null,DR=null,bR=null,CR=60,TR,SR=null,xe=class{static get now(){return _R}static set now(e){_R=e}static set defaultZone(e){ER=e}static get defaultZone(){return rr(ER,so.instance)}static get defaultLocale(){return IR}static set defaultLocale(e){IR=e}static get defaultNumberingSystem(){return DR}static set defaultNumberingSystem(e){DR=e}static get defaultOutputCalendar(){return bR}static set defaultOutputCalendar(e){bR=e}static get defaultWeekSettings(){return SR}static set defaultWeekSettings(e){SR=Zl(e)}static get twoDigitCutoffYear(){return CR}static set twoDigitCutoffYear(e){CR=e%100}static get throwOnInvalid(){return TR}static set throwOnInvalid(e){TR=e}static resetCaches(){Me.resetCache(),Xt.resetCache(),ge.resetCache(),wR()}};var Mt=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var AR=[0,31,59,90,120,151,181,212,243,273,304,334],xR=[0,31,60,91,121,152,182,213,244,274,305,335];function Pn(t,e){return new Mt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Tm(t,e,n){let r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let i=r.getUTCDay();return i===0?7:i}function MR(t,e,n){return n+(uo(t)?xR:AR)[e-1]}function NR(t,e){let n=uo(t)?xR:AR,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Sm(t,e){return(t-e+7)%7+1}function Xl(t,e=4,n=1){let{year:r,month:i,day:s}=t,o=MR(r,i,s),a=Sm(Tm(r,i,s),n),u=Math.floor((o-a+14-e)/7),l;return u<1?(l=r-1,u=ao(l,e,n)):u>ao(r,e,n)?(l=r+1,u=1):l=r,I({weekYear:l,weekNumber:u,weekday:a},td(t))}function aI(t,e=4,n=1){let{weekYear:r,weekNumber:i,weekday:s}=t,o=Sm(Tm(r,1,e),n),a=Zi(r),u=i*7+s-o-7+e,l;u<1?(l=r-1,u+=Zi(l)):u>a?(l=r+1,u-=Zi(r)):l=r;let{month:d,day:f}=NR(l,u);return I({year:l,month:d,day:f},td(t))}function Am(t){let{year:e,month:n,day:r}=t,i=MR(e,n,r);return I({year:e,ordinal:i},td(t))}function uI(t){let{year:e,ordinal:n}=t,{month:r,day:i}=NR(e,n);return I({year:e,month:r,day:i},td(t))}function cI(t,e){if(!ie(t.localWeekday)||!ie(t.localWeekNumber)||!ie(t.localWeekYear)){if(!ie(t.weekday)||!ie(t.weekNumber)||!ie(t.weekYear))throw new er("Cannot mix locale-based week fields with ISO-based week fields");return ie(t.localWeekday)||(t.weekday=t.localWeekday),ie(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ie(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function RR(t,e=4,n=1){let r=ed(t.weekYear),i=In(t.weekNumber,1,ao(t.weekYear,e,n)),s=In(t.weekday,1,7);return r?i?s?!1:Pn("weekday",t.weekday):Pn("week",t.weekNumber):Pn("weekYear",t.weekYear)}function kR(t){let e=ed(t.year),n=In(t.ordinal,1,Zi(t.year));return e?n?!1:Pn("ordinal",t.ordinal):Pn("year",t.year)}function lI(t){let e=ed(t.year),n=In(t.month,1,12),r=In(t.day,1,Za(t.year,t.month));return e?n?r?!1:Pn("day",t.day):Pn("month",t.month):Pn("year",t.year)}function dI(t){let{hour:e,minute:n,second:r,millisecond:i}=t,s=In(e,0,23)||e===24&&n===0&&r===0&&i===0,o=In(n,0,59),a=In(r,0,59),u=In(i,0,999);return s?o?a?u?!1:Pn("millisecond",i):Pn("second",r):Pn("minute",n):Pn("hour",e)}function ie(t){return typeof t>"u"}function ir(t){return typeof t=="number"}function ed(t){return typeof t=="number"&&t%1===0}function gR(t){return typeof t=="string"}function PR(t){return Object.prototype.toString.call(t)==="[object Date]"}function bm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Cm(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function FR(t){return Array.isArray(t)?t:[t]}function hI(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{let s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function VR(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Ji(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zl(t){if(t==null)return null;if(typeof t!="object")throw new nt("Week settings must be an object");if(!In(t.firstDay,1,7)||!In(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!In(e,1,7)))throw new nt("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function In(t,e,n){return ed(t)&&t>=e&&t<=n}function v9(t,e){return t-e*Math.floor(t/e)}function Ye(t,e=2){let n=t<0,r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function oi(t){if(!(ie(t)||t===null||t===""))return parseInt(t,10)}function Xi(t){if(!(ie(t)||t===null||t===""))return parseFloat(t)}function nd(t){if(!(ie(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Qa(t,e,n=!1){let r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function uo(t){return t%4===0&&(t%100!==0||t%400===0)}function Zi(t){return uo(t)?366:365}function Za(t,e){let n=v9(e-1,12)+1,r=t+(e-n)/12;return n===2?uo(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ka(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function OR(t,e,n){return-Sm(Tm(t,1,e),n)+e-1}function ao(t,e=4,n=1){let r=OR(t,e,n),i=OR(t+1,e,n);return(Zi(t)-r+i)/7}function rd(t){return t>99?t:t>xe.twoDigitCutoffYear?1900+t:2e3+t}function _m(t,e,n,r=null){let i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);let o=I({timeZoneName:e},s),a=new Intl.DateTimeFormat(n,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return a?a.value:null}function oo(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);let r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function fI(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new nt(`Invalid unit value ${t}`);return e}function Ja(t,e){let n={};for(let r in t)if(Ji(t,r)){let i=t[r];if(i==null)continue;n[e(r)]=fI(i)}return n}function Yi(t,e){let n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ye(n,2)}:${Ye(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Ye(n,2)}${Ye(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function td(t){return VR(t,["hour","minute","second","millisecond"])}var w9=["January","February","March","April","May","June","July","August","September","October","November","December"],pI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_9=["J","F","M","A","M","J","J","A","S","O","N","D"];function eI(t){switch(t){case"narrow":return[..._9];case"short":return[...pI];case"long":return[...w9];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var mI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],E9=["M","T","W","T","F","S","S"];function tI(t){switch(t){case"narrow":return[...E9];case"short":return[...gI];case"long":return[...mI];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var nI=["AM","PM"],I9=["Before Christ","Anno Domini"],D9=["BC","AD"],b9=["B","A"];function rI(t){switch(t){case"narrow":return[...b9];case"short":return[...D9];case"long":return[...I9];default:return null}}function LR(t){return nI[t.hour<12?0:1]}function jR(t,e){return tI(e)[t.weekday-1]}function UR(t,e){return eI(e)[t.month-1]}function BR(t,e){return rI(e)[t.year<0?0:1]}function mR(t,e,n="always",r=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){let f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`;default:}}let o=Object.is(e,-0)||e<0,a=Math.abs(e),u=a===1,l=i[t],d=r?u?l[1]:l[2]||l[1]:u?i[t][0]:t;return o?`${a} ${d} ago`:`in ${a} ${d}`}function $R(t,e){let n="";for(let r of t)r.literal?n+=r.val:n+=e(r.val);return n}var C9={D:Qi,DD:Nl,DDD:Rl,DDDD:kl,t:Ol,tt:Pl,ttt:Fl,tttt:Vl,T:Ll,TT:jl,TTT:Ul,TTTT:Bl,f:$l,ff:zl,fff:Gl,ffff:Kl,F:Hl,FF:ql,FFF:Wl,FFFF:Ql},Nt=class t{static create(e,n={}){return new t(e,n)}static parseFormat(e){let n=null,r="",i=!1,s=[];for(let o=0;o<e.length;o++){let a=e.charAt(o);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||a===n?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,n=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return C9[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,I(I({},this.opts),n)).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,I(I({},this.opts),n))}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ye(e,n);let r=I({},this.opts);return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){let r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(g,w)=>this.loc.extract(e,g,w),o=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",a=()=>r?LR(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(g,w)=>r?UR(e,g):s(w?{month:g}:{month:g,day:"numeric"},"month"),l=(g,w)=>r?jR(e,g):s(w?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),d=g=>{let w=t.macroTokenToFormatOpts(g);return w?this.formatWithSystemDefault(e,w):g},f=g=>r?BR(e,g):s({era:g},"era"),m=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(g)}};return $R(t.parseFormat(n),m)}formatDurationFromString(e,n){let r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>l=>{let d=r(l);return d?this.num(u.get(d),l.length):l},s=t.parseFormat(n),o=s.reduce((u,{literal:l,val:d})=>l?u:u.concat(d),[]),a=e.shiftTo(...o.map(r).filter(u=>u));return $R(s,i(a))}};var zR=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function eu(...t){let e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function tu(...t){return e=>t.reduce(([n,r,i],s)=>{let[o,a,u]=s(e,i);return[I(I({},n),o),a||r,u]},[{},null,1]).slice(0,2)}function nu(t,...e){if(t==null)return[null,null];for(let[n,r]of e){let i=n.exec(t);if(i)return r(i)}return[null,null]}function qR(...t){return(e,n)=>{let r={},i;for(i=0;i<t.length;i++)r[t[i]]=oi(e[n+i]);return[r,null,n+i]}}var GR=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,T9=`(?:${GR.source}?(?:\\[(${zR.source})\\])?)?`,yI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,WR=RegExp(`${yI.source}${T9}`),vI=RegExp(`(?:T${WR.source})?`),S9=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,A9=/(\d{4})-?W(\d\d)(?:-?(\d))?/,x9=/(\d{4})-?(\d{3})/,M9=qR("weekYear","weekNumber","weekDay"),N9=qR("year","ordinal"),R9=/(\d{4})-(\d\d)-(\d\d)/,KR=RegExp(`${yI.source} ?(?:${GR.source}|(${zR.source}))?`),k9=RegExp(`(?: ${KR.source})?`);function Xa(t,e,n){let r=t[e];return ie(r)?n:oi(r)}function O9(t,e){return[{year:Xa(t,e),month:Xa(t,e+1,1),day:Xa(t,e+2,1)},null,e+3]}function ru(t,e){return[{hours:Xa(t,e,0),minutes:Xa(t,e+1,0),seconds:Xa(t,e+2,0),milliseconds:nd(t[e+3])},null,e+4]}function id(t,e){let n=!t[e]&&!t[e+1],r=oo(t[e+1],t[e+2]),i=n?null:xt.instance(r);return[{},i,e+3]}function sd(t,e){let n=t[e]?Xt.create(t[e]):null;return[{},n,e+1]}var P9=RegExp(`^T?${yI.source}$`),F9=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function V9(t){let[e,n,r,i,s,o,a,u,l]=t,d=e[0]==="-",f=u&&u[0]==="-",m=(g,w=!1)=>g!==void 0&&(w||g&&d)?-g:g;return[{years:m(Xi(n)),months:m(Xi(r)),weeks:m(Xi(i)),days:m(Xi(s)),hours:m(Xi(o)),minutes:m(Xi(a)),seconds:m(Xi(u),u==="-0"),milliseconds:m(nd(l),f)}]}var L9={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function wI(t,e,n,r,i,s,o){let a={year:e.length===2?rd(oi(e)):oi(e),month:pI.indexOf(n)+1,day:oi(r),hour:oi(i),minute:oi(s)};return o&&(a.second=oi(o)),t&&(a.weekday=t.length>3?mI.indexOf(t)+1:gI.indexOf(t)+1),a}var j9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function U9(t){let[,e,n,r,i,s,o,a,u,l,d,f]=t,m=wI(e,i,r,n,s,o,a),g;return u?g=L9[u]:l?g=0:g=oo(d,f),[m,new xt(g)]}function B9(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var $9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,H9=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,z9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function HR(t){let[,e,n,r,i,s,o,a]=t;return[wI(e,i,r,n,s,o,a),xt.utcInstance]}function q9(t){let[,e,n,r,i,s,o,a]=t;return[wI(e,a,n,r,i,s,o),xt.utcInstance]}var G9=eu(S9,vI),W9=eu(A9,vI),K9=eu(x9,vI),Q9=eu(WR),QR=tu(O9,ru,id,sd),Y9=tu(M9,ru,id,sd),Z9=tu(N9,ru,id,sd),J9=tu(ru,id,sd);function YR(t){return nu(t,[G9,QR],[W9,Y9],[K9,Z9],[Q9,J9])}function ZR(t){return nu(B9(t),[j9,U9])}function JR(t){return nu(t,[$9,HR],[H9,HR],[z9,q9])}function XR(t){return nu(t,[F9,V9])}var X9=tu(ru);function e1(t){return nu(t,[P9,X9])}var e6=eu(R9,k9),t6=eu(KR),n6=tu(ru,id,sd);function t1(t){return nu(t,[e6,QR],[t6,n6])}var n1="Invalid Duration",i1={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},r6=I({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},i1),Fn=146097/400,iu=146097/4800,i6=I({years:{quarters:4,months:12,weeks:Fn/7,days:Fn,hours:Fn*24,minutes:Fn*24*60,seconds:Fn*24*60*60,milliseconds:Fn*24*60*60*1e3},quarters:{months:3,weeks:Fn/28,days:Fn/4,hours:Fn*24/4,minutes:Fn*24*60/4,seconds:Fn*24*60*60/4,milliseconds:Fn*24*60*60*1e3/4},months:{weeks:iu/7,days:iu,hours:iu*24,minutes:iu*24*60,seconds:iu*24*60*60,milliseconds:iu*24*60*60*1e3}},i1),co=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],s6=co.slice(0).reverse();function es(t,e,n=!1){let r={values:n?e.values:I(I({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new rt(r)}function s1(t,e){let n=e.milliseconds??0;for(let r of s6.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function r1(t,e){let n=s1(t,e)<0?-1:1;co.reduceRight((r,i)=>{if(ie(e[i]))return r;if(r){let s=e[r]*n,o=t[i][r],a=Math.floor(s/o);e[i]+=a*n,e[r]-=a*o*n}return i},null),co.reduce((r,i)=>{if(ie(e[i]))return r;if(r){let s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function o6(t){let e={};for(let[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}var rt=class t{constructor(e){let n=e.conversionAccuracy==="longterm"||!1,r=n?i6:r6;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Me.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return t.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new nt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:Ja(e,t.normalizeUnit),loc:Me.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ir(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new nt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[r]=XR(e);return r?t.fromObject(r,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[r]=e1(e);return r?t.fromObject(r,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new nt("need to specify a reason the Duration is invalid");let r=e instanceof Mt?e:new Mt(e,n);if(xe.throwOnInvalid)throw new vm(r);return new t({invalid:r})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Wa(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let r=z(I({},n),{floor:n.round!==!1&&n.floor!==!1});return this.isValid?Nt.create(this.loc,r).formatDurationFromString(this,e):n1}toHuman(e={}){if(!this.isValid)return n1;let n=co.map(r=>{let i=this.values[r];return ie(i)?null:this.loc.numberFormatter(z(I({style:"unit",unitDisplay:"long"},e),{unit:r.slice(0,-1)})).format(i)}).filter(r=>r);return this.loc.listFormatter(I({type:"conjunction",style:e.listStyle||"narrow"},e)).format(n)}toObject(){return this.isValid?I({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Qa(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();return n<0||n>=864e5?null:(e=z(I({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{includeOffset:!1}),ge.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?s1(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e),r={};for(let i of co)(Ji(n.values,i)||Ji(this.values,i))&&(r[i]=n.get(i)+this.get(i));return es(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let r of Object.keys(this.values))n[r]=fI(e(this.values[r],r));return es(this,{values:n},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n=I(I({},this.values),Ja(e,t.normalizeUnit));return es(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return es(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return r1(this.matrix,e),es(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=o6(this.normalize().shiftToAll().toObject());return es(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>t.normalizeUnit(o));let n={},r={},i=this.toObject(),s;for(let o of co)if(e.indexOf(o)>=0){s=o;let a=0;for(let l in r)a+=this.matrix[l][o]*r[l],r[l]=0;ir(i[o])&&(a+=i[o]);let u=Math.trunc(a);n[o]=u,r[o]=(a*1e3-u*1e3)/1e3}else ir(i[o])&&(r[o]=i[o]);for(let o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return r1(this.matrix,n),es(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return es(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(let r of co)if(!n(this.values[r],e.values[r]))return!1;return!0}};var su="Invalid Interval";function a6(t,e){return!t||!t.isValid?ts.invalid("missing or invalid start"):!e||!e.isValid?ts.invalid("missing or invalid end"):e<t?ts.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var ts=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new nt("need to specify a reason the Interval is invalid");let r=e instanceof Mt?e:new Mt(e,n);if(xe.throwOnInvalid)throw new ym(r);return new t({invalid:r})}static fromDateTimes(e,n){let r=ou(e),i=ou(n),s=a6(r,i);return s??new t({start:r,end:i})}static after(e,n){let r=rt.fromDurationLike(n),i=ou(e);return t.fromDateTimes(i,i.plus(r))}static before(e,n){let r=rt.fromDurationLike(n),i=ou(e);return t.fromDateTimes(i.minus(r),i)}static fromISO(e,n){let[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=ge.fromISO(r,n),o=s.isValid}catch{o=!1}let a,u;try{a=ge.fromISO(i,n),u=a.isValid}catch{u=!1}if(o&&u)return t.fromDateTimes(s,a);if(o){let l=rt.fromISO(i,n);if(l.isValid)return t.after(s,l)}else if(u){let l=rt.fromISO(r,n);if(l.isValid)return t.before(a,l)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;let r=this.start.startOf(e,n),i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?t.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map(ou).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[],{s:i}=this,s=0;for(;i<this.e;){let o=n[s]||this.e,a=+o>+this.e?this.e:o;r.push(t.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(e){let n=rt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s,o=[];for(;r<this.e;){let a=this.start.plus(n.mapUnits(u=>u*i));s=+a>+this.e?this.e:a,o.push(t.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:t.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return t.fromDateTimes(n,r)}static merge(e){let[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0,i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((u,l)=>u.time-l.time);for(let u of a)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(t.fromDateTimes(n,u.time)),n=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:su}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Qi,n={}){return this.isValid?Nt.create(this.s.loc.clone(n),e).formatInterval(this):su}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:su}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:su}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:su}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:su}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):rt.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}};var ns=class{static hasDST(e=xe.defaultZone){let n=ge.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Xt.isValidZone(e)}static normalizeZone(e){return rr(e,xe.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Me.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Me.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Me.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Me.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Me.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Me.create(n,null,"gregory").eras(e)}static features(){return{relative:bm(),localeWeek:Cm()}}};function o1(t,e){let n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(rt.fromMillis(r).as("days"))}function u6(t,e,n){let r=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let d=o1(u,l);return(d-d%7)/7}],["days",o1]],i={},s=t,o,a;for(let[u,l]of r)n.indexOf(u)>=0&&(o=u,i[u]=l(t,e),a=s.plus(i),a>e?(i[u]--,t=s.plus(i),t>e&&(a=t,i[u]--,t=s.plus(i))):t=a);return[t,i,a,o]}function a1(t,e,n,r){let[i,s,o,a]=u6(t,e,n),u=e-i,l=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);l.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+u/(o-i)));let d=rt.fromObject(s,r);return l.length>0?rt.fromMillis(u,r).shiftTo(...l).plus(d):d}var c6="missing Intl.DateTimeFormat.formatToParts support";function Ne(t,e=n=>n){return{regex:t,deser:([n])=>e(vR(n))}}var l6="\xA0",l1=`[ ${l6}]`,d1=new RegExp(l1,"g");function d6(t){return t.replace(/\./g,"\\.?").replace(d1,l1)}function u1(t){return t.replace(/\./g,"").replace(d1," ").toLowerCase()}function sr(t,e){return t===null?null:{regex:RegExp(t.map(d6).join("|")),deser:([n])=>t.findIndex(r=>u1(n)===u1(r))+e}}function c1(t,e){return{regex:t,deser:([,n,r])=>oo(n,r),groups:e}}function xm(t){return{regex:t,deser:([e])=>e}}function h6(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f6(t,e){let n=On(e),r=On(e,"{2}"),i=On(e,"{3}"),s=On(e,"{4}"),o=On(e,"{6}"),a=On(e,"{1,2}"),u=On(e,"{1,3}"),l=On(e,"{1,6}"),d=On(e,"{1,9}"),f=On(e,"{2,4}"),m=On(e,"{4,6}"),g=T=>({regex:RegExp(h6(T.val)),deser:([O])=>O,literal:!0}),C=(T=>{if(t.literal)return g(T);switch(T.val){case"G":return sr(e.eras("short"),0);case"GG":return sr(e.eras("long"),0);case"y":return Ne(l);case"yy":return Ne(f,rd);case"yyyy":return Ne(s);case"yyyyy":return Ne(m);case"yyyyyy":return Ne(o);case"M":return Ne(a);case"MM":return Ne(r);case"MMM":return sr(e.months("short",!0),1);case"MMMM":return sr(e.months("long",!0),1);case"L":return Ne(a);case"LL":return Ne(r);case"LLL":return sr(e.months("short",!1),1);case"LLLL":return sr(e.months("long",!1),1);case"d":return Ne(a);case"dd":return Ne(r);case"o":return Ne(u);case"ooo":return Ne(i);case"HH":return Ne(r);case"H":return Ne(a);case"hh":return Ne(r);case"h":return Ne(a);case"mm":return Ne(r);case"m":return Ne(a);case"q":return Ne(a);case"qq":return Ne(r);case"s":return Ne(a);case"ss":return Ne(r);case"S":return Ne(u);case"SSS":return Ne(i);case"u":return xm(d);case"uu":return xm(a);case"uuu":return Ne(n);case"a":return sr(e.meridiems(),0);case"kkkk":return Ne(s);case"kk":return Ne(f,rd);case"W":return Ne(a);case"WW":return Ne(r);case"E":case"c":return Ne(n);case"EEE":return sr(e.weekdays("short",!1),1);case"EEEE":return sr(e.weekdays("long",!1),1);case"ccc":return sr(e.weekdays("short",!0),1);case"cccc":return sr(e.weekdays("long",!0),1);case"Z":case"ZZ":return c1(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return c1(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return xm(/[a-z_+-/]{1,256}?/i);case" ":return xm(/[^\S\n\r]/);default:return g(T)}})(t)||{invalidReason:c6};return C.token=t,C}var p6={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function m6(t,e,n){let{type:r,value:i}=t;if(r==="literal"){let u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}let s=e[r],o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=p6[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function g6(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function y6(t,e,n){let r=t.match(e);if(r){let i={},s=1;for(let o in n)if(Ji(n,o)){let a=n[o],u=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function v6(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,r;return ie(t.z)||(n=Xt.create(t.z)),ie(t.Z)||(n||(n=new xt(t.Z)),r=t.Z),ie(t.q)||(t.M=(t.q-1)*3+1),ie(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ie(t.u)||(t.S=nd(t.u)),[Object.keys(t).reduce((s,o)=>{let a=e(o);return a&&(s[a]=t[o]),s},{}),n,r]}var _I=null;function w6(){return _I||(_I=ge.fromMillis(1555555555555)),_I}function _6(t,e){if(t.literal)return t;let n=Nt.macroTokenToFormatOpts(t.val),r=DI(n,e);return r==null||r.includes(void 0)?t:r}function EI(t,e){return Array.prototype.concat(...t.map(n=>_6(n,e)))}var od=class{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=EI(Nt.parseFormat(n),e),this.units=this.tokens.map(r=>f6(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){let[r,i]=g6(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){let[n,r]=y6(e,this.regex,this.handlers),[i,s,o]=r?v6(r):[null,null,void 0];if(Ji(r,"a")&&Ji(r,"H"))throw new er("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function II(t,e,n){return new od(t,n).explainFromTokens(e)}function h1(t,e,n){let{result:r,zone:i,specificOffset:s,invalidReason:o}=II(t,e,n);return[r,i,s,o]}function DI(t,e){if(!t)return null;let r=Nt.create(e,t).dtFormatter(w6()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>m6(o,t,s))}var bI="Invalid DateTime",f1=864e13;function ad(t){return new Mt("unsupported zone",`the zone "${t.name}" is not supported`)}function CI(t){return t.weekData===null&&(t.weekData=Xl(t.c)),t.weekData}function TI(t){return t.localWeekData===null&&(t.localWeekData=Xl(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function lo(t,e){let n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ge(z(I(I({},n),e),{old:n}))}function _1(t,e,n){let r=t-e*60*1e3,i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;let s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Mm(t,e){t+=e*60*1e3;let n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Rm(t,e,n){return _1(Ka(t),e,n)}function p1(t,e){let n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=z(I({},t.c),{year:r,month:i,day:Math.min(t.c.day,Za(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=rt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Ka(s),[u,l]=_1(a,n,t.zone);return o!==0&&(u+=o,l=t.zone.offset(u)),{ts:u,o:l}}function au(t,e,n,r,i,s){let{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){let u=e||a,l=ge.fromObject(t,z(I({},n),{zone:u,specificOffset:s}));return o?l:l.setZone(a)}else return ge.invalid(new Mt("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Nm(t,e,n=!0){return t.isValid?Nt.create(Me.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function SI(t,e){let n=t.c.year>9999||t.c.year<0,r="";return n&&t.c.year>=0&&(r+="+"),r+=Ye(t.c.year,n?6:4),e?(r+="-",r+=Ye(t.c.month),r+="-",r+=Ye(t.c.day)):(r+=Ye(t.c.month),r+=Ye(t.c.day)),r}function m1(t,e,n,r,i,s){let o=Ye(t.c.hour);return e?(o+=":",o+=Ye(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Ye(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Ye(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Ye(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Ye(Math.trunc(-t.o/60)),o+=":",o+=Ye(Math.trunc(-t.o%60))):(o+="+",o+=Ye(Math.trunc(t.o/60)),o+=":",o+=Ye(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}var E1={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},E6={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},I6={ordinal:1,hour:0,minute:0,second:0,millisecond:0},I1=["year","month","day","hour","minute","second","millisecond"],D6=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],b6=["year","ordinal","hour","minute","second","millisecond"];function C6(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Wa(t);return e}function g1(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return C6(t)}}function T6(t){return Om[t]||(km===void 0&&(km=xe.now()),Om[t]=t.offset(km)),Om[t]}function y1(t,e){let n=rr(e.zone,xe.defaultZone);if(!n.isValid)return ge.invalid(ad(n));let r=Me.fromObject(e),i,s;if(ie(t.year))i=xe.now();else{for(let u of I1)ie(t[u])&&(t[u]=E1[u]);let o=lI(t)||dI(t);if(o)return ge.invalid(o);let a=T6(n);[i,s]=Rm(t,a,n)}return new ge({ts:i,zone:n,loc:r,o:s})}function v1(t,e,n){let r=ie(n.round)?!0:n.round,i=(o,a)=>(o=Qa(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(let o of n.units){let a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function w1(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}var km,Om={},ge=class t{constructor(e){let n=e.zone||xe.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new Mt("invalid input"):null)||(n.isValid?null:ad(n));this.ts=ie(e.ts)?xe.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{let a=ir(e.o)&&!e.old?e.o:n.offset(this.ts);i=Mm(this.ts,a),r=Number.isNaN(i.year)?new Mt("invalid input"):null,i=r?null:i,s=r?null:a}this._zone=n,this.loc=e.loc||Me.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,n]=w1(arguments),[r,i,s,o,a,u,l]=n;return y1({year:r,month:i,day:s,hour:o,minute:a,second:u,millisecond:l},e)}static utc(){let[e,n]=w1(arguments),[r,i,s,o,a,u,l]=n;return e.zone=xt.utcInstance,y1({year:r,month:i,day:s,hour:o,minute:a,second:u,millisecond:l},e)}static fromJSDate(e,n={}){let r=PR(e)?e.valueOf():NaN;if(Number.isNaN(r))return t.invalid("invalid input");let i=rr(n.zone,xe.defaultZone);return i.isValid?new t({ts:r,zone:i,loc:Me.fromObject(n)}):t.invalid(ad(i))}static fromMillis(e,n={}){if(ir(e))return e<-f1||e>f1?t.invalid("Timestamp out of range"):new t({ts:e,zone:rr(n.zone,xe.defaultZone),loc:Me.fromObject(n)});throw new nt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ir(e))return new t({ts:e*1e3,zone:rr(n.zone,xe.defaultZone),loc:Me.fromObject(n)});throw new nt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let r=rr(n.zone,xe.defaultZone);if(!r.isValid)return t.invalid(ad(r));let i=Me.fromObject(n),s=Ja(e,g1),{minDaysInFirstWeek:o,startOfWeek:a}=cI(s,i),u=xe.now(),l=ie(n.specificOffset)?r.offset(u):n.specificOffset,d=!ie(s.ordinal),f=!ie(s.year),m=!ie(s.month)||!ie(s.day),g=f||m,w=s.weekYear||s.weekNumber;if((g||d)&&w)throw new er("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new er("Can't mix ordinal dates with month/day");let C=w||s.weekday&&!g,T,O,j=Mm(u,l);C?(T=D6,O=E6,j=Xl(j,o,a)):d?(T=b6,O=I6,j=Am(j)):(T=I1,O=E1);let P=!1;for(let b of T){let S=s[b];ie(S)?P?s[b]=O[b]:s[b]=j[b]:P=!0}let K=C?RR(s,o,a):d?kR(s):lI(s),J=K||dI(s);if(J)return t.invalid(J);let ne=C?aI(s,o,a):d?uI(s):s,[D,v]=Rm(ne,l,r),_=new t({ts:D,zone:r,o:v,loc:i});return s.weekday&&g&&e.weekday!==_.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${_.toISO()}`):_.isValid?_:t.invalid(_.invalid)}static fromISO(e,n={}){let[r,i]=YR(e);return au(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[r,i]=ZR(e);return au(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[r,i]=JR(e);return au(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ie(e)||ie(n))throw new nt("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:s=null}=r,o=Me.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,u,l,d]=h1(o,e,n);return d?t.invalid(d):au(a,u,r,`format ${n}`,e,l)}static fromString(e,n,r={}){return t.fromFormat(e,n,r)}static fromSQL(e,n={}){let[r,i]=t1(e);return au(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new nt("need to specify a reason the DateTime is invalid");let r=e instanceof Mt?e:new Mt(e,n);if(xe.throwOnInvalid)throw new gm(r);return new t({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){let r=DI(e,Me.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return EI(Nt.parseFormat(e),Me.fromObject(n)).map(i=>i.val).join("")}static resetCache(){km=void 0,Om={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?CI(this).weekYear:NaN}get weekNumber(){return this.isValid?CI(this).weekNumber:NaN}get weekday(){return this.isValid?CI(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?TI(this).weekday:NaN}get localWeekNumber(){return this.isValid?TI(this).weekNumber:NaN}get localWeekYear(){return this.isValid?TI(this).weekYear:NaN}get ordinal(){return this.isValid?Am(this.c).ordinal:NaN}get monthShort(){return this.isValid?ns.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ns.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ns.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ns.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,n=6e4,r=Ka(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),a=this.zone.offset(r-s*n);if(o===a)return[this];let u=r-o*n,l=r-a*n,d=Mm(u,o),f=Mm(l,a);return d.hour===f.hour&&d.minute===f.minute&&d.second===f.second&&d.millisecond===f.millisecond?[lo(this,{ts:u}),lo(this,{ts:l})]:[this]}get isInLeapYear(){return uo(this.year)}get daysInMonth(){return Za(this.year,this.month)}get daysInYear(){return this.isValid?Zi(this.year):NaN}get weeksInWeekYear(){return this.isValid?ao(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ao(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:r,calendar:i}=Nt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(xt.instance(e),n)}toLocal(){return this.setZone(xe.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=rr(e,xe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){let s=e.offset(this.ts),o=this.toObject();[i]=Rm(o,s,e)}return lo(this,{ts:i,zone:e})}else return t.invalid(ad(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){let i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return lo(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=Ja(e,g1),{minDaysInFirstWeek:r,startOfWeek:i}=cI(n,this.loc),s=!ie(n.weekYear)||!ie(n.weekNumber)||!ie(n.weekday),o=!ie(n.ordinal),a=!ie(n.year),u=!ie(n.month)||!ie(n.day),l=a||u,d=n.weekYear||n.weekNumber;if((l||o)&&d)throw new er("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new er("Can't mix ordinal dates with month/day");let f;s?f=aI(I(I({},Xl(this.c,r,i)),n),r,i):ie(n.ordinal)?(f=I(I({},this.toObject()),n),ie(n.day)&&(f.day=Math.min(Za(f.year,f.month),f.day))):f=uI(I(I({},Am(this.c)),n));let[m,g]=Rm(f,this.o,this.zone);return lo(this,{ts:m,o:g})}plus(e){if(!this.isValid)return this;let n=rt.fromDurationLike(e);return lo(this,p1(this,n))}minus(e){if(!this.isValid)return this;let n=rt.fromDurationLike(e).negate();return lo(this,p1(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;let r={},i=rt.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break;case"milliseconds":break}if(i==="weeks")if(n){let s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){let s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Nt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):bI}toLocaleString(e=Qi,n={}){return this.isValid?Nt.create(this.loc.clone(n),e).formatDateTime(this):bI}toLocaleParts(e={}){return this.isValid?Nt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let o=e==="extended",a=SI(this,o);return a+="T",a+=m1(this,o,n,r,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?SI(this,e==="extended"):null}toISOWeekDate(){return Nm(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+m1(this,o==="extended",n,e,r,s):null}toRFC2822(){return Nm(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Nm(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?SI(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Nm(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():bI}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n=I({},this.c);return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return rt.invalid("created by diffing an invalid DateTime");let i=I({locale:this.locale,numberingSystem:this.numberingSystem},r),s=FR(n).map(rt.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,u=o?e:this,l=a1(a,u,s,i);return o?l.negate():l}diffNow(e="milliseconds",n={}){return this.diff(t.now(),e,n)}until(e){return this.isValid?ts.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;let i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||t.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),v1(n,this.plus(r),z(I({},e),{numeric:"always",units:i,unit:s}))}toRelativeCalendar(e={}){return this.isValid?v1(e.base||t.fromObject({},{zone:this.zone}),this,z(I({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(t.isDateTime))throw new nt("min requires all arguments be DateTimes");return hI(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new nt("max requires all arguments be DateTimes");return hI(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){let{locale:i=null,numberingSystem:s=null}=r,o=Me.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return II(o,e,n)}static fromStringExplain(e,n,r={}){return t.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){let{locale:r=null,numberingSystem:i=null}=n,s=Me.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new od(s,e)}static fromFormatParser(e,n,r={}){if(ie(e)||ie(n))throw new nt("fromFormatParser requires an input string and a format parser");let{locale:i=null,numberingSystem:s=null}=r,o=Me.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new nt(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);let{result:a,zone:u,specificOffset:l,invalidReason:d}=n.explainFromTokens(e);return d?t.invalid(d):au(a,u,r,`format ${n.format}`,e,l)}static get DATE_SHORT(){return Qi}static get DATE_MED(){return Nl}static get DATE_MED_WITH_WEEKDAY(){return zE}static get DATE_FULL(){return Rl}static get DATE_HUGE(){return kl}static get TIME_SIMPLE(){return Ol}static get TIME_WITH_SECONDS(){return Pl}static get TIME_WITH_SHORT_OFFSET(){return Fl}static get TIME_WITH_LONG_OFFSET(){return Vl}static get TIME_24_SIMPLE(){return Ll}static get TIME_24_WITH_SECONDS(){return jl}static get TIME_24_WITH_SHORT_OFFSET(){return Ul}static get TIME_24_WITH_LONG_OFFSET(){return Bl}static get DATETIME_SHORT(){return $l}static get DATETIME_SHORT_WITH_SECONDS(){return Hl}static get DATETIME_MED(){return zl}static get DATETIME_MED_WITH_SECONDS(){return ql}static get DATETIME_MED_WITH_WEEKDAY(){return qE}static get DATETIME_FULL(){return Gl}static get DATETIME_FULL_WITH_SECONDS(){return Wl}static get DATETIME_HUGE(){return Kl}static get DATETIME_HUGE_WITH_SECONDS(){return Ql}};function ou(t){if(ge.isDateTime(t))return t;if(t&&t.valueOf&&ir(t.valueOf()))return ge.fromJSDate(t);if(t&&typeof t=="object")return ge.fromObject(t);throw new nt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Pm=(r=>(r.DAY="day",r.WEEK="week",r.MONTH="month",r))(Pm||{});var Fm=class t{initialValue={start:ge.now().startOf("day"),finish:ge.now().endOf("day"),display:"\u0441\u0435\u0433\u043E\u0434\u043D\u044F",mode:"day"};dateFrameSubject=new wt(this.initialValue);dateFrame$=this.dateFrameSubject.asObservable();setDateFrame(e){this.dateFrameSubject.next(e)}getCurrentDateFrame(){return this.dateFrameSubject.value}refreshDateFrame(){this.dateFrameSubject.next(this.initialValue)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var AI=(t,e)=>e.start,xI=t=>({"statistics-period-button-active":t});function A6(t,e){if(t&1&&(Zr(0,"option"),Ip(1),Jr()),t&2){let n=e.$implicit;Er(),xa(" ",n.display," ")}}function x6(t,e){if(t&1&&(Zr(0,"option"),Ip(1),Jr()),t&2){let n=e.$implicit;Er(),xa(" ",n.display," ")}}function M6(t,e){if(t&1&&(Zr(0,"option"),Ip(1),Jr()),t&2){let n=e.$implicit;Er(),xa(" ",n.display," ")}}var D1=class t{constructor(e){this.dateFilterService=e}changeDateFrameEvent=new st;Mode=Pm;pastDays=[];pastWeeks=[];pastMonths=[];currentFrame={start:ge.now().startOf("day"),finish:ge.now().endOf("day"),display:"\u0441\u0435\u0433\u043E\u0434\u043D\u044F",mode:"day"};ngOnInit(){let e=ge.now(),n=e.startOf("week"),r=e.startOf("month");for(let i=0;i<31;i++)this.pastDays.push({start:e.minus({days:i}).startOf("day"),finish:e.minus({days:i}).endOf("day"),display:e.minus({days:i}).setLocale("ru").toFormat("d MMMM"),mode:"day"});for(let i=0;i<5;i++)this.pastWeeks.push({start:n.minus({weeks:i}),finish:n.minus({weeks:i}).endOf("week"),display:n.minus({weeks:i}).setLocale("ru").toFormat("d MMMM")+" - "+n.minus({weeks:i}).endOf("week").setLocale("ru").toFormat("d MMMM"),mode:"week"});for(let i=0;i<12;i++)this.pastMonths.push({start:r.minus({months:i}),finish:r.minus({months:i}).endOf("month"),display:r.minus({months:i}).setLocale("ru").toFormat("LLLL"),mode:"month"})}updateDateFrameEvent(e){this.currentFrame=e,this.dateFilterService.setDateFrame(this.currentFrame),this.changeDateFrameEvent.emit()}selectChange(e,n){let r=e.target.value,i;switch(n){case"day":i=this.pastDays.filter(s=>s.display===r)[0];break;case"week":i=this.pastWeeks.filter(s=>s.display===r)[0];break;case"month":i=this.pastMonths.filter(s=>s.display===r)[0];break}this.updateDateFrameEvent(i)}static \u0275fac=function(n){return new(n||t)(de(Fm))};static \u0275cmp=Yc({type:t,selectors:[["app-date-filter"]],outputs:{changeDateFrameEvent:"changeDateFrameEvent"},standalone:!0,features:[el],decls:10,vars:9,consts:[[1,"statistics-period"],[1,"statistics-period-button","'statistics-period-button-active'",3,"change","ngClass"],[1,"statistics-period-button",3,"change","ngClass"]],template:function(n,r){n&1&&(Zr(0,"div",0)(1,"select",1),Dr("change",function(s){return r.selectChange(s,r.Mode.DAY)}),_p(2,A6,2,1,"option",null,AI),Jr(),Zr(4,"select",2),Dr("change",function(s){return r.selectChange(s,r.Mode.WEEK)}),_p(5,x6,2,1,"option",null,AI),Jr(),Zr(7,"select",2),Dr("change",function(s){return r.selectChange(s,r.Mode.MONTH)}),_p(8,M6,2,1,"option",null,AI),Jr()()),n&2&&(Er(),Xc("ngClass",bp(3,xI,r.currentFrame.mode===r.Mode.DAY)),Er(),Ep(r.pastDays),Er(2),Xc("ngClass",bp(5,xI,r.currentFrame.mode===r.Mode.WEEK)),Er(),Ep(r.pastWeeks),Er(2),Xc("ngClass",bp(7,xI,r.currentFrame.mode===r.Mode.MONTH)),Er(),Ep(r.pastMonths))},dependencies:[Hp,GM],styles:[".statistics-period[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:.5rem;margin-bottom:20px}.statistics-period-button[_ngcontent-%COMP%]{margin:0 10px;padding:5px 10px;font-size:.9rem;font-family:Montserrat,sans-serif;border:1px solid #e0e0e0;border-radius:5px;background-color:transparent;cursor:pointer}.statistics-period-button-button-active[_ngcontent-%COMP%]{background-color:#f8d7da;border:#f8d7da 1px solid}"]})};var b1=()=>{},YI={},K1={},Q1=null,Y1={mark:b1,measure:b1};try{typeof window<"u"&&(YI=window),typeof document<"u"&&(K1=document),typeof MutationObserver<"u"&&(Q1=MutationObserver),typeof performance<"u"&&(Y1=performance)}catch{}var{userAgent:C1=""}=YI.navigator||{},ss=YI,$e=K1,T1=Q1,Vm=Y1,qre=!!ss.document,ci=!!$e.documentElement&&!!$e.head&&typeof $e.addEventListener=="function"&&typeof $e.createElement=="function",Z1=~C1.indexOf("MSIE")||~C1.indexOf("Trident/"),qe="classic",J1="duotone",Dn="sharp",bn="sharp-duotone",N6=[qe,J1,Dn,bn],R6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},S1={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},k6=["kit"],O6=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,P6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,F6={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},V6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},L6={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},j6={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},U6={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},B6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},X1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},$6=["solid","regular","light","thin","duotone","brands"],ek=[1,2,3,4,5,6,7,8,9,10],H6=ek.concat([11,12,13,14,15,16,17,18,19,20]),ud={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},z6=[...Object.keys(j6),...$6,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ud.GROUP,ud.SWAP_OPACITY,ud.PRIMARY,ud.SECONDARY].concat(ek.map(t=>"".concat(t,"x"))).concat(H6.map(t=>"w-".concat(t))),q6={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},G6={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},W6={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},A1={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ai="___FONT_AWESOME___",PI=16,tk="fa",nk="svg-inline--fa",mo="data-fa-i2svg",FI="data-fa-pseudo-element",K6="data-fa-pseudo-element-pending",ZI="data-prefix",JI="data-icon",x1="fontawesome-i2svg",Q6="async",Y6=["HTML","HEAD","STYLE","SCRIPT"],rk=(()=>{try{return!0}catch{return!1}})(),ik=[qe,Dn,bn];function pd(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[qe]}})}var sk=I({},X1);sk[qe]=I(I(I({},X1[qe]),S1.kit),S1["kit-duotone"]);var fo=pd(sk),VI=I({},B6);VI[qe]=I(I(I({},VI[qe]),A1.kit),A1["kit-duotone"]);var hd=pd(VI),LI=I({},U6);LI[qe]=I(I({},LI[qe]),W6.kit);var po=pd(LI),jI=I({},L6);jI[qe]=I(I({},jI[qe]),G6.kit);var Z6=pd(jI),J6=O6,ok="fa-layers-text",X6=P6,e3=I({},R6),Gre=pd(e3),t3=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],MI=ud,lu=new Set;Object.keys(hd[qe]).map(lu.add.bind(lu));Object.keys(hd[Dn]).map(lu.add.bind(lu));Object.keys(hd[bn]).map(lu.add.bind(lu));var n3=[...k6,...z6],ld=ss.FontAwesomeConfig||{};function r3(t){var e=$e.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function i3(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}$e&&typeof $e.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=i3(r3(n));i!=null&&(ld[r]=i)});var ak={styleDefault:"solid",familyDefault:"classic",cssPrefix:tk,replacementClass:nk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ld.familyPrefix&&(ld.cssPrefix=ld.familyPrefix);var du=I(I({},ak),ld);du.autoReplaceSvg||(du.observeMutations=!1);var Z={};Object.keys(ak).forEach(t=>{Object.defineProperty(Z,t,{enumerable:!0,set:function(e){du[t]=e,dd.forEach(n=>n(Z))},get:function(){return du[t]}})});Object.defineProperty(Z,"familyPrefix",{enumerable:!0,set:function(t){du.cssPrefix=t,dd.forEach(e=>e(Z))},get:function(){return du.cssPrefix}});ss.FontAwesomeConfig=Z;var dd=[];function s3(t){return dd.push(t),()=>{dd.splice(dd.indexOf(t),1)}}var rs=PI,Ar={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function o3(t){if(!t||!ci)return;let e=$e.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=$e.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return $e.head.insertBefore(e,r),t}var a3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function fd(){let t=12,e="";for(;t-- >0;)e+=a3[Math.random()*62|0];return e}function hu(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function XI(t){return t.classList?hu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function uk(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u3(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(uk(t[n]),'" '),"").trim()}function $m(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function eD(t){return t.size!==Ar.size||t.x!==Ar.x||t.y!==Ar.y||t.rotate!==Ar.rotate||t.flipX||t.flipY}function c3(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:l}}function l3(t){let{transform:e,width:n=PI,height:r=PI,startCentered:i=!1}=t,s="";return i&&Z1?s+="translate(".concat(e.x/rs-n/2,"em, ").concat(e.y/rs-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/rs,"em), calc(-50% + ").concat(e.y/rs,"em)) "):s+="translate(".concat(e.x/rs,"em, ").concat(e.y/rs,"em) "),s+="scale(".concat(e.size/rs*(e.flipX?-1:1),", ").concat(e.size/rs*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var d3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function ck(){let t=tk,e=nk,n=Z.cssPrefix,r=Z.replacementClass,i=d3;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var M1=!1;function NI(){Z.autoAddCss&&!M1&&(o3(ck()),M1=!0)}var h3={mixout(){return{dom:{css:ck,insertCss:NI}}},hooks(){return{beforeDOMElementCreation(){NI()},beforeI2svg(){NI()}}}},ui=ss||{};ui[ai]||(ui[ai]={});ui[ai].styles||(ui[ai].styles={});ui[ai].hooks||(ui[ai].hooks={});ui[ai].shims||(ui[ai].shims=[]);var xr=ui[ai],lk=[],dk=function(){$e.removeEventListener("DOMContentLoaded",dk),Um=1,lk.map(t=>t())},Um=!1;ci&&(Um=($e.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($e.readyState),Um||$e.addEventListener("DOMContentLoaded",dk));function f3(t){ci&&(Um?setTimeout(t,0):lk.push(t))}function md(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?uk(t):"<".concat(e," ").concat(u3(n),">").concat(r.map(md).join(""),"</").concat(e,">")}function N1(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var p3=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},RI=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?p3(n,i):n,u,l,d;for(r===void 0?(u=1,d=e[s[0]]):(u=0,d=r);u<o;u++)l=s[u],d=a(d,e[l],l,e);return d};function m3(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function UI(t){let e=m3(t);return e.length===1?e[0].toString(16):null}function g3(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function R1(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function BI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=R1(e);typeof xr.hooks.addPack=="function"&&!r?xr.hooks.addPack(t,R1(e)):xr.styles[t]=I(I({},xr.styles[t]||{}),i),t==="fas"&&BI("fa",e)}var{styles:ho,shims:y3}=xr,v3={[qe]:Object.values(po[qe]),[Dn]:Object.values(po[Dn]),[bn]:Object.values(po[bn])},tD=null,hk={},fk={},pk={},mk={},gk={},w3={[qe]:Object.keys(fo[qe]),[Dn]:Object.keys(fo[Dn]),[bn]:Object.keys(fo[bn])};function _3(t){return~n3.indexOf(t)}function E3(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!_3(i)?i:null}var yk=()=>{let t=r=>RI(ho,(i,s,o)=>(i[o]=RI(s,r,{}),i),{});hk=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),fk=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),gk=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});let e="far"in ho||Z.autoFetchSvg,n=RI(y3,(r,i)=>{let s=i[0],o=i[1],a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});pk=n.names,mk=n.unicodes,tD=Hm(Z.styleDefault,{family:Z.familyDefault})};s3(t=>{tD=Hm(t.styleDefault,{family:Z.familyDefault})});yk();function nD(t,e){return(hk[t]||{})[e]}function I3(t,e){return(fk[t]||{})[e]}function is(t,e){return(gk[t]||{})[e]}function vk(t){return pk[t]||{prefix:null,iconName:null}}function D3(t){let e=mk[t],n=nD("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function os(){return tD}var rD=()=>({prefix:null,iconName:null,rest:[]});function Hm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=qe}=e,r=fo[n][t],i=hd[n][t]||hd[n][r],s=t in xr.styles?t:null;return i||s||null}var b3={[qe]:Object.keys(po[qe]),[Dn]:Object.keys(po[Dn]),[bn]:Object.keys(po[bn])};function zm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r={[qe]:"".concat(Z.cssPrefix,"-").concat(qe),[Dn]:"".concat(Z.cssPrefix,"-").concat(Dn),[bn]:"".concat(Z.cssPrefix,"-").concat(bn)},i=null,s=qe,o=N6.filter(u=>u!==J1);o.forEach(u=>{(t.includes(r[u])||t.some(l=>b3[u].includes(l)))&&(s=u)});let a=t.reduce((u,l)=>{let d=E3(Z.cssPrefix,l);if(ho[l]?(l=v3[s].includes(l)?Z6[s][l]:l,i=l,u.prefix=l):w3[s].indexOf(l)>-1?(i=l,u.prefix=Hm(l,{family:s})):d?u.iconName=d:l!==Z.replacementClass&&!o.some(f=>l===r[f])&&u.rest.push(l),!n&&u.prefix&&u.iconName){let f=i==="fa"?vk(u.iconName):{},m=is(u.prefix,u.iconName);f.prefix&&(i=null),u.iconName=f.iconName||m||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!ho.far&&ho.fas&&!Z.autoFetchSvg&&(u.prefix="fas")}return u},rD());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===Dn&&(ho.fass||Z.autoFetchSvg)&&(a.prefix="fass",a.iconName=is(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===bn&&(ho.fasds||Z.autoFetchSvg)&&(a.prefix="fasds",a.iconName=is(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=os()||"fas"),a}var $I=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=I(I({},this.definitions[s]||{}),i[s]),BI(s,i[s]);let o=po[qe][s];o&&BI(o,i[s]),yk()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:a}=r[i],u=a[2];e[s]||(e[s]={}),u.length>0&&u.forEach(l=>{typeof l=="string"&&(e[s][l]=a)}),e[s][o]=a}),e}},k1=[],uu={},cu={},C3=Object.keys(cu);function T3(t,e){let{mixoutsTo:n}=e;return k1=t,uu={},Object.keys(cu).forEach(r=>{C3.indexOf(r)===-1&&delete cu[r]}),k1.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{uu[o]||(uu[o]=[]),uu[o].push(s[o])})}r.provides&&r.provides(cu)}),n}function HI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(uu[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function go(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(uu[t]||[]).forEach(s=>{s.apply(null,n)})}function as(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return cu[t]?cu[t].apply(null,e):void 0}function zI(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||os();if(e)return e=is(n,e)||e,N1(wk.definitions,n,e)||N1(xr.styles,n,e)}var wk=new $I,S3=()=>{Z.autoReplaceSvg=!1,Z.observeMutations=!1,go("noAuto")},A3={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ci?(go("beforeI2svg",t),as("pseudoElements2svg",t),as("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;Z.autoReplaceSvg===!1&&(Z.autoReplaceSvg=!0),Z.observeMutations=!0,f3(()=>{M3({autoReplaceSvgRoot:e}),go("watch",t)})}},x3={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:is(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Hm(t[0]);return{prefix:n,iconName:is(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Z.cssPrefix,"-"))>-1||t.match(J6))){let e=zm(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||os(),iconName:is(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=os();return{prefix:e,iconName:is(e,t)||t}}}},Cn={noAuto:S3,config:Z,dom:A3,parse:x3,library:wk,findIconDefinition:zI,toHtml:md},M3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=$e}=t;(Object.keys(xr.styles).length>0||Z.autoFetchSvg)&&ci&&Z.autoReplaceSvg&&Cn.dom.i2svg({node:e})};function qm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>md(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ci)return;let n=$e.createElement("div");return n.innerHTML=t.html,n.children}}),t}function N3(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(eD(o)&&n.found&&!r.found){let{width:a,height:u}=n,l={x:a/u/2,y:.5};i.style=$m(z(I({},s),{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function R3(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(Z.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:z(I({},i),{id:o}),children:r}]}]}function iD(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:u,titleId:l,extra:d,watchable:f=!1}=t,{width:m,height:g}=n.found?n:e,w=r==="fak",C=[Z.replacementClass,i?"".concat(Z.cssPrefix,"-").concat(i):""].filter(J=>d.classes.indexOf(J)===-1).filter(J=>J!==""||!!J).concat(d.classes).join(" "),T={children:[],attributes:z(I({},d.attributes),{"data-prefix":r,"data-icon":i,class:C,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},O=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(T.attributes[mo]=""),a&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(l||fd())},children:[a]}),delete T.attributes.title);let j=z(I({},T),{prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:s,symbol:o,styles:I(I({},O),d.styles)}),{children:P,attributes:K}=n.found&&e.found?as("generateAbstractMask",j)||{children:[],attributes:{}}:as("generateAbstractIcon",j)||{children:[],attributes:{}};return j.children=P,j.attributes=K,o?R3(j):N3(j)}function O1(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,u=z(I(I({},o.attributes),s?{title:s}:{}),{class:o.classes.join(" ")});a&&(u[mo]="");let l=I({},o.styles);eD(i)&&(l.transform=l3({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);let d=$m(l);d.length>0&&(u.style=d);let f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function k3(t){let{content:e,title:n,extra:r}=t,i=z(I(I({},r.attributes),n?{title:n}:{}),{class:r.classes.join(" ")}),s=$m(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:kI}=xr;function qI(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Z.cssPrefix,"-").concat(MI.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(MI.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Z.cssPrefix,"-").concat(MI.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var O3={found:!1,width:512,height:512};function P3(t,e){!rk&&!Z.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function GI(t,e){let n=e;return e==="fa"&&Z.styleDefault!==null&&(e=os()),new Promise((r,i)=>{if(n==="fa"){let s=vk(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&kI[e]&&kI[e][t]){let s=kI[e][t];return r(qI(s))}P3(t,e),r(z(I({},O3),{icon:Z.showMissingIcons&&t?as("missingIconAbstract")||{}:{}}))})}var P1=()=>{},WI=Z.measurePerformance&&Vm&&Vm.mark&&Vm.measure?Vm:{mark:P1,measure:P1},cd='FA "6.6.0"',F3=t=>(WI.mark("".concat(cd," ").concat(t," begins")),()=>_k(t)),_k=t=>{WI.mark("".concat(cd," ").concat(t," ends")),WI.measure("".concat(cd," ").concat(t),"".concat(cd," ").concat(t," begins"),"".concat(cd," ").concat(t," ends"))},sD={begin:F3,end:_k},Lm=()=>{};function F1(t){return typeof(t.getAttribute?t.getAttribute(mo):null)=="string"}function V3(t){let e=t.getAttribute?t.getAttribute(ZI):null,n=t.getAttribute?t.getAttribute(JI):null;return e&&n}function L3(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Z.replacementClass)}function j3(){return Z.autoReplaceSvg===!0?jm.replace:jm[Z.autoReplaceSvg]||jm.replace}function U3(t){return $e.createElementNS("http://www.w3.org/2000/svg",t)}function B3(t){return $e.createElement(t)}function Ek(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?U3:B3}=e;if(typeof t=="string")return $e.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(Ek(s,{ceFn:n}))}),r}function $3(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var jm={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Ek(n),e)}),e.getAttribute(mo)===null&&Z.keepOriginalSource){let n=$e.createComment($3(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~XI(e).indexOf(Z.replacementClass))return jm.replace(t);let r=new RegExp("".concat(Z.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===Z.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>md(s)).join(`
`);e.setAttribute(mo,""),e.innerHTML=i}};function V1(t){t()}function Ik(t,e){let n=typeof e=="function"?e:Lm;if(t.length===0)n();else{let r=V1;Z.mutateApproach===Q6&&(r=ss.requestAnimationFrame||V1),r(()=>{let i=j3(),s=sD.begin("mutate");t.map(i),s(),n()})}}var oD=!1;function Dk(){oD=!0}function KI(){oD=!1}var Bm=null;function L1(t){if(!T1||!Z.observeMutations)return;let{treeCallback:e=Lm,nodeCallback:n=Lm,pseudoElementsCallback:r=Lm,observeMutationsRoot:i=$e}=t;Bm=new T1(s=>{if(oD)return;let o=os();hu(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!F1(a.addedNodes[0])&&(Z.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&Z.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&F1(a.target)&&~t3.indexOf(a.attributeName))if(a.attributeName==="class"&&V3(a.target)){let{prefix:u,iconName:l}=zm(XI(a.target));a.target.setAttribute(ZI,u||o),l&&a.target.setAttribute(JI,l)}else L3(a.target)&&n(a.target)})}),ci&&Bm.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function H3(){Bm&&Bm.disconnect()}function z3(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function q3(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=zm(XI(t));return i.prefix||(i.prefix=os()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=I3(i.prefix,t.innerText)||nD(i.prefix,UI(t.innerText))),!i.iconName&&Z.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function G3(t){let e=hu(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Z.autoA11y&&(n?e["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(r||fd()):(e["aria-hidden"]="true",e.focusable="false")),e}function W3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ar,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function j1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=q3(t),s=G3(t),o=HI("parseNodeAttributes",{},t),a=e.styleParser?z3(t):[];return I({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Ar,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}var{styles:K3}=xr;function bk(t){let e=Z.autoReplaceSvg==="nest"?j1(t,{styleParser:!1}):j1(t);return~e.extra.classes.indexOf(ok)?as("generateLayersText",t,e):as("generateSvgReplacementMutation",t,e)}var Mr=new Set;ik.map(t=>{Mr.add("fa-".concat(t))});Object.keys(fo[qe]).map(Mr.add.bind(Mr));Object.keys(fo[Dn]).map(Mr.add.bind(Mr));Object.keys(fo[bn]).map(Mr.add.bind(Mr));Mr=[...Mr];function U1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ci)return Promise.resolve();let n=$e.documentElement.classList,r=d=>n.add("".concat(x1,"-").concat(d)),i=d=>n.remove("".concat(x1,"-").concat(d)),s=Z.autoFetchSvg?Mr:ik.map(d=>"fa-".concat(d)).concat(Object.keys(K3));s.includes("fa")||s.push("fa");let o=[".".concat(ok,":not([").concat(mo,"])")].concat(s.map(d=>".".concat(d,":not([").concat(mo,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=hu(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();let u=sD.begin("onTree"),l=a.reduce((d,f)=>{try{let m=bk(f);m&&d.push(m)}catch(m){rk||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,f)=>{Promise.all(l).then(m=>{Ik(m,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(m=>{u(),f(m)})})}function Q3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;bk(t).then(n=>{n&&Ik([n],e)})}function Y3(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:zI(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:zI(i||{})),t(r,z(I({},n),{mask:i}))}}var Z3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Ar,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:u=[],attributes:l={},styles:d={}}=e;if(!t)return;let{prefix:f,iconName:m,icon:g}=t;return qm(I({type:"icon"},t),()=>(go("beforeDOMElementCreation",{iconDefinition:t,params:e}),Z.autoA11y&&(o?l["aria-labelledby"]="".concat(Z.replacementClass,"-title-").concat(a||fd()):(l["aria-hidden"]="true",l.focusable="false")),iD({icons:{main:qI(g),mask:i?qI(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:m,transform:I(I({},Ar),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:l,styles:d,classes:u}})))},J3={mixout(){return{icon:Y3(Z3)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=U1,t.nodeCallback=Q3,t}}},provides(t){t.i2svg=function(e){let{node:n=$e,callback:r=()=>{}}=e;return U1(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:u,mask:l,maskId:d,extra:f}=n;return new Promise((m,g)=>{Promise.all([GI(r,o),l.iconName?GI(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[C,T]=w;m([e,iD({icons:{main:C,mask:T},prefix:o,iconName:r,transform:a,symbol:u,maskId:d,title:i,titleId:s,extra:f,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,a=$m(o);a.length>0&&(r.style=a);let u;return eD(s)&&(u=as("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:r}}}},X3={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return qm({type:"layer"},()=>{go("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Z.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},eG={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return qm({type:"counter",content:t},()=>(go("beforeDOMElementCreation",{content:t,params:e}),k3({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Z.cssPrefix,"-layers-counter"),...r]}})))}}}},tG={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=Ar,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return qm({type:"text",content:t},()=>(go("beforeDOMElementCreation",{content:t,params:e}),O1({content:t,transform:I(I({},Ar),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(Z.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,a=null;if(Z1){let u=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/u,a=l.height/u}return Z.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,O1({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}},nG=new RegExp('"',"ug"),B1=[1105920,1112319],$1=I(I(I({FontAwesome:{normal:"fas",400:"fas"}},V6),F6),q6),QI=Object.keys($1).reduce((t,e)=>(t[e.toLowerCase()]=$1[e],t),{}),rG=Object.keys(QI).reduce((t,e)=>{let n=QI[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function iG(t){let e=t.replace(nG,""),n=g3(e,0),r=n>=B1[0]&&n<=B1[1],i=e.length===2?e[0]===e[1]:!1;return{value:UI(i?e[0]:e),isSecondary:r||i}}function sG(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(QI[n]||{})[i]||rG[n]}function H1(t,e){let n="".concat(K6).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=hu(t.children).filter(m=>m.getAttribute(FI)===e)[0],a=ss.getComputedStyle(t,e),u=a.getPropertyValue("font-family"),l=u.match(X6),d=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&f!=="none"&&f!==""){let m=a.getPropertyValue("content"),g=sG(u,d),{value:w,isSecondary:C}=iG(m),T=l[0].startsWith("FontAwesome"),O=nD(g,w),j=O;if(T){let P=D3(w);P.iconName&&P.prefix&&(O=P.iconName,g=P.prefix)}if(O&&!C&&(!o||o.getAttribute(ZI)!==g||o.getAttribute(JI)!==j)){t.setAttribute(n,j),o&&t.removeChild(o);let P=W3(),{extra:K}=P;K.attributes[FI]=e,GI(O,g).then(J=>{let ne=iD(z(I({},P),{icons:{main:J,mask:rD()},prefix:g,iconName:j,extra:K,watchable:!0})),D=$e.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(D,t.firstChild):t.appendChild(D),D.outerHTML=ne.map(v=>md(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function oG(t){return Promise.all([H1(t,"::before"),H1(t,"::after")])}function aG(t){return t.parentNode!==document.head&&!~Y6.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(FI)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function z1(t){if(ci)return new Promise((e,n)=>{let r=hu(t.querySelectorAll("*")).filter(aG).map(oG),i=sD.begin("searchPseudoElements");Dk(),Promise.all(r).then(()=>{i(),KI(),e()}).catch(()=>{i(),KI(),n()})})}var uG={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=z1,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=$e}=e;Z.searchPseudoElements&&z1(n)}}},q1=!1,cG={mixout(){return{dom:{unwatch(){Dk(),q1=!0}}}},hooks(){return{bootstrap(){L1(HI("mutationObserverCallbacks",{}))},noAuto(){H3()},watch(t){let{observeMutationsRoot:e}=t;q1?KI():L1(HI("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},G1=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},lG={mixout(){return{parse:{transform:t=>G1(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=G1(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(a," ").concat(u," ").concat(l)},f={transform:"translate(".concat(s/2*-1," -256)")},m={outer:o,inner:d,path:f};return{tag:"g",attributes:I({},m.outer),children:[{tag:"g",attributes:I({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:I(I({},n.icon.attributes),m.path)}]}]}}}},OI={x:0,y:0,width:"100%",height:"100%"};function W1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function dG(t){return t.tag==="g"?t.children:[t]}var hG={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?zm(n.split(" ").map(i=>i.trim())):rD();return r.prefix||(r.prefix=os()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e,{width:u,icon:l}=i,{width:d,icon:f}=s,m=c3({transform:a,containerWidth:d,iconWidth:u}),g={tag:"rect",attributes:z(I({},OI),{fill:"white"})},w=l.children?{children:l.children.map(W1)}:{},C={tag:"g",attributes:I({},m.inner),children:[W1(I({tag:l.tag,attributes:I(I({},l.attributes),m.path)},w))]},T={tag:"g",attributes:I({},m.outer),children:[C]},O="mask-".concat(o||fd()),j="clip-".concat(o||fd()),P={tag:"mask",attributes:z(I({},OI),{id:O,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,T]},K={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:dG(f)},P]};return n.push(K,{tag:"rect",attributes:I({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(O,")")},OI)}),{children:n,attributes:r}}}},fG={provides(t){let e=!1;ss.matchMedia&&(e=ss.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:z(I({},r),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=z(I({},i),{attributeName:"opacity"}),o={tag:"circle",attributes:z(I({},r),{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:z(I({},i),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:z(I({},s),{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:z(I({},r),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:z(I({},s),{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:z(I({},r),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:z(I({},s),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},pG={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},mG=[h3,J3,X3,eG,tG,uG,cG,lG,hG,fG,pG];T3(mG,{mixoutsTo:Cn});var Wre=Cn.noAuto,gG=Cn.config,Kre=Cn.library,yG=Cn.dom,vG=Cn.parse,Qre=Cn.findIconDefinition,Yre=Cn.toHtml,wG=Cn.icon,Zre=Cn.layer,_G=Cn.text,EG=Cn.counter;var sie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=It({});let t=e;return t})();var IG="firebase",DG="10.13.2";bi(IG,DG,"app");var fu=new Kr("ANGULARFIRE2_VERSION");var bG=(t,e)=>{let n=e?[e]:LT(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},yo=class{constructor(){return bG(CG)}},CG="app-check";function aD(){}var Gm=class{zone;delegate;constructor(e,n=mv){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},uD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aD,{},aD,aD)),n.pipe(et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wm=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gm(Zone.current)),this.insideAngular=n.run(()=>new Gm(Zone.current,Mc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ie))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TG(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function dn(t){return SG(TG())(t)}function SG(t){return function(n){return n=n.lift(new uD(t.ngZone)),n.pipe(Hn(t.outsideAngular),An(t.insideAngular))}}var AG="firebase",xG="10.13.2";rn.registerVersion(AG,xG,"app-compat");var MG=["ngOnDestroy"],Sk=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(MG.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let u=a?.[s];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(d=>{let f=d?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,f),f})})})});var Km=class{constructor(e){return e}},pu=new G("angularfire2.app.options"),mu=new G("angularfire2.app.name");function gd(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=rn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>rn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;NG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Km(o)}var NG=(t,...e)=>{x_()&&typeof console<"u"&&console[t](...e)},RG={provide:Km,useFactory:gd,deps:[pu,Ie,[new Vi,mu]]},Die=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:pu,useValue:n},{provide:mu,useValue:r}]}}constructor(n){rn.registerVersion("angularfire",fu.full,"core"),rn.registerVersion("angularfire",fu.full,"app-compat"),rn.registerVersion("angular",_M.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(cn))};static \u0275mod=Dt({type:t});static \u0275inj=It({providers:[RG]})}return t})();function Qm(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return kG(i,o)||(Tk("error",`${e} was already initialized on the ${n} Firebase App with different settings.${OG?" You may need to reload as Firebase is not HMR aware.":""}`),Tk("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function kG(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var OG=typeof module<"u"&&!!module.hot,Tk=(t,...e)=>{x_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var VG=new Map,LG={activated:!1,tokenObservers:[]},jG={initialized:!1,enabled:!1};function or(t){return VG.get(t)||Object.assign({},LG)}function Rk(){return jG}var UG="https://content-firebaseappcheck.googleapis.com/v1";var BG="exchangeDebugToken",Ak={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},kie=24*60*60*1e3;var lD=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return k(this,null,function*(){this.stop();try{this.pending=new Qy,this.pending.promise.catch(n=>{}),yield $G(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Qy,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function $G(t){return new Promise(e=>{setTimeout(e,t)})}var HG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},us=new FT("appCheck","AppCheck",HG);function kk(t){if(!or(t).activated)throw us.create("use-before-activation",{appName:t.name})}function Ok(r,i){return k(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let g=yield o.getHeartbeatsHeader();g&&(s["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(t,a)}catch(g){throw us.create("fetch-network-error",{originalErrorMessage:g?.message})}if(u.status!==200)throw us.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(g){throw us.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function Pk(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${UG}/projects/${n}/apps/${r}:${BG}?key=${i}`,body:{debug_token:e}}}var zG="firebase-app-check-database",qG=1,dD="firebase-app-check-store";var Ym=null;function GG(){return Ym||(Ym=new Promise((t,e)=>{try{let n=indexedDB.open(zG,qG);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(us.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(dD,{keyPath:"compositeKey"})}}}catch(n){e(us.create("storage-open",{originalErrorMessage:n?.message}))}}),Ym)}function WG(t,e){return KG(QG(t),e)}function KG(t,e){return k(this,null,function*(){let r=(yield GG()).transaction(dD,"readwrite"),s=r.objectStore(dD).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(us.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function QG(t){return`${t.options.appId}-${t.name}`}var hD=new Sh("@firebase/app-check");function cD(t,e){return Th()?WG(t,e).catch(n=>{hD.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Fk(){return Rk().enabled}function Vk(){return k(this,null,function*(){let t=Rk();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var YG={error:"UNKNOWN_ERROR"};function ZG(t){return kT.encodeString(JSON.stringify(t),!1)}function fD(t,e=!1){return k(this,null,function*(){let n=t.app;kk(n);let r=or(n),i=r.token,s;if(i&&!yd(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(yd(u)?i=u:yield cD(n,void 0))}if(!e&&i&&yd(i))return{token:i.token};let o=!1;if(Fk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ok(Pk(n,yield Vk()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let u=yield r.exchangeTokenPromise;return yield cD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield or(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?hD.warn(u.message):hD.error(u),s=u}let a;return i?s?yd(i)?a={token:i.token,internalError:s}:a=Mk(s):(a={token:i.token},r.token=i,yield cD(n,i)):a=Mk(s),o&&t5(n,a),a})}function JG(t){return k(this,null,function*(){let e=t.app;kk(e);let{provider:n}=or(e);if(Fk()){let r=yield Vk(),{token:i}=yield Ok(Pk(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function XG(t,e,n,r){let{app:i}=t,s=or(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&yd(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),xk(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xk(t))}function Lk(t,e){let n=or(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function xk(t){let{app:e}=t,n=or(e),r=n.tokenRefresher;r||(r=e5(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function e5(t){let{app:e}=t;return new lD(()=>k(this,null,function*(){let n=or(e),r;if(n.token?r=yield fD(t,!0):r=yield fD(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=or(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Ak.RETRIAL_MIN_WAIT,Ak.RETRIAL_MAX_WAIT)}function t5(t,e){let n=or(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function yd(t){return t.expireTimeMillis-Date.now()>0}function Mk(t){return{token:ZG(YG),error:t}}var pD=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=or(this.app);for(let n of e)Lk(this.app,n.next);return Promise.resolve()}};function n5(t,e){return new pD(t,e)}function r5(t){return{getToken:e=>fD(t,e),getLimitedUseToken:()=>JG(t),addTokenListener:e=>XG(t,"INTERNAL",e),removeTokenListener:e=>Lk(t.app,e)}}var i5="@firebase/app-check",s5="0.8.8";var o5="app-check",Nk="app-check-internal";function a5(){bc(new ks(o5,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return n5(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Nk).initialize()})),bc(new ks(Nk,t=>{let e=t.getProvider("app-check").getImmediate();return r5(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),bi(i5,s5)}a5();var u5=["localhost","0.0.0.0","127.0.0.1"],qie=typeof window<"u"&&u5.includes(window.location.hostname);var mD=new G("angularfire2.auth.use-emulator"),gD=new G("angularfire2.auth.settings"),yD=new G("angularfire2.auth.tenant-id"),vD=new G("angularfire2.auth.langugage-code"),wD=new G("angularfire2.auth.use-device-language"),_D=new G("angularfire.auth.persistence"),ED=(t,e,n,r,i,s,o,a)=>Qm(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(let[l,d]of Object.entries(o))u.settings[l]=d;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]),Zm=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,d,f,m,g){let w=new ze,C=Y(void 0).pipe(An(o.outsideAngular),Qe(()=>s.runOutsideAngular(()=>import("./chunk-SBHMFPWS.js"))),X(()=>gd(n,s,r)),X(T=>ED(T,s,a,l,d,f,u,m)),of({bufferSize:1,refCount:!1}));if(eo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Y(null);else{C.pipe(xn()).subscribe();let T=C.pipe(Qe(P=>P.getRedirectResult().then(K=>K,()=>null)),dn,of({bufferSize:1,refCount:!1})),O=C.pipe(Qe(P=>new we(K=>({unsubscribe:s.runOutsideAngular(()=>P.onAuthStateChanged(J=>K.next(J),J=>K.error(J),()=>K.complete()))})))),j=C.pipe(Qe(P=>new we(K=>({unsubscribe:s.runOutsideAngular(()=>P.onIdTokenChanged(J=>K.next(J),J=>K.error(J),()=>K.complete()))}))));this.authState=T.pipe(af(O),Hn(o.outsideAngular),An(o.insideAngular)),this.user=T.pipe(af(j),Hn(o.outsideAngular),An(o.insideAngular)),this.idToken=this.user.pipe(Qe(P=>P?ce(P.getIdToken()):Y(null))),this.idTokenResult=this.user.pipe(Qe(P=>P?ce(P.getIdTokenResult()):Y(null))),this.credential=wv(T,w,this.authState.pipe(St(P=>!P))).pipe(X(P=>P?.user?P:null),Hn(o.outsideAngular),An(o.insideAngular))}return Sk(this,C,s,{spy:{apply:(T,O,j)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&j.then(P=>w.next(P))}}})}static \u0275fac=function(r){return new(r||t)(L(pu),L(mu,8),L(cn),L(Ie),L(Wm),L(mD,8),L(gD,8),L(yD,8),L(vD,8),L(wD,8),L(_D,8),L(yo,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Bk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$k={};var cs,ID;(function(){var t;function e(D,v){function _(){}_.prototype=v.prototype,D.D=v.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(b,S,x){for(var E=Array(arguments.length-2),Br=2;Br<arguments.length;Br++)E[Br-2]=arguments[Br];return v.prototype[S].apply(b,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)b[S]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(S=0;16>S;++S)b[S]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=D.g[0],_=D.g[1],S=D.g[2];var x=D.g[3],E=v+(x^_&(S^x))+b[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+b[1]+3905402710&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+b[2]+606105819&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+b[3]+3250441966&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+b[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+b[5]+1200080426&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+b[6]+2821735955&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+b[7]+4249261313&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+b[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+b[9]+2336552879&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+b[10]+4294925233&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+b[11]+2304563134&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+b[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+b[13]+4254626195&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+b[14]+2792965006&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+b[15]+1236535329&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(S^x&(_^S))+b[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+b[6]+3225465664&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+b[11]+643717713&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+b[0]+3921069994&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+b[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+b[10]+38016083&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+b[15]+3634488961&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+b[4]+3889429448&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+b[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+b[14]+3275163606&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+b[3]+4107603335&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+b[8]+1163531501&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+b[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+b[2]+4243563512&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+b[7]+1735328473&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+b[12]+2368359562&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(_^S^x)+b[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+b[8]+2272392833&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+b[11]+1839030562&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+b[14]+4259657740&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+b[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+b[4]+1272893353&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+b[7]+4139469664&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+b[10]+3200236656&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+b[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+b[0]+3936430074&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+b[3]+3572445317&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+b[6]+76029189&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+b[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+b[12]+3873151461&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+b[15]+530742520&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+b[2]+3299628645&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(S^(_|~x))+b[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+b[7]+1126891415&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+b[14]+2878612391&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+b[5]+4237533241&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+b[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+b[3]+2399980690&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+b[10]+4293915773&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+b[1]+2240044497&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+b[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+b[15]+4264355552&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+b[6]+2734768916&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+b[13]+1309151649&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+b[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+b[11]+3174756917&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+b[2]+718787259&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var _=v-this.blockSize,b=this.B,S=this.h,x=0;x<v;){if(S==0)for(;x<=_;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<v;)if(b[S++]=D.charCodeAt(x++),S==this.blockSize){i(this,b),S=0;break}}else for(;x<v;)if(b[S++]=D[x++],S==this.blockSize){i(this,b),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var _=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=_&255,_/=256;for(this.u(D),D=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)D[_++]=this.g[v]>>>b&255;return D};function s(D,v){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=v(D)}function o(D,v){this.h=v;for(var _=[],b=!0,S=D.length-1;0<=S;S--){var x=D[S]|0;b&&x==v||(_[S]=x,b=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(v){return new o([v|0],0>v?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return T(l(-D));for(var v=[],_=1,b=0;D>=_;b++)v[b]=D/_|0,_*=4294967296;return new o(v,0)}function d(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return T(d(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),b=f,S=0;S<D.length;S+=8){var x=Math.min(8,D.length-S),E=parseInt(D.substring(S,S+x),v);8>x?(x=l(Math.pow(v,x)),b=b.j(x).add(l(E))):(b=b.j(_),b=b.add(l(E)))}return b}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-T(this).m();for(var D=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);D+=(0<=b?b:4294967296+b)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(C(this))return"-"+T(this).toString(D);for(var v=l(Math.pow(D,6)),_=this,b="";;){var S=K(_,v).g;_=O(_,S.j(v));var x=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=S,w(_))return x+b;for(;6>x.length;)x="0"+x;b=x+b}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function C(D){return D.h==-1}t.l=function(D){return D=O(this,D),C(D)?-1:w(D)?0:1};function T(D){for(var v=D.g.length,_=[],b=0;b<v;b++)_[b]=~D.g[b];return new o(_,~D.h).add(m)}t.abs=function(){return C(this)?T(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],b=0,S=0;S<=v;S++){var x=b+(this.i(S)&65535)+(D.i(S)&65535),E=(x>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);b=E>>>16,x&=65535,E&=65535,_[S]=E<<16|x}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(D,v){return D.add(T(v))}t.j=function(D){if(w(this)||w(D))return f;if(C(this))return C(D)?T(this).j(T(D)):T(T(this).j(D));if(C(D))return T(this.j(T(D)));if(0>this.l(g)&&0>D.l(g))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var S=0;S<D.g.length;S++){var x=this.i(b)>>>16,E=this.i(b)&65535,Br=D.i(S)>>>16,ic=D.i(S)&65535;_[2*b+2*S]+=E*ic,j(_,2*b+2*S),_[2*b+2*S+1]+=x*ic,j(_,2*b+2*S+1),_[2*b+2*S+1]+=E*Br,j(_,2*b+2*S+1),_[2*b+2*S+2]+=x*Br,j(_,2*b+2*S+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new o(_,0)};function j(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function P(D,v){this.g=D,this.h=v}function K(D,v){if(w(v))throw Error("division by zero");if(w(D))return new P(f,f);if(C(D))return v=K(T(D),v),new P(T(v.g),T(v.h));if(C(v))return v=K(D,T(v)),new P(T(v.g),v.h);if(30<D.g.length){if(C(D)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,b=v;0>=b.l(D);)_=J(_),b=J(b);var S=ne(_,1),x=ne(b,1);for(b=ne(b,2),_=ne(_,2);!w(b);){var E=x.add(b);0>=E.l(D)&&(S=S.add(_),x=E),b=ne(b,1),_=ne(_,1)}return v=O(D,S.j(v)),new P(S,v)}for(S=f;0<=D.l(v);){for(_=Math.max(1,Math.floor(D.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),x=l(_),E=x.j(v);C(E)||0<E.l(D);)_-=b,x=l(_),E=x.j(v);w(x)&&(x=m),S=S.add(x),D=O(D,E)}return new P(S,D)}t.A=function(D){return K(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&D.i(b);return new o(_,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|D.i(b);return new o(_,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^D.i(b);return new o(_,this.h^D.h)};function J(D){for(var v=D.g.length+1,_=[],b=0;b<v;b++)_[b]=D.i(b)<<1|D.i(b-1)>>>31;return new o(_,D.h)}function ne(D,v){var _=v>>5;v%=32;for(var b=D.g.length-_,S=[],x=0;x<b;x++)S[x]=0<v?D.i(x+_)>>>v|D.i(x+_+1)<<32-v:D.i(x+_);return new o(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ID=$k.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,cs=$k.Integer=o}).apply(typeof Bk<"u"?Bk:typeof self<"u"?self:typeof window<"u"?window:{});var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},li={};var DD,bD,gu,CD,vd,Xm,TD,SD,AD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jm=="object"&&Jm];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var p=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in p))break e;p=p[A]}c=c[c.length-1],y=p[c],h=h(y),h!=y&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var p=0,y=!1,A={next:function(){if(!y&&p<c.length){var R=p++;return{value:h(R,c[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function u(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function l(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),c.apply(h,A)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function w(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(y,A,R){for(var U=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)U[Oe-2]=arguments[Oe];return h.prototype[A].apply(y,U)}}function C(c){let h=c.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=c[y];return p}return[]}function T(c,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(u(y)){let A=c.length||0,R=y.length||0;c.length=A+R;for(let U=0;U<R;U++)c[A+U]=y[U]}else c.push(y)}}class O{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var J=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ne(c,h,p){for(let y in c)h.call(p,c[y],y,c)}function D(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function v(c){let h={};for(let p in c)h[p]=c[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)c[p]=y[p];for(let R=0;R<_.length;R++)p=_[R],Object.prototype.hasOwnProperty.call(y,p)&&(c[p]=y[p])}}function S(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function x(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Iy;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Br{constructor(){this.h=this.g=null}add(h,p){let y=ic.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ic=new O(()=>new AV,c=>c.reset());class AV{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let sc,oc=!1,Iy=new Br,xC=()=>{let c=a.Promise.resolve(void 0);sc=()=>{c.then(xV)}};var xV=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(p){x(p)}var h=ic;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}oc=!1};function _i(){this.s=this.s,this.C=this.C}_i.prototype.s=!1,_i.prototype.ma=function(){this.s||(this.s=!0,this.N())},_i.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kt(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var MV=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function ac(c,h){if(kt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(J){e:{try{K(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:NV[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ac.aa.h.call(this)}}w(ac,kt);var NV={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var uc="closure_listenable_"+(1e6*Math.random()|0),RV=0;function kV(c,h,p,y,A){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++RV,this.da=this.fa=!1}function uh(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ch(c){this.src=c,this.g={},this.h=0}ch.prototype.add=function(c,h,p,y,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var U=by(c,h,y,A);return-1<U?(h=c[U],p||(h.fa=!1)):(h=new kV(h,this.src,R,!!y,A),h.fa=p,c.push(h)),h};function Dy(c,h){var p=h.type;if(p in c.g){var y=c.g[p],A=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=A)&&Array.prototype.splice.call(y,A,1),R&&(uh(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function by(c,h,p,y){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return A}return-1}var Cy="closure_lm_"+(1e6*Math.random()|0),Ty={};function MC(c,h,p,y,A){if(y&&y.once)return RC(c,h,p,y,A);if(Array.isArray(h)){for(var R=0;R<h.length;R++)MC(c,h[R],p,y,A);return null}return p=My(p),c&&c[uc]?c.K(h,p,l(y)?!!y.capture:!!y,A):NC(c,h,p,!1,y,A)}function NC(c,h,p,y,A,R){if(!h)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,Oe=Ay(c);if(Oe||(c[Cy]=Oe=new ch(c)),p=Oe.add(h,p,y,U,R),p.proxy)return p;if(y=OV(),p.proxy=y,y.src=c,y.listener=p,c.addEventListener)MV||(A=U),A===void 0&&(A=!1),c.addEventListener(h.toString(),y,A);else if(c.attachEvent)c.attachEvent(OC(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function OV(){function c(p){return h.call(c.src,c.listener,p)}let h=PV;return c}function RC(c,h,p,y,A){if(Array.isArray(h)){for(var R=0;R<h.length;R++)RC(c,h[R],p,y,A);return null}return p=My(p),c&&c[uc]?c.L(h,p,l(y)?!!y.capture:!!y,A):NC(c,h,p,!0,y,A)}function kC(c,h,p,y,A){if(Array.isArray(h))for(var R=0;R<h.length;R++)kC(c,h[R],p,y,A);else y=l(y)?!!y.capture:!!y,p=My(p),c&&c[uc]?(c=c.i,h=String(h).toString(),h in c.g&&(R=c.g[h],p=by(R,p,y,A),-1<p&&(uh(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete c.g[h],c.h--)))):c&&(c=Ay(c))&&(h=c.g[h.toString()],c=-1,h&&(c=by(h,p,y,A)),(p=-1<c?h[c]:null)&&Sy(p))}function Sy(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[uc])Dy(h.i,c);else{var p=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(p,y,c.capture):h.detachEvent?h.detachEvent(OC(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Ay(h))?(Dy(p,c),p.h==0&&(p.src=null,h[Cy]=null)):uh(c)}}}function OC(c){return c in Ty?Ty[c]:Ty[c]="on"+c}function PV(c,h){if(c.da)c=!0;else{h=new ac(h,this);var p=c.listener,y=c.ha||c.src;c.fa&&Sy(c),c=p.call(y,h)}return c}function Ay(c){return c=c[Cy],c instanceof ch?c:null}var xy="__closure_events_fn_"+(1e9*Math.random()>>>0);function My(c){return typeof c=="function"?c:(c[xy]||(c[xy]=function(h){return c.handleEvent(h)}),c[xy])}function Ot(){_i.call(this),this.i=new ch(this),this.M=this,this.F=null}w(Ot,_i),Ot.prototype[uc]=!0,Ot.prototype.removeEventListener=function(c,h,p,y){kC(this,c,h,p,y)};function Ht(c,h){var p,y=c.F;if(y)for(p=[];y;y=y.F)p.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new kt(h,c);else if(h instanceof kt)h.target=h.target||c;else{var A=h;h=new kt(y,c),b(h,A)}if(A=!0,p)for(var R=p.length-1;0<=R;R--){var U=h.g=p[R];A=lh(U,y,!0,h)&&A}if(U=h.g=c,A=lh(U,y,!0,h)&&A,A=lh(U,y,!1,h)&&A,p)for(R=0;R<p.length;R++)U=h.g=p[R],A=lh(U,y,!1,h)&&A}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],y=0;y<p.length;y++)uh(p[y]);delete c.g[h],c.h--}}this.F=null},Ot.prototype.K=function(c,h,p,y){return this.i.add(String(c),h,!1,p,y)},Ot.prototype.L=function(c,h,p,y){return this.i.add(String(c),h,!0,p,y)};function lh(c,h,p,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,R=0;R<h.length;++R){var U=h[R];if(U&&!U.da&&U.capture==p){var Oe=U.listener,Tt=U.ha||U.src;U.fa&&Dy(c.i,U),A=Oe.call(Tt,y)!==!1&&A}}return A&&!y.defaultPrevented}function PC(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function FC(c){c.g=PC(()=>{c.g=null,c.i&&(c.i=!1,FC(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class FV extends _i{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:FC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cc(c){_i.call(this),this.h=c,this.g={}}w(cc,_i);var VC=[];function LC(c){ne(c.g,function(h,p){this.g.hasOwnProperty(p)&&Sy(h)},c),c.g={}}cc.prototype.N=function(){cc.aa.N.call(this),LC(this)},cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ny=a.JSON.stringify,VV=a.JSON.parse,LV=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ry(){}Ry.prototype.h=null;function jC(c){return c.h||(c.h=c.i())}function UC(){}var lc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ky(){kt.call(this,"d")}w(ky,kt);function Oy(){kt.call(this,"c")}w(Oy,kt);var xs={},BC=null;function dh(){return BC=BC||new Ot}xs.La="serverreachability";function $C(c){kt.call(this,xs.La,c)}w($C,kt);function dc(c){let h=dh();Ht(h,new $C(h))}xs.STAT_EVENT="statevent";function HC(c,h){kt.call(this,xs.STAT_EVENT,c),this.stat=h}w(HC,kt);function zt(c){let h=dh();Ht(h,new HC(h,c))}xs.Ma="timingevent";function zC(c,h){kt.call(this,xs.Ma,c),this.size=h}w(zC,kt);function hc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function fc(){this.g=!0}fc.prototype.xa=function(){this.g=!1};function jV(c,h,p,y,A,R){c.info(function(){if(c.g)if(R)for(var U="",Oe=R.split("&"),Tt=0;Tt<Oe.length;Tt++){var Te=Oe[Tt].split("=");if(1<Te.length){var Pt=Te[0];Te=Te[1];var Ft=Pt.split("_");U=2<=Ft.length&&Ft[1]=="type"?U+(Pt+"="+Te+"&"):U+(Pt+"=redacted&")}}else U=null;else U=R;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+U})}function UV(c,h,p,y,A,R,U){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+R+" "+U})}function zo(c,h,p,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+$V(c,p)+(y?" "+y:"")})}function BV(c,h){c.info(function(){return"TIMEOUT: "+h})}fc.prototype.info=function(){};function $V(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var y=p[c];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return Ny(p)}catch{return h}}var hh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Py;function fh(){}w(fh,Ry),fh.prototype.g=function(){return new XMLHttpRequest},fh.prototype.i=function(){return{}},Py=new fh;function Ei(c,h,p,y){this.j=c,this.i=h,this.l=p,this.R=y||1,this.U=new cc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new GC}function GC(){this.i=null,this.g="",this.h=!1}var WC={},Fy={};function Vy(c,h,p){c.L=1,c.v=yh($r(h)),c.m=p,c.P=!0,KC(c,null)}function KC(c,h){c.F=Date.now(),ph(c),c.A=$r(c.v);var p=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),uT(p.i,"t",y),c.C=0,p=c.j.J,c.h=new GC,c.g=TT(c.j,p?h:null,!c.m),0<c.O&&(c.M=new FV(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,y=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(VC[0]=A.toString()),A=VC);for(var R=0;R<A.length;R++){var U=MC(p,A[R],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),dc(),jV(c.i,c.u,c.A,c.l,c.R,c.m)}Ei.prototype.ca=function(c){c=c.target;let h=this.M;h&&Hr(c)==3?h.j():this.Y(c)},Ei.prototype.Y=function(c){try{if(c==this.g)e:{let Ft=Hr(this.g);var h=this.g.Ba();let Wo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||mT(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=Wo?dc(3):dc(2)),Ly(this);var p=this.g.Z();this.X=p;t:if(QC(this)){var y=mT(this.g);c="";var A=y.length,R=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),pc(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,c+=this.h.i.decode(y[h],{stream:!(R&&h==A-1)});y.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,UV(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Tt=this.g;if((Oe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Oe)){var Te=Oe;break t}}Te=null}if(p=Te)zo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jy(this,p);else{this.o=!1,this.s=3,zt(12),Ms(this),pc(this);break e}}if(this.P){p=!0;let Bn;for(;!this.J&&this.C<U.length;)if(Bn=HV(this,U),Bn==Fy){Ft==4&&(this.s=4,zt(14),p=!1),zo(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==WC){this.s=4,zt(15),zo(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else zo(this.i,this.l,Bn,null),jy(this,Bn);if(QC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||U.length!=0||this.h.h||(this.s=1,zt(16),p=!1),this.o=this.o&&p,!p)zo(this.i,this.l,U,"[Invalid Chunked Response]"),Ms(this),pc(this);else if(0<U.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),qy(Pt),Pt.M=!0,zt(11))}}else zo(this.i,this.l,U,null),jy(this,U);Ft==4&&Ms(this),this.o&&!this.J&&(Ft==4?IT(this.j,this):(this.o=!1,ph(this)))}else oL(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Ms(this),pc(this)}}}catch{}finally{}};function QC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function HV(c,h){var p=c.C,y=h.indexOf(`
`,p);return y==-1?Fy:(p=Number(h.substring(p,y)),isNaN(p)?WC:(y+=1,y+p>h.length?Fy:(h=h.slice(y,y+p),c.C=y+p,h)))}Ei.prototype.cancel=function(){this.J=!0,Ms(this)};function ph(c){c.S=Date.now()+c.I,YC(c,c.I)}function YC(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hc(m(c.ba,c),h)}function Ly(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ei.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(BV(this.i,this.A),this.L!=2&&(dc(),zt(17)),Ms(this),this.s=2,pc(this)):YC(this,this.S-c)};function pc(c){c.j.G==0||c.J||IT(c.j,c)}function Ms(c){Ly(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,LC(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function jy(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||Uy(p.h,c))){if(!c.K&&Uy(p.h,c)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Ih(p),_h(p);else break e;zy(p),zt(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=hc(m(p.Za,p),6e3));if(1>=XC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Rs(p,11)}else if((c.K||p.g==c)&&Ih(p),!j(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Te=A[h];if(p.T=Te[0],Te=Te[1],p.G==2)if(Te[0]=="c"){p.K=Te[1],p.ia=Te[2];let Pt=Te[3];Pt!=null&&(p.la=Pt,p.j.info("VER="+p.la));let Ft=Te[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));let Wo=Te[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(y=1.5*Wo,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let Bn=c.g;if(Bn){let bh=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bh){var R=y.h;R.g||bh.indexOf("spdy")==-1&&bh.indexOf("quic")==-1&&bh.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(By(R,R.h),R.h=null))}if(y.D){let Gy=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gy&&(y.ya=Gy,Ue(y.I,y.D,Gy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=c;if(y.qa=CT(y,y.J?y.ia:null,y.W),U.K){eT(y.h,U);var Oe=U,Tt=y.L;Tt&&(Oe.I=Tt),Oe.B&&(Ly(Oe),ph(Oe)),y.g=U}else _T(y);0<p.i.length&&Eh(p)}else Te[0]!="stop"&&Te[0]!="close"||Rs(p,7);else p.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Rs(p,7):Hy(p):Te[0]!="noop"&&p.l&&p.l.ta(Te),p.v=0)}}dc(4)}catch{}}var zV=class{constructor(c,h){this.g=c,this.map=h}};function ZC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function XC(c){return c.h?1:c.g?c.g.size:0}function Uy(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function By(c,h){c.g?c.g.add(h):c.h=h}function eT(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}ZC.prototype.cancel=function(){if(this.i=tT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function tT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return C(c.i)}function qV(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var h=[],p=c.length,y=0;y<p;y++)h.push(c[y]);return h}h=[],p=0;for(y in c)h[p++]=c[y];return h}function GV(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let y in c)h[p++]=y;return h}}}function nT(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=GV(c),y=qV(c),A=y.length,R=0;R<A;R++)h.call(void 0,y[R],p&&p[R],c)}var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WV(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var y=c[p].indexOf("="),A=null;if(0<=y){var R=c[p].substring(0,y);A=c[p].substring(y+1)}else R=c[p];h(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Ns(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ns){this.h=c.h,mh(this,c.j),this.o=c.o,this.g=c.g,gh(this,c.s),this.l=c.l;var h=c.i,p=new yc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),iT(this,p),this.m=c.m}else c&&(h=String(c).match(rT))?(this.h=!1,mh(this,h[1]||"",!0),this.o=mc(h[2]||""),this.g=mc(h[3]||"",!0),gh(this,h[4]),this.l=mc(h[5]||"",!0),iT(this,h[6]||"",!0),this.m=mc(h[7]||"")):(this.h=!1,this.i=new yc(null,this.h))}Ns.prototype.toString=function(){var c=[],h=this.j;h&&c.push(gc(h,sT,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(gc(h,sT,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(gc(p,p.charAt(0)=="/"?YV:QV,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",gc(p,JV)),c.join("")};function $r(c){return new Ns(c)}function mh(c,h,p){c.j=p?mc(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function gh(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function iT(c,h,p){h instanceof yc?(c.i=h,XV(c.i,c.h)):(p||(h=gc(h,ZV)),c.i=new yc(h,c.h))}function Ue(c,h,p){c.i.set(h,p)}function yh(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mc(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gc(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,KV),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function KV(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sT=/[#\/\?@]/g,QV=/[#\?:]/g,YV=/[#\?]/g,ZV=/[#\?@]/g,JV=/#/g;function yc(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Ii(c){c.g||(c.g=new Map,c.h=0,c.i&&WV(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=yc.prototype,t.add=function(c,h){Ii(this),this.i=null,c=qo(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function oT(c,h){Ii(c),h=qo(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function aT(c,h){return Ii(c),h=qo(c,h),c.g.has(h)}t.forEach=function(c,h){Ii(this),this.g.forEach(function(p,y){p.forEach(function(A){c.call(h,A,y,this)},this)},this)},t.na=function(){Ii(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=c[y];for(let R=0;R<A.length;R++)p.push(h[y])}return p},t.V=function(c){Ii(this);let h=[];if(typeof c=="string")aT(this,c)&&(h=h.concat(this.g.get(qo(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},t.set=function(c,h){return Ii(this),this.i=null,c=qo(this,c),aT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function uT(c,h,p){oT(c,h),0<p.length&&(c.i=null,c.g.set(qo(c,h),C(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var A=R;U[y]!==""&&(A+="="+encodeURIComponent(String(U[y]))),c.push(A)}}return this.i=c.join("&")};function qo(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function XV(c,h){h&&!c.j&&(Ii(c),c.i=null,c.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(oT(this,y),uT(this,A,p))},c)),c.j=h}function eL(c,h){let p=new fc;if(a.Image){let y=new Image;y.onload=g(Di,p,"TestLoadImage: loaded",!0,h,y),y.onerror=g(Di,p,"TestLoadImage: error",!1,h,y),y.onabort=g(Di,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(Di,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function tL(c,h){let p=new fc,y=new AbortController,A=setTimeout(()=>{y.abort(),Di(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(R=>{clearTimeout(A),R.ok?Di(p,"TestPingServer: ok",!0,h):Di(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Di(p,"TestPingServer: error",!1,h)})}function Di(c,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function nL(){this.g=new LV}function rL(c,h,p){let y=p||"";try{nT(c,function(A,R){let U=A;l(A)&&(U=Ny(A)),h.push(y+R+"="+encodeURIComponent(U))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function vc(c){this.l=c.Ub||null,this.j=c.eb||!1}w(vc,Ry),vc.prototype.g=function(){return new vh(this.l,this.j)},vc.prototype.i=function(c){return function(){return c}}({});function vh(c,h){Ot.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vh,Ot),t=vh.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,_c(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?wc(this):_c(this),this.readyState==3&&cT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,wc(this))},t.Qa=function(c){this.g&&(this.response=c,wc(this))},t.ga=function(){this.g&&wc(this)};function wc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_c(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function _c(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lT(c){let h="";return ne(c,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function $y(c,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=lT(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Ue(c,h,p))}function Je(c){Ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Je,Ot);var iL=/^https?$/i,sL=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Py.g(),this.v=this.o?jC(this.o):jC(Py),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(R){dT(this,R);return}if(c=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sL,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,U]of p)this.g.setRequestHeader(R,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pT(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){dT(this,R)}};function dT(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,hT(c),wh(c)}function hT(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),wh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wh(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fT(this):this.bb())},t.bb=function(){fT(this)};function fT(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Hr(c)!=4||c.Z()!=2)){if(c.u&&Hr(c)==4)PC(c.Ea,0,c);else if(Ht(c,"readystatechange"),Hr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var A=String(c.D).match(rT)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!iL.test(A?A.toLowerCase():"")}p=y}if(p)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var R=2<Hr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",hT(c)}}finally{wh(c)}}}}function wh(c,h){if(c.g){pT(c);let p=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||Ht(c,"ready");try{p.onreadystatechange=y}catch{}}}function pT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),VV(h)}};function mT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oL(c){let h={};c=(c.g&&2<=Hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(j(c[y]))continue;var p=S(c[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[A]||[];h[A]=R,R.push(p)}D(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ec(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function gT(c){this.Aa=0,this.i=[],this.j=new fc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ec("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ec("baseRetryDelayMs",5e3,c),this.cb=Ec("retryDelaySeedMs",1e4,c),this.Wa=Ec("forwardChannelMaxRetries",2,c),this.wa=Ec("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ZC(c&&c.concurrentRequestLimit),this.Da=new nL,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gT.prototype,t.la=8,t.G=1,t.connect=function(c,h,p,y){zt(0),this.W=c,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=CT(this,null,this.W),Eh(this)};function Hy(c){if(yT(c),c.G==3){var h=c.U++,p=$r(c.I);if(Ue(p,"SID",c.K),Ue(p,"RID",h),Ue(p,"TYPE","terminate"),Ic(c,p),h=new Ei(c,c.j,h),h.L=2,h.v=yh($r(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=TT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ph(h)}bT(c)}function _h(c){c.g&&(qy(c),c.g.cancel(),c.g=null)}function yT(c){_h(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ih(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Eh(c){if(!JC(c.h)&&!c.s){c.s=!0;var h=c.Ga;sc||xC(),oc||(sc(),oc=!0),Iy.add(h,c),c.B=0}}function aL(c,h){return XC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hc(m(c.Ga,c,h),DT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Ei(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=wT(this,A,h),p=$r(this.I),Ue(p,"RID",c),Ue(p,"CVER",22),this.D&&Ue(p,"X-HTTP-Session-Id",this.D),Ic(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(lT(R)))+"&"+h:this.m&&$y(p,this.m,R)),By(this.h,A),this.Ua&&Ue(p,"TYPE","init"),this.P?(Ue(p,"$req",h),Ue(p,"SID","null"),A.T=!0,Vy(A,p,null)):Vy(A,p,h),this.G=2}}else this.G==3&&(c?vT(this,c):this.i.length==0||JC(this.h)||vT(this))};function vT(c,h){var p;h?p=h.l:p=c.U++;let y=$r(c.I);Ue(y,"SID",c.K),Ue(y,"RID",p),Ue(y,"AID",c.T),Ic(c,y),c.m&&c.o&&$y(y,c.m,c.o),p=new Ei(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=wT(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),By(c.h,p),Vy(p,y,h)}function Ic(c,h){c.H&&ne(c.H,function(p,y){Ue(h,y,p)}),c.l&&nT({},function(p,y){Ue(h,y,p)})}function wT(c,h,p){p=Math.min(c.i.length,p);var y=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let U=["count="+p];R==-1?0<p?(R=A[0].g,U.push("ofs="+R)):R=0:U.push("ofs="+R);let Oe=!0;for(let Tt=0;Tt<p;Tt++){let Te=A[Tt].g,Pt=A[Tt].map;if(Te-=R,0>Te)R=Math.max(0,A[Tt].g-100),Oe=!1;else try{rL(Pt,U,"req"+Te+"_")}catch{y&&y(Pt)}}if(Oe){y=U.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,y}function _T(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;sc||xC(),oc||(sc(),oc=!0),Iy.add(h,c),c.v=0}}function zy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hc(m(c.Fa,c),DT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ET(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hc(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),_h(this),ET(this))};function qy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ET(c){c.g=new Ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=$r(c.qa);Ue(h,"RID","rpc"),Ue(h,"SID",c.K),Ue(h,"AID",c.T),Ue(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(h,"TO",c.ja),Ue(h,"TYPE","xmlhttp"),Ic(c,h),c.m&&c.o&&$y(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=yh($r(h)),p.m=null,p.P=!0,KC(p,c)}t.Za=function(){this.C!=null&&(this.C=null,_h(this),zy(this),zt(19))};function Ih(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function IT(c,h){var p=null;if(c.g==h){Ih(c),qy(c),c.g=null;var y=2}else if(Uy(c.h,h))p=h.D,eT(c.h,h),y=1;else return;if(c.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=c.B;y=dh(),Ht(y,new zC(y,p)),Eh(c)}else _T(c);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&aL(c,h)||y==2&&zy(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),A){case 1:Rs(c,5);break;case 4:Rs(c,10);break;case 3:Rs(c,6);break;default:Rs(c,2)}}}function DT(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function Rs(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),y=c.Xa;let A=!y;y=new Ns(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mh(y,"https"),yh(y),A?eL(y.toString(),p):tL(y.toString(),p)}else zt(2);c.G=0,c.l&&c.l.sa(h),bT(c),yT(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function bT(c){if(c.G=0,c.ka=[],c.l){let h=tT(c.h);(h.length!=0||c.i.length!=0)&&(T(c.ka,h),T(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function CT(c,h,p){var y=p instanceof Ns?$r(p):new Ns(p);if(y.g!="")h&&(y.g=h+"."+y.g),gh(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var R=new Ns(null);y&&mh(R,y),h&&(R.g=h),A&&gh(R,A),p&&(R.l=p),y=R}return p=c.D,h=c.ya,p&&h&&Ue(y,p,h),Ue(y,"VER",c.la),Ic(c,y),y}function TT(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new Je(new vc({eb:p})):new Je(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ST(){}t=ST.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dh(){}Dh.prototype.g=function(c,h){return new fn(c,h)};function fn(c,h){Ot.call(this),this.g=new gT(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!j(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Go(this)}w(fn,Ot),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Hy(this.g)},fn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Ny(c),c=p);h.i.push(new zV(h.Ya++,c)),h.G==3&&Eh(h)},fn.prototype.N=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,fn.aa.N.call(this)};function AT(c){ky.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}w(AT,ky);function xT(){Oy.call(this),this.status=1}w(xT,Oy);function Go(c){this.g=c}w(Go,ST),Go.prototype.ua=function(){Ht(this.g,"a")},Go.prototype.ta=function(c){Ht(this.g,new AT(c))},Go.prototype.sa=function(c){Ht(this.g,new xT)},Go.prototype.ra=function(){Ht(this.g,"b")},Dh.prototype.createWebChannel=Dh.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,AD=li.createWebChannelTransport=function(){return new Dh},SD=li.getStatEventTarget=function(){return dh()},TD=li.Event=xs,Xm=li.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hh.NO_ERROR=0,hh.TIMEOUT=8,hh.HTTP_ERROR=6,vd=li.ErrorCode=hh,qC.COMPLETE="complete",CD=li.EventType=qC,UC.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,gu=li.WebChannel=UC,bD=li.FetchXmlHttpFactory=vc,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,DD=li.XhrIo=Je}).apply(typeof Jm<"u"?Jm:typeof self<"u"?self:typeof window<"u"?window:{});var Hk="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var Wu="10.13.2";var gs=new Sh("@firebase/firestore");function Eu(){return gs.logLevel}function qO(t){gs.setLogLevel(t)}function V(t,...e){if(gs.logLevel<=dr.DEBUG){let n=e.map(kb);gs.debug(`Firestore (${Wu}): ${t}`,...n)}}function at(t,...e){if(gs.logLevel<=dr.ERROR){let n=e.map(kb);gs.error(`Firestore (${Wu}): ${t}`,...n)}}function Ln(t,...e){if(gs.logLevel<=dr.WARN){let n=e.map(kb);gs.warn(`Firestore (${Wu}): ${t}`,...n)}}function kb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function te(t,e){t||Q()}function GO(t,e){t||Q()}function $(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends PT{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},OD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},PD=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new gt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>k(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new lg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new mt(e)}},FD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},VD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},LD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jD=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.R=n.token,new LD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function c5(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var dg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=c5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function Mu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function WO(t){return t+"\0"}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends hg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},l5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=class t extends hg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return l5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var Nu=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function UD(t){return t.fields.find(e=>e.kind===2)}function wo(t){return t.fields.filter(e=>e.kind!==2)}Nu.UNKNOWN_ID=-1;var Su=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Md=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,jn.min())}};function KO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new jn(i,H.empty(),e)}function QO(t){return new jn(t.readTime,t.key,-1)}var jn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),H.empty(),-1)}static max(){return new t(re.max(),H.empty(),-1)}};function Ob(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var YO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ts(t){return k(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==YO)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var pg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new gt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Co(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Pb(r.target.error);this.V.reject(new Co(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Co(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new $D(n)}},ys=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Dc())===12.2&&at("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),_o(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Th())return!1;if(t.v())return!0;let e=Dc(),n=t.S(e),r=0<n&&n<10,i=ZO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return k(this,null,function*(){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Co(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new F(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new F(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Co(e,o))},i.onupgradeneeded=s=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return k(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=pg.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,l=u.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function ZO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var BD=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return _o(this.B.delete())}},Co=class extends F{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ss(t){return t.name==="IndexedDbTransactionError"}var $D=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_o(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),_o(this.store.add(e))}get(e){return _o(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),_o(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),_o(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new M((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){V("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{let o=Pb(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let u=new BD(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){let d=l.catch(f=>(u.done(),M.reject(f)));r.push(d)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function _o(t){return new M((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Pb(r.target.error);n(i)}})}var zk=!1;function Pb(t){let e=ys.S(Dc());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zk||(zk=!0,setTimeout(()=>{throw r},0)),r}}return t}var HD=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){V("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>k(this,null,function*(){this.task=null;try{V("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Ss(n)?V("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ts(n)}yield this.X(6e4)}))}},zD=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return k(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return V("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(V("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=QO(s);Ob(o,r)>0&&(r=o)}),new jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Xd(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function JO(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function en(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qk(e)),e=d5(t.get(n),e);return qk(e)}function d5(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function qk(t){return t+""}function Nr(t){let e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),be.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":let a=t.substring(s,o),u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new be(r)}var Gk=["userId","batchId"];function ig(t,e){return[t,en(e)]}function XO(t,e,n){return[t,en(e),n]}var h5={},f5=["prefixPath","collectionGroup","readTime","documentId"],p5=["prefixPath","collectionGroup","documentId"],m5=["collectionGroup","readTime","prefixPath","documentId"],g5=["canonicalId","targetId"],y5=["targetId","path"],v5=["path","targetId"],w5=["collectionId","parent"],_5=["indexId","uid"],E5=["uid","sequenceNumber"],I5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D5=["indexId","uid","orderedDocumentKey"],b5=["userId","collectionPath","documentId"],C5=["userId","collectionPath","largestBatchId"],T5=["userId","collectionGroup","largestBatchId"],eP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S5=[...eP,"documentOverlays"],tP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nP=tP,Fb=[...nP,"indexConfiguration","indexState","indexEntries"],A5=Fb,x5=[...Fb,"globals"];var Rd=class extends fg{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function _t(t,e){let n=$(t);return ys.F(n._e,e)}function Wk(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||kr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}},Tu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ve=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mg(this.data.getIterator())}getIteratorFrom(e){return new mg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},mg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function yu(t){return t.hasNext()?t.getNext():void 0}var Sn=class t{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ve(ut.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var gg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function iP(){return typeof atob<"u"}var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var M5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(te(!!t),typeof t=="string"){let e=0,n=M5.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}function oy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vb(t){let e=t.mapValue.fields.__previous_value__;return oy(e)?Vb(e):e}function kd(t){let e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var qD=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ws=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sg={nullValue:"NULL_VALUE"};function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oy(t)?4:sP(t)?9007199254740991:ay(t)?10:11:Q()}function Fr(t,e){if(t===e)return!0;let n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kd(t).isEqual(kd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=fi(i.timestampValue),a=fi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vs(i.bytesValue).isEqual(vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?Nd(o)===Nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Wk(o)!==Wk(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fr(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Od(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function _s(t,e){if(t===e)return 0;let n=To(t),r=To(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ge(s.integerValue||s.doubleValue),u=Ge(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Kk(t.timestampValue,e.timestampValue);case 4:return Kk(kd(t),kd(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){let a=vs(s),u=vs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let d=ae(a[l],u[l]);if(d!==0)return d}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ae(Ge(s.latitude),Ge(o.latitude));return a!==0?a:ae(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qk(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,d;let f=s.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(u=m.value)===null||u===void 0?void 0:u.arrayValue,C=ae(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return C!==0?C:Qk(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ps.mapValue&&o===ps.mapValue)return 0;if(s===ps.mapValue)return 1;if(o===ps.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){let m=ae(u[f],d[f]);if(m!==0)return m;let g=_s(a[u[f]],l[d[f]]);if(g!==0)return g}return ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function Kk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=fi(t),r=fi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Qk(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=_s(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Ru(t){return GD(t)}function GD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=GD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${GD(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function So(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WD(t){return!!t&&"integerValue"in t}function Pd(t){return!!t&&"arrayValue"in t}function Yk(t){return!!t&&"nullValue"in t}function Zk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function ay(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cd(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var oP={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function N5(t){return"nullValue"in t?sg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?So(ws.empty(),H.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ay(t)?oP:{mapValue:{}}:Q()}function R5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?So(ws.empty(),H.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?oP:"mapValue"in t?ay(t)?{mapValue:{}}:ps:Q()}function Jk(t,e){let n=_s(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Xk(t,e){let n=_s(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cd(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Cd(this.value))}};function aP(t){let e=[];return Vo(t.fields,(n,r)=>{let i=new ut([n]);if(og(r)){let s=aP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}var yt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vr=class{constructor(e,n){this.position=e,this.inclusive=n}};function eO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}var Ao=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function k5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yg=class{},_e=class t extends yg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YD(e,n,r):n==="array-contains"?new XD(e,r):n==="in"?new vg(e,r):n==="not-in"?new e0(e,r):n==="array-contains-any"?new t0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZD(e,r):new JD(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ke=class t extends yg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ku(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ku(t){return t.op==="and"}function KD(t){return t.op==="or"}function Lb(t){return uP(t)&&ku(t)}function uP(t){for(let e of t.filters)if(e instanceof ke)return!1;return!0}function QD(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(Lb(t))return t.filters.map(e=>QD(e)).join(",");{let e=t.filters.map(n=>QD(n)).join(",");return`${t.op}(${e})`}}function cP(t,e){return t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cP(o,i.filters[a]),!0):!1}(t,e):void Q()}function lP(t,e){let n=t.filters.concat(e);return ke.create(n,t.op)}function dP(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Ru(n.value)}`}(t):t instanceof ke?function(n){return n.op.toString()+" {"+n.getFilters().map(dP).join(" ,")+"}"}(t):"Filter"}var YD=class extends _e{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},ZD=class extends _e{constructor(e,n){super(e,"in",n),this.keys=hP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},JD=class extends _e{constructor(e,n){super(e,"not-in",n),this.keys=hP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function hP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var XD=class extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Pd(n)&&Od(n.arrayValue,this.value)}},vg=class extends _e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}},e0=class extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Od(this.value.arrayValue,n)}},t0=class extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}};var n0=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function r0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new n0(t,e,n,r,i,s,o)}function xo(t){let e=$(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>QD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),e.ue=n}return e.ue}function eh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tO(t.startAt,e.startAt)&&tO(t.endAt,e.endAt)}function wg(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _g(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function nO(t,e,n){let r=sg,i=!0;for(let s of _g(t,e)){let o=sg,a=!0;switch(s.op){case"<":case"<=":o=N5(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=sg}Jk({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];Jk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function rO(t,e,n){let r=ps,i=!0;for(let s of _g(t,e)){let o=ps,a=!0;switch(s.op){case">=":case">":o=R5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ps}Xk({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];Xk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var ar=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function fP(t,e,n,r,i,s,o,a){return new ar(t,e,n,r,i,s,o,a)}function Ku(t){return new ar(t)}function iO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jb(t){return t.collectionGroup!==null}function Au(t){let e=$(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ve(ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ao(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new Ao(ut.keyField(),r))}return e.ce}function tn(t){let e=$(t);return e.le||(e.le=O5(e,Au(t))),e.le}function O5(t,e){if(t.limitType==="F")return r0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ao(i.field,s)});let n=t.endAt?new Vr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vr(t.startAt.position,t.startAt.inclusive):null;return r0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i0(t,e){let n=t.filters.concat([e]);return new ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Eg(t,e,n){return new ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function th(t,e){return eh(tn(t),tn(e))&&t.limitType===e.limitType}function pP(t){return`${xo(tn(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dP(i)).join(", ")}]`),Xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ru(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ru(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function nh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Au(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=eO(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Au(r),i)||r.endAt&&!function(o,a,u){let l=eO(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Au(r),i))}(t,e)}function mP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gP(t){return(e,n)=>{let r=!1;for(let i of Au(t)){let s=P5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function P5(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?_s(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return rP(this.inner)}size(){return this.innerSize}};var F5=new He(H.comparator);function hn(){return F5}var yP=new He(H.comparator);function Dd(...t){let e=yP;for(let n of t)e=e.insert(n.key,n);return e}function vP(t){let e=yP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rr(){return Td()}function wP(){return Td()}function Td(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var V5=new He(H.comparator),L5=new Ve(H.comparator);function ue(...t){let e=L5;for(let n of t)e=e.add(n);return e}var j5=new Ve(ae);function Ub(){return j5}function Bb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function _P(t){return{integerValue:""+t}}function EP(t,e){return JO(e)?_P(e):Bb(t,e)}var Ou=class{constructor(){this._=void 0}};function U5(t,e,n){return t instanceof Es?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&oy(s)&&(s=Vb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pi?DP(t,e):t instanceof mi?bP(t,e):function(i,s){let o=IP(i,s),a=sO(o)+sO(i.Pe);return WD(o)&&WD(i.Pe)?_P(a):Bb(i.serializer,a)}(t,e)}function B5(t,e,n){return t instanceof pi?DP(t,e):t instanceof mi?bP(t,e):n}function IP(t,e){return t instanceof Is?function(r){return WD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Es=class extends Ou{},pi=class extends Ou{constructor(e){super(),this.elements=e}};function DP(t,e){let n=CP(e);for(let r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}var mi=class extends Ou{constructor(e){super(),this.elements=e}};function bP(t,e){let n=CP(e);for(let r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}var Is=class extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function sO(t){return Ge(t.integerValue||t.doubleValue)}function CP(t){return Pd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mo=class{constructor(e,n){this.field=e,this.transform=n}};function $5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pi&&i instanceof pi||r instanceof mi&&i instanceof mi?Mu(r.elements,i.elements,Fr):r instanceof Is&&i instanceof Is?Fr(r.Pe,i.Pe):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var s0=class{constructor(e,n){this.version=e,this.transformResults=n}},it=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ag(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Pu=class{};function TP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bs(t.key,it.none()):new Ds(t.key,t.data,it.none());{let n=t.data,r=$t.empty(),i=new Ve(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ur(t.key,r,new Sn(i.toArray()),it.none())}}function H5(t,e,n){t instanceof Ds?function(i,s,o){let a=i.value.clone(),u=aO(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,s,o){if(!ag(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=aO(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(SP(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sd(t,e,n,r){return t instanceof Ds?function(s,o,a,u){if(!ag(s.precondition,o))return a;let l=s.value.clone(),d=uO(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(s,o,a,u){if(!ag(s.precondition,o))return a;let l=uO(s.fieldTransforms,u,o),d=o.data;return d.setAll(SP(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ag(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z5(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=IP(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function oO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mu(r,i,(s,o)=>$5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ds=class extends Pu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends Pu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function SP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aO(t,e,n){let r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B5(o,a,n[i]))}return r}function uO(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,U5(s,o,e))}return r}var bs=class extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fd=class extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vd=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&H5(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=TP(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(n,r)=>oO(n,r))&&Mu(this.baseMutations,e.baseMutations,(n,r)=>oO(n,r))}},o0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=function(){return V5}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Ld=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var a0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ft,De;function AP(t){switch(t){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function xP(t){if(t===void 0)return at("GRPC error has no .code"),N.UNKNOWN;switch(t){case ft.OK:return N.OK;case ft.CANCELLED:return N.CANCELLED;case ft.UNKNOWN:return N.UNKNOWN;case ft.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ft.INTERNAL:return N.INTERNAL;case ft.UNAVAILABLE:return N.UNAVAILABLE;case ft.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ft.NOT_FOUND:return N.NOT_FOUND;case ft.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ft.ABORTED:return N.ABORTED;case ft.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ft.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(De=ft||(ft={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var cO=null;function MP(){return new TextEncoder}var q5=new cs([4294967295,4294967295],0);function lO(t){let e=MP().encode(t),n=new ID;return n.update(e),new Uint8Array(n.digest())}function dO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cs([n,r],0),new cs([i,s],0)]}var u0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cs.fromNumber(r)));return i.compare(q5)===1&&(i=new cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=lO(e),[r,i]=dO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=lO(e),[r,i]=dO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},bo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new He(ae),hn(),ue())}},Ud=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var xu=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ig=class{constructor(e,n){this.targetId=e,this.me=n}},Dg=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},bg=class{constructor(){this.fe=0,this.ge=fO(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ud(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=fO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},c0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hn(),this.qe=hO(),this.Qe=new He(ae)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(wg(s))if(r===0){let o=new H(s.path);this.Ue(n,o,yt.newNoDocument(o,re.min()))}else te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}cO?.et(function(d,f,m,g,w){var C,T,O,j,P,K;let J={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ne=f.unchangedNames;return ne&&(J.bloomFilter={applied:w===0,hashCount:(C=ne?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(j=(O=(T=ne?.bits)===null||T===void 0?void 0:T.bitmap)===null||O===void 0?void 0:O.length)!==null&&j!==void 0?j:0,padding:(K=(P=ne?.bits)===null||P===void 0?void 0:P.padding)!==null&&K!==void 0?K:0,mightContain:D=>{var v;return(v=g?.mightContain(D))!==null&&v!==void 0&&v}}),J}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=vs(r).toUint8Array()}catch(u){if(u instanceof gg)return Ln("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new u0(o,i,s)}catch(u){return Ln(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&wg(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,yt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new jd(e,n,this.Qe,this.ke,r);return this.ke=hn(),this.qe=hO(),this.Qe=new He(ae),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(ae),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function hO(){return new He(H.comparator)}function fO(){return new He(H.comparator)}var G5={asc:"ASCENDING",desc:"DESCENDING"},W5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K5={and:"AND",or:"OR"},l0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function d0(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q5(t,e){return Fu(t,e.toTimestamp())}function ct(t){return te(!!t),re.fromTimestamp(function(n){let r=fi(n);return new Ze(r.seconds,r.nanos)}(t))}function $b(t,e){return h0(t,e).canonicalString()}function h0(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RP(t){let e=be.fromString(t);return te($P(e)),e}function Bd(t,e){return $b(t.databaseId,e.path)}function Or(t,e){let n=RP(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(PP(n))}function kP(t,e){return $b(t.databaseId,e)}function OP(t){let e=RP(t);return e.length===4?be.emptyPath():PP(e)}function f0(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PP(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pO(t,e,n){return{name:Bd(t,e),fields:n.value.mapValue.fields}}function FP(t,e,n){let r=Or(t,e.name),i=ct(e.updateTime),s=e.createTime?ct(e.createTime):re.min(),o=new $t({mapValue:{fields:e.fields}}),a=yt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Y5(t,e){return"found"in e?function(r,i){te(!!i.found),i.found.name,i.found.updateTime;let s=Or(r,i.found.name),o=ct(i.found.updateTime),a=i.found.createTime?ct(i.found.createTime):re.min(),u=new $t({mapValue:{fields:i.found.fields}});return yt.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){te(!!i.missing),te(!!i.readTime);let s=Or(r,i.missing),o=ct(i.readTime);return yt.newNoDocument(s,o)}(t,e):Q()}function Z5(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(te(d===void 0||typeof d=="string"),lt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?N.UNKNOWN:xP(l.code);return new F(d,l.message||"")}(o);n=new Dg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Or(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):re.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=yt.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new xu(l,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Or(t,r.document),s=r.readTime?ct(r.readTime):re.min(),o=yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Or(t,r.document),s=r.removedTargetIds||[];n=new xu([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new a0(i,s),a=r.targetId;n=new Ig(a,o)}}return n}function $d(t,e){let n;if(e instanceof Ds)n={update:pO(t,e.key,e.value)};else if(e instanceof bs)n={delete:Bd(t,e.key)};else if(e instanceof ur)n={update:pO(t,e.key,e.data),updateMask:rW(e.fieldMask)};else{if(!(e instanceof Fd))return Q();n={verify:Bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Es)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function p0(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?it.updateTime(ct(s.updateTime)):s.exists!==void 0?it.exists(s.exists):it.none()}(e.currentDocument):it.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),u=new Es;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];u=new pi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];u=new mi(d)}else"increment"in a?u=new Is(o,a.increment):Q();let l=ut.fromServerFormat(a.fieldPath);return new Mo(l,u)}(t,i)):[];if(e.update){e.update.name;let i=Or(t,e.update.name),s=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(u){let l=u.fieldPaths||[];return new Sn(l.map(d=>ut.fromServerFormat(d)))}(e.updateMask);return new ur(i,s,o,n,r)}return new Ds(i,s,n,r)}if(e.delete){let i=Or(t,e.delete);return new bs(i,n)}if(e.verify){let i=Or(t,e.verify);return new Fd(i,n)}return Q()}function J5(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ct(i.updateTime):ct(s);return o.isEqual(re.min())&&(o=ct(s)),new s0(o,i.transformResults||[])}(n,e))):[]}function VP(t,e){return{documents:[kP(t,e.path)]}}function LP(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kP(t,i);let s=function(l){if(l.length!==0)return BP(ke.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(m){return{field:Du(m.field),direction:eW(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=d0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function jP(t){let e=OP(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){te(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=UP(f);return m instanceof ke&&Lb(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new Ao(bu(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Xd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){let m=!!f.before,g=f.values||[];return new Vr(g,m)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Vr(g,m)}(n.endAt)),fP(e,i,o,s,a,"F",u,l)}function X5(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=bu(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bu(n.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=bu(n.unaryFilter.field);return _e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=bu(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return _e.create(bu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ke.create(n.compositeFilter.filters.map(r=>UP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function eW(t){return G5[t]}function tW(t){return W5[t]}function nW(t){return K5[t]}function Du(t){return{fieldPath:t.canonicalString()}}function bu(t){return ut.fromServerFormat(t.fieldPath)}function BP(t){return t instanceof _e?function(n){if(n.op==="=="){if(Zk(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NAN"}};if(Yk(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zk(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NOT_NAN"}};if(Yk(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(n.field),op:tW(n.op),value:n.value}}}(t):t instanceof ke?function(n){let r=n.getFilters().map(i=>BP(i));return r.length===1?r[0]:{compositeFilter:{op:nW(n.op),filters:r}}}(t):Q()}function rW(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $P(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Vu=class t{constructor(e,n,r,i,s=re.min(),o=re.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cg=class{constructor(e){this.ct=e}};function iW(t,e){let n;if(e.document)n=FP(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=H.fromSegments(e.noDocument.path),i=Ro(e.noDocument.readTime);n=yt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{let r=H.fromSegments(e.unknownDocument.path),i=Ro(e.unknownDocument.version);n=yt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new Ze(i[0],i[1]);return re.fromTimestamp(s)}(e.readTime)),n}function mO(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Bd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Fu(s,o.version.toTimestamp()),createTime:Fu(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:No(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:No(e.version)}}return r}function Tg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function No(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ro(t){let e=new Ze(t.seconds,t.nanoseconds);return re.fromTimestamp(e)}function Eo(t,e){let n=(e.baseMutations||[]).map(s=>p0(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>p0(t.ct,s)),i=Ze.fromMillis(e.localWriteTimeMs);return new Vd(e.batchId,i,n,r)}function bd(t){let e=Ro(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ro(t.lastLimboFreeSnapshotVersion):re.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return te(s.documents.length===1),tn(Ku(OP(s.documents[0])))}(t.query):function(s){return tn(jP(s))}(t.query),new Vu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,lt.fromBase64String(t.resumeToken))}function HP(t,e){let n=No(e.snapshotVersion),r=No(e.lastLimboFreeSnapshotVersion),i;i=wg(e.target)?VP(t.ct,e.target):LP(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hb(t){let e=jP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Eg(e,e.limit,"L"):e}function xD(t,e){return new Ld(e.largestBatchId,p0(t.ct,e.overlayMutation))}function gO(t,e){let n=e.path.lastSegment();return[t,en(e.path.popLast()),n]}function yO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:No(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}var m0=class{getBundleMetadata(e,n){return vO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ro(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return vO(e).put(function(i){return{bundleId:i.id,createTime:No(ct(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return wO(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Hb(s.bundledQuery),readTime:Ro(s.readTime)}}(r)})}saveNamedQuery(e,n){return wO(e).put(function(i){return{name:i.name,readTime:No(ct(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function vO(t){return _t(t,"bundles")}function wO(t){return _t(t,"namedQueries")}var Sg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return wd(e).get(gO(this.userId,n)).next(r=>r?xD(this.serializer,r):null)}getOverlays(e,n){let r=Rr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Ld(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(en(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(wd(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){let i=Rr(),s=en(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wd(e).U("collectionPathOverlayIndex",o).next(a=>{for(let u of a){let l=xD(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=Rr(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wd(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{let f=xD(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return wd(e).put(function(i,s,o){let[a,u,l]=gO(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:$d(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function wd(t){return _t(t,"documentOverlays")}var g0=class{Pt(e){return _t(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{let r=n?.value;return r?lt.fromUint8Array(r):lt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}};var di=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Nd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=fi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(vs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?sP(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ay(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};di.vt=new di;function sW(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _O(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=sW(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var y0=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let n=this.qt(e),r=_O(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){let n=this.qt(e),r=_O(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){let n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},v0=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},w0=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Io=class{constructor(){this.jt=new y0,this.Ht=new v0(this.jt),this.Jt=new w0(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Do=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function ls(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=EO(t.arrayValue,e.arrayValue),n!==0?n:(n=EO(t.directionalValue,e.directionalValue),n!==0?n:H.comparator(t.documentKey,e.documentKey)))}function EO(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Ag=class{constructor(e){this.Xt=new Ve((n,r)=>ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let n of e.filters){let r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(te(e.collectionGroup===this.collectionId),this.nn)return!1;let n=UD(e);if(n!==void 0&&!this.sn(n))return!1;let r=wo(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let u=r[s];if(!this.on(a,u)||!this._n(this.en[o++],u))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Ve(ut.comparator),n=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Su(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Su(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Su(r.field,r.dir==="asc"?0:1)));return new Nu(Nu.UNKNOWN_ID,this.collectionId,n,Md.empty())}sn(e){for(let n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function zP(t){var e,n;if(te(t instanceof _e||t instanceof ke),t instanceof _e){if(t instanceof vg){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>_e.create(t.field,"==",s)))||[];return ke.create(i,"or")}return t}let r=t.filters.map(i=>zP(i));return ke.create(r,t.op)}function oW(t){if(t.getFilters().length===0)return[];let e=I0(zP(t));return te(qP(e)),_0(e)||E0(e)?[e]:e.getFilters()}function _0(t){return t instanceof _e}function E0(t){return t instanceof ke&&Lb(t)}function qP(t){return _0(t)||E0(t)||function(n){if(n instanceof ke&&KD(n)){for(let r of n.getFilters())if(!_0(r)&&!E0(r))return!1;return!0}return!1}(t)}function I0(t){if(te(t instanceof _e||t instanceof ke),t instanceof _e)return t;if(t.filters.length===1)return I0(t.filters[0]);let e=t.filters.map(r=>I0(r)),n=ke.create(e,t.op);return n=xg(n),qP(n)?n:(te(n instanceof ke),te(ku(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>zb(r,i)))}function zb(t,e){let n;return te(t instanceof _e||t instanceof ke),te(e instanceof _e||e instanceof ke),n=t instanceof _e?e instanceof _e?function(i,s){return ke.create([i,s],"and")}(t,e):IO(t,e):e instanceof _e?IO(e,t):function(i,s){if(te(i.filters.length>0&&s.filters.length>0),ku(i)&&ku(s))return lP(i,s.getFilters());let o=KD(i)?i:s,a=KD(i)?s:i,u=o.filters.map(l=>zb(l,a));return ke.create(u,"or")}(t,e),xg(n)}function IO(t,e){if(ku(e))return lP(e,t.getFilters());{let n=e.filters.map(r=>zb(t,r));return ke.create(n,"or")}}function xg(t){if(te(t instanceof _e||t instanceof ke),t instanceof _e)return t;let e=t.getFilters();if(e.length===1)return xg(e[0]);if(uP(t))return t;let n=e.map(i=>xg(i)),r=[];return n.forEach(i=>{i instanceof _e?r.push(i):i instanceof ke&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ke.create(r,t.op)}var D0=class{constructor(){this.un=new Hd}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(jn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Hd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(be.comparator)).toArray()}};var eg=new Uint8Array(0),b0=class{constructor(e,n){this.databaseId=n,this.cn=new Hd,this.ln=new Lr(r=>xo(r),(r,i)=>eh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});let s={collectionId:r,parent:en(i)};return DO(e).put(s)}return M.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[WO(n),""],!1,!0);return DO(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(Nr(o.parent))}return r})}addFieldIndex(e,n){let r=_d(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=wu(e);return s.next(a=>{o.put(yO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=_d(e),i=wu(e),s=vu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=_d(e),r=vu(e),i=wu(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new Ag(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=vu(e),i=!0,s=new Map;return M.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue(),a=[];return M.forEach(s,(u,l)=>{V("IndexedDbIndexManager",`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`}(u)} to execute ${xo(n)}`);let d=function(P,K){let J=UD(K);if(J===void 0)return null;for(let ne of _g(P,J.fieldPath))switch(ne.op){case"array-contains-any":return ne.value.arrayValue.values||[];case"array-contains":return[ne.value]}return null}(l,u),f=function(P,K){let J=new Map;for(let ne of wo(K))for(let D of _g(P,ne.fieldPath))switch(D.op){case"==":case"in":J.set(ne.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return J.set(ne.fieldPath.canonicalString(),D.value),Array.from(J.values())}return null}(l,u),m=function(P,K){let J=[],ne=!0;for(let D of wo(K)){let v=D.kind===0?nO(P,D.fieldPath,P.startAt):rO(P,D.fieldPath,P.startAt);J.push(v.value),ne&&(ne=v.inclusive)}return new Vr(J,ne)}(l,u),g=function(P,K){let J=[],ne=!0;for(let D of wo(K)){let v=D.kind===0?rO(P,D.fieldPath,P.endAt):nO(P,D.fieldPath,P.endAt);J.push(v.value),ne&&(ne=v.inclusive)}return new Vr(J,ne)}(l,u),w=this.In(u,l,m),C=this.In(u,l,g),T=this.Tn(u,l,f),O=this.En(u.indexId,d,w,m.inclusive,C,g.inclusive,T);return M.forEach(O,j=>r.G(j,n.limit).next(P=>{P.forEach(K=>{let J=H.fromSegments(K.documentKey);o.has(J)||(o=o.add(J),a.push(J))})}))}).next(()=>a)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=oW(ke.create(e.filters,"and")).map(r=>r0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){let u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),d=[];for(let f=0;f<u;++f){let m=n?this.dn(n[f/l]):eg,g=this.An(e,m,r[f%l],i),w=this.Rn(e,m,s[f%l],o),C=a.map(T=>this.An(e,m,T,!0));d.push(...this.createRange(g,w,C))}return d}An(e,n,r,i){let s=new Do(e,H.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){let s=new Do(e,H.empty(),n,r);return i?s.Zt():s}Pn(e,n){let r=new Ag(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.hn(n);return M.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new Ve(ut.comparator),d=!1;for(let f of u.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:l=l.add(m.field));for(let f of u.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){let r=new Io;for(let i of wo(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);di.vt.It(s,o)}return r.zt()}dn(e){let n=new Io;return di.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){let r=new Io;return di.vt.It(So(this.databaseId,n),r.Yt(function(s){let o=wo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Io);let s=0;for(let o of wo(e)){let a=r[s++];for(let u of i)if(this.fn(n,o.fieldPath)&&Pd(a))i=this.gn(i,o,a);else{let l=u.Yt(o.kind);di.vt.It(a,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let u=new Io;u.seed(a.zt()),di.vt.It(o,u.Yt(n.kind)),s.push(u)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=_d(e),i=wu(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,f){let m=f?new Md(f.sequenceNumber,new jn(Ro(f.readTime),new H(Nr(f.documentKey)),f.largestBatchId)):Md.empty(),g=d.fields.map(([w,C])=>new Su(ut.fromServerFormat(w),C));return new Nu(d.indexId,d.collectionGroup,g,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=_d(e),s=wu(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(yO(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return M.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.wn(e,i,u).next(l=>{let d=this.Sn(s,u);return l.isEqual(d)?M.resolve():this.bn(e,s,u,l,d)}))))})}Dn(e,n,r,i){return vu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return vu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){let i=vu(e),s=new Ve(ls);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Do(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Ve(ls),i=this.Vn(n,e);if(i==null)return r;let s=UD(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Pd(o))for(let a of o.arrayValue.values||[])r=r.add(new Do(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Do(n.indexId,e.key,eg,i));return r}bn(e,n,r,i,s){V("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(u,l,d,f,m){let g=u.getIterator(),w=l.getIterator(),C=yu(g),T=yu(w);for(;C||T;){let O=!1,j=!1;if(C&&T){let P=d(C,T);P<0?j=!0:P>0&&(O=!0)}else C!=null?j=!0:O=!0;O?(f(T),T=yu(w)):j?(m(C),C=yu(g)):(C=yu(g),T=yu(w))}}(i,s,ls,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),M.waitFor(o)}yn(e){let n=1;return wu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ls(o,a)).filter((o,a,u)=>!a||ls(o,u[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=ls(o,e),u=ls(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,eg,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,eg,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return ls(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(bO)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Q())).next(bO)}};function DO(t){return _t(t,"collectionParents")}function vu(t){return _t(t,"indexEntries")}function _d(t){return _t(t,"indexConfiguration")}function wu(t){return _t(t,"indexState")}function bO(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Ob(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}var CO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function GP(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.J({range:o},(d,f,m)=>(a++,m.delete()));s.push(u.next(()=>{te(a===1)}));let l=[];for(let d of n.mutations){let f=XO(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return M.waitFor(s).next(()=>l)}function Mg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var Ng=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){te(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Cu(e),o=ds(e);return o.add({}).next(a=>{te(typeof a=="number");let u=new Vd(a,n,r,i),l=function(g,w,C){let T=C.baseMutations.map(j=>$d(g.ct,j)),O=C.mutations.map(j=>$d(g.ct,j));return{userId:w,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:T,mutations:O}}(this.serializer,this.userId,u),d=[],f=new Ve((m,g)=>ae(m.canonicalString(),g.canonicalString()));for(let m of i){let g=XO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(l)),d.push(s.put(g,h5))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=u.keys()}),M.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return ds(e).get(n).next(r=>r?(te(r.userId===this.userId),Eo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return ds(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(te(a.batchId>=r),s=Eo(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ds(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ds(e).U("userMutationsIndex",n).next(r=>r.map(i=>Eo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=ig(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Cu(e).J({range:i},(o,a,u)=>{let[l,d,f]=o,m=Nr(d);if(l===this.userId&&n.path.isEqual(m))return ds(e).get(f).next(g=>{if(!g)throw Q();te(g.userId===this.userId),s.push(Eo(this.serializer,g))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ae),i=[];return n.forEach(s=>{let o=ig(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Cu(e).J({range:a},(l,d,f)=>{let[m,g,w]=l,C=Nr(g);m===this.userId&&s.path.isEqual(C)?r=r.add(w):f.done()});i.push(u)}),M.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=ig(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ve(ae);return Cu(e).J({range:o},(u,l,d)=>{let[f,m,g]=u,w=Nr(m);f===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(ds(e).get(s).next(o=>{if(o===null)throw Q();te(o.userId===this.userId),r.push(Eo(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return GP(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Cu(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let u=Nr(s[1]);i.push(u)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return WP(e,this.userId,n)}Nn(e){return KP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function WP(t,e,n){let r=ig(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Cu(t).J({range:s,H:!0},(a,u,l)=>{let[d,f,m]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function ds(t){return _t(t,"mutations")}function Cu(t){return _t(t,"documentMutations")}function KP(t){return _t(t,"mutationQueues")}var Lu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var C0=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{let r=new Lu(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>re.fromTimestamp(new Ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>_u(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return _u(e).J((o,a)=>{let u=bd(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return _u(e).J((r,i)=>{let s=bd(i);n(s)})}qn(e){return TO(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Qn(e,n){return TO(e).put("targetGlobalKey",n)}Kn(e,n){return _u(e).put(HP(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=xo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return _u(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{let l=bd(a);eh(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=hs(e);return n.forEach(o=>{let a=en(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){let i=hs(e);return M.forEach(n,s=>{let o=en(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=hs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=hs(e),s=ue();return i.J({range:r,H:!0},(o,a,u)=>{let l=Nr(o[1]),d=new H(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=en(n.path),i=IDBKeyRange.bound([r],[WO(r)],!1,!0),s=0;return hs(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return _u(e).get(n).next(r=>r?bd(r):null)}};function _u(t){return _t(t,"targets")}function TO(t){return _t(t,"targetGlobal")}function hs(t){return _t(t,"targetDocuments")}function SO([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var T0=class{constructor(e){this.Un=e,this.buffer=new Ve(SO),this.Wn=0}Gn(){return++this.Wn}zn(e){let n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();SO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},S0=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>k(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ss(n)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ts(n)}yield this.Hn(3e5)}))}},A0=class{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Tn.oe);let r=new T0(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(CO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CO):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,u,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Eu()<=dr.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function aW(t,e){return new A0(t,e)}var x0=class{constructor(e,n){this.db=e,this.garbageCollector=aW(this,n)}Yn(e){let n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return tg(e,r)}removeReference(e,n,r){return tg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return tg(e,n)}nr(e,n){return function(i,s){let o=!1;return KP(i).Y(a=>WP(i,a,s).next(u=>(u&&(o=!0),M.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=n){let u=this.nr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,re.min()),hs(e).delete(function(f){return[0,en(f.path)]}(o))))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return tg(e,n)}tr(e,n){let r=hs(e),i,s=Tn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==Tn.oe&&n(new H(Nr(i)),s),s=l,i=u):s=Tn.oe}).next(()=>{s!==Tn.oe&&n(new H(Nr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function tg(t,e){return hs(t).put(function(r,i){return{targetId:0,path:en(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Rg=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var M0=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vo(e).put(r)}removeEntry(e,n,r){return vo(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=yt.newInvalidDocument(n);return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:yt.newInvalidDocument(n)};return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(n))},(i,s)=>{r={document:this.ir(n,s),size:Mg(s)}}).next(()=>r)}getEntries(e,n){let r=hn();return this._r(e,n,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=hn(),i=new He(H.comparator);return this._r(e,n,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Mg(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let i=new Ve(MO);n.forEach(u=>i=i.add(u));let s=IDBKeyRange.bound(Ed(i.first()),Ed(i.last())),o=i.getIterator(),a=o.getNext();return vo(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{let f=H.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&MO(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(Ed(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vo(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=hn();for(let f of l){let m=this.ir(H.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(nh(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=hn(),o=xO(n,r),a=xO(n,jn.max());return vo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{let f=this.ir(H.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new N0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return AO(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}rr(e,n){return AO(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){let r=iW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return yt.newInvalidDocument(e)}};function QP(t){return new M0(t)}var N0=class extends Rg{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Lr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ve((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let u=mO(this.cr.serializer,o);i=i.add(s.path.popLast());let l=Mg(u);r+=l-a.size,n.push(this.cr.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){let u=mO(this.cr.serializer,o.convertToNoDocument(re.min()));n.push(this.cr.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function AO(t){return _t(t,"remoteDocumentGlobal")}function vo(t){return _t(t,"remoteDocumentsV14")}function Ed(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xO(t,e){let n=e.documentKey.path.toArray();return[t,Tg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MO(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}var R0=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var kg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sd(r.mutation,i,Sn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hn(),o=Td(),a=function(){return Td()}();return n.forEach((u,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof ur)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Sd(d.mutation,l,d.mutation.getFieldMask(),Ze.now())):o.set(l.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new R0(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Td(),i=new He((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let d=r.get(u)||Sn.empty();d=a.applyToLocalView(l,d),r.set(u,d);let f=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,d=u.value,f=wP();d.forEach(m=>{if(!s.has(m)){let g=TP(n.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Rr()),a=-1,u=s;return o.next(l=>M.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(d=>({batchId:a,changes:vP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Dd();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{let l=function(f,m){return new ar(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,yt.newInvalidDocument(d)))});let a=Dd();return o.forEach((u,l)=>{let d=s.get(u);d!==void 0&&Sd(d.mutation,l,Sn.empty(),Ze.now()),nh(n,l)&&(a=a.insert(u,l))}),a})}};var k0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ct(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Hb(i.bundledQuery),readTime:ct(i.readTime)}}(n)),M.resolve()}};var O0=class{constructor(){this.overlays=new He(H.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Rr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Rr(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=Rr(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Rr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ld(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var P0=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var zd=class{constructor(){this.Tr=new Ve(pt.Er),this.dr=new Ve(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new be([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new be([])),r=new pt(n,e),i=new pt(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||H.comparator(e.key,n.key)}};var F0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ve(pt.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vd(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ae);return n.forEach(i=>{let s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new pt(new H(s),0),a=new Ve(ae);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new pt(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var V0=class{constructor(e){this.Mr=e,this.docs=function(){return new He(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=hn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hn(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Ob(QO(d),r)<=0||(i.has(d.key)||nh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L0(this)}getSize(e){return M.resolve(this.size)}},L0=class extends Rg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var j0=class{constructor(e){this.persistence=e,this.Nr=new Lr(n=>xo(n),eh),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zd,this.targetCount=0,this.kr=Lu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Og=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Tn(0),this.Kr=!1,this.Kr=!0,this.$r=new P0,this.referenceDelegate=e(this),this.Ur=new j0(this),this.indexManager=new D0,this.remoteDocumentCache=function(i){return new V0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Cg(n),this.Gr=new k0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new F0(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new U0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},U0=class extends fg{constructor(e){super(),this.currentSequenceNumber=e}},Pg=class t{constructor(e){this.persistence=e,this.Jr=new zd,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var B0=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new pg("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gk,{unique:!0}),u.createObjectStore("documentMutations")}(e),NO(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),NO(e)),o=o.next(()=>function(u){let l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gk,{unique:!0});let f=l.store("mutations"),m=d.map(g=>f.put(g));return M.waitFor(m)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){let l=u.createObjectStore("documentOverlays",{keyPath:b5});l.createIndex("collectionPathOverlayIndex",C5,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",T5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){let l=u.createObjectStore("remoteDocumentsV14",{keyPath:f5});l.createIndex("documentKeyIndex",p5),l.createIndex("collectionGroupIndex",m5)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:_5}).createIndex("sequenceNumberIndex",E5,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:I5}).createIndex("documentKeyIndex",D5,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Mg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,u=>{te(u.userId===s.userId);let l=Eo(this.serializer,u);return GP(e,s.userId,l).next(()=>{})}))}))}ii(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let u=new be(o),l=function(f){return[0,en(f)]}(u);s.push(n.get(l).next(d=>d?M.resolve():(f=>n.put({targetId:0,path:en(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:w5});let r=n.store("collectionParents"),i=new Hd,s=o=>{if(i.add(o)){let a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:en(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let u=new be(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{let d=Nr(a);return s(d.popLast())}))}oi(e){let n=e.store("targets");return n.J((r,i)=>{let s=bd(i),o=HP(this.serializer,s);return n.put(o)})}_i(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),u=function(f){return f.document?new H(be.fromString(f.document.name).popFirst(5)):f.noDocument?H.fromSegments(f.noDocument.path):f.unknownDocument?H.fromSegments(f.unknownDocument.path):Q()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>M.waitFor(i))}ai(e,n){let r=n.store("mutations"),i=QP(this.serializer),s=new Og(Pg.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:ue();Eo(this.serializer,u).keys().forEach(f=>d=d.add(f)),a.set(u.userId,d)}),M.forEach(a,(u,l)=>{let d=new mt(l),f=Sg.lt(this.serializer,d),m=s.getIndexManager(d),g=Ng.lt(d,this.serializer,m,s.referenceDelegate);return new kg(i,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Rd(n,Tn.oe),u).next()})})}};function NO(t){t.createObjectStore("targetDocuments",{keyPath:y5}).createIndex("documentTargetsIndex",v5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g5,{unique:!0}),t.createObjectStore("targetGlobal")}var MD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$0=class t{constructor(e,n,r,i,s,o,a,u,l,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!t.D())throw new F(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x0(this,i),this.Ai=n+"main",this.serializer=new Cg(u),this.Ri=new ys(this.Ai,this.hi,new B0(this.serializer)),this.$r=new g0,this.Ur=new C0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QP(this.serializer),this.Gr=new m0,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&at("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,MD);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Tn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=n=>k(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(n=>k(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>k(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ng(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Ss(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Id(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return ng(e).delete(this.clientId)}Fi(){return k(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=_t(n,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let n of e)this.Vi.removeItem(this.Oi(n.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):Id(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,MD);return!1}}return!(!this.networkEnabled||!this.inForeground)||ng(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&V("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return k(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Rd(e,Tn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()})}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>ng(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Ng.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b0(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Sg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===17?x5:u===16?A5:u===15?Fb:u===14?nP:u===13?tP:u===12?S5:u===11?eP:void Q()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new Rd(a,this.Qr?this.Qr.next():Tn.oe),n==="readwrite-primary"?this.wi(o).next(u=>!!u||this.Si(o)).next(u=>{if(!u)throw at(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new F(N.FAILED_PRECONDITION,YO);return r(o)}).next(u=>this.Di(o).next(()=>u)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Id(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new F(N.FAILED_PRECONDITION,MD)})}Di(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Id(e).put("owner",n)}static D(){return ys.D()}bi(e){let n=Id(e);return n.get("owner").next(r=>this.vi(r)?(V("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(at(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let n=/(?:Version|Mobile)\/1[456]/;Yy()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{let r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return at("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){at("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Id(t){return _t(t,"owner")}function ng(t){return _t(t,"clientMetadata")}function qb(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var H0=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var z0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yy()?8:ZO(Dc())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new z0;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Eu()<=dr.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Eu()<=dr.DEBUG&&V("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Eu()<=dr.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):M.resolve())}Yi(e,n){if(iO(n))return M.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Eg(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Eg(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return iO(n)||i.isEqual(re.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(Eu()<=dr.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.rs(e,o,n,KO(i,-1)).next(a=>a))})}ts(e,n){let r=new Ve(gP(e));return n.forEach((i,s)=>{nh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Eu()<=dr.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.Ji.getDocumentsMatchingQuery(e,n,jn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var q0=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(ae),this._s=new Lr(s=>xo(s),eh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function YP(t,e,n,r){return new q0(t,e,n,r)}function ZP(t,e){return k(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function uW(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){let f=l.batch,m=f.keys(),g=M.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(C=>{let T=l.docVersions.get(w);te(T!==null),C.version.compareTo(T)<0&&(f.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),d.addEntry(C)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JP(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function cW(t,e){let n=$(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(lt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(C,T,O){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let u=hn(),l=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(XP(s,o,e.documentUpdates).next(d=>{u=d.Ps,l=d.Is})),!r.isEqual(re.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function XP(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function lW(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ju(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Vu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Uu(t,e,n){return k(this,null,function*(){let r=$(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ss(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Vg(t,e,n){let r=$(t),i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){let f=$(u),m=f._s.get(d);return m!==void 0?M.resolve(f.os.get(m)):f.Ur.getTargetData(l,d)}(r,o,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ue())).next(a=>(nF(r,mP(e),a),{documents:a,Ts:s})))}function eF(t,e){let n=$(t),r=$(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function tF(t,e){let n=$(t),r=n.us.get(e)||re.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,KO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nF(n,e,i),i))}function nF(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}function dW(t,e,n,r){return k(this,null,function*(){let i=$(t),s=ue(),o=hn();for(let l of n){let d=e.Es(l.metadata.name);l.document&&(s=s.add(d));let f=e.ds(l);f.setReadTime(e.As(l.metadata.readTime)),o=o.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),u=yield ju(i,function(d){return tn(Ku(be.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>XP(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Ur.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))})}function hW(r,i){return k(this,arguments,function*(t,e,n=ue()){let s=yield ju(t,tn(Hb(e.bundledQuery))),o=$(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let u=ct(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return o.Gr.saveNamedQuery(a,e);let l=s.withResumeToken(lt.EMPTY_BYTE_STRING,u);return o.os=o.os.insert(l.targetId,l),o.Ur.updateTargetData(a,l).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,n,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function RO(t,e){return`firestore_clients_${t}_${e}`}function kO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ND(t,e){return`firestore_targets_${t}_${e}`}var Lg=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new F(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(at("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ad=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new F(r.error.code,r.error.message))),s?new t(e,r.state,i):(at("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},jg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Ub();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=JO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(at("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},G0=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(at("SharedClientState",`Failed to parse online state: ${e}`),null)}},qd=class{constructor(){this.activeTargetIds=Ub()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},xd=class{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new He(ae),this.started=!1,this.bs=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=RO(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new qd),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return k(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(RO(this.persistenceKey,r));if(i){let s=jg.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let n=this.storage.getItem(this.xs);if(n){let r=this.Ls(n);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(ND(this.persistenceKey,e));if(i){let s=Ad.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ND(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return V("SharedClientState","READ",e,n),n}setItem(e,n){V("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let n=e;if(n.storageArea===this.storage){if(V("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void at("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>k(this,null,function*(){if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){let r=this.Gs(n.key);return this.zs(r,null)}{let r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){let r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){let r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){let r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){let r=function(s){let o=Tn.oe;if(s!=null)try{let a=JSON.parse(s);te(typeof a=="number"),o=a}catch(a){at("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Tn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){let r=this.Xs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){let i=new Lg(this.currentUser,e,n,r),s=kO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){let n=kO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){let n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){let i=ND(this.persistenceKey,e),s=new Ad(e,n,r);this.setItem(i,s.Vs())}Ws(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){let n=this.Cs.exec(e);return n?n[1]:null}js(e,n){let r=this.Gs(e);return jg.Rs(r,n)}Hs(e,n){let r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Lg.Rs(new mt(s),i,n)}Ys(e,n){let r=this.Ms.exec(e),i=Number(r[1]);return Ad.Rs(i,n)}Ls(e){return G0.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return k(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){let r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=Ub();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Ug=class{constructor(){this.so=new qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var W0=class{_o(e){}shutdown(){}};var Bg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rg=null;function RD(){return rg===null?rg=function(){return 268435456+Math.round(2147483648*Math.random())}():rg++,"0x"+rg.toString(16)}var fW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var K0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Bt="WebChannelConnection",Q0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=RD(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(d=>(V("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ln("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=fW[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=RD();return new Promise((o,a)=>{let u=new DD;u.setWithCredentials(!0),u.listenOnce(CD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vd.NO_ERROR:let d=u.getResponseJson();V(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vd.TIMEOUT:V(Bt,`RPC '${e}' ${s} timed out`),a(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:let f=u.getStatus();if(V(Bt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let w=function(T){let O=T.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(g.status);a(new F(w,g.message))}else a(new F(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(Bt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(Bt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=RD(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AD(),a=SD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new bD({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let d=s.join("");V(Bt,`Creating RPC '${e}' stream ${i}: ${d}`,u);let f=o.createWebChannel(d,u),m=!1,g=!1,w=new K0({Io:T=>{g?V(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(V(Bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),V(Bt,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),C=(T,O,j)=>{T.listen(O,P=>{try{j(P)}catch(K){setTimeout(()=>{throw K},0)}})};return C(f,gu.EventType.OPEN,()=>{g||(V(Bt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),C(f,gu.EventType.CLOSE,()=>{g||(g=!0,V(Bt,`RPC '${e}' stream ${i} transport closed`),w.So())}),C(f,gu.EventType.ERROR,T=>{g||(g=!0,Ln(Bt,`RPC '${e}' stream ${i} transport errored:`,T),w.So(new F(N.UNAVAILABLE,"The operation could not be completed")))}),C(f,gu.EventType.MESSAGE,T=>{var O;if(!g){let j=T.data[0];te(!!j);let P=j,K=P.error||((O=P[0])===null||O===void 0?void 0:O.error);if(K){V(Bt,`RPC '${e}' stream ${i} received error:`,K);let J=K.status,ne=function(_){let b=ft[_];if(b!==void 0)return xP(b)}(J),D=K.message;ne===void 0&&(ne=N.INTERNAL,D="Unknown error status: "+J+" with message "+K.message),g=!0,w.So(new F(ne,D)),f.close()}else V(Bt,`RPC '${e}' stream ${i} received:`,j),w.bo(j)}}),C(a,TD.STAT_EVENT,T=>{T.stat===Xm.PROXY?V(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Xm.NOPROXY&&V(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function rF(){return typeof window<"u"?window:null}function ug(){return typeof document<"u"?document:null}function rh(t){return new l0(t,!0)}var Gd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var $g=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return k(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return k(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return k(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>k(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Y0=class extends $g{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Z5(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?ct(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=f0(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=wg(u)?{documents:VP(s,u)}:{query:LP(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NP(s,o.resumeToken);let l=d0(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Fu(s,o.snapshotVersion.toTimestamp());let l=d0(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=X5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=f0(this.serializer),n.removeTarget=e,this.a_(n)}},Z0=class extends $g{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=J5(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=f0(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$d(this.serializer,r))};this.a_(n)}};var J0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,h0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,h0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},X0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(at(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var eb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>k(this,null,function*(){As(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return k(this,null,function*(){let l=$(u);l.L_.add(4),yield Qu(l),l.q_.set("Unknown"),l.L_.delete(4),yield ih(l)})}(this))}))}),this.q_=new X0(r,i)}};function ih(t){return k(this,null,function*(){if(As(t))for(let e of t.B_)yield e(!0)})}function Qu(t){return k(this,null,function*(){for(let e of t.B_)yield e(!1)})}function uy(t,e){let n=$(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kb(n)?Wb(n):Zu(n).r_()&&Gb(n,e))}function Bu(t,e){let n=$(t),r=Zu(n);n.N_.delete(e),r.r_()&&iF(n,e),n.N_.size===0&&(r.r_()?r.o_():As(n)&&n.q_.set("Unknown"))}function Gb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zu(t).A_(e)}function iF(t,e){t.Q_.xe(e),Zu(t).R_(e)}function Wb(t){t.Q_=new c0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zu(t).start(),t.q_.v_()}function Kb(t){return As(t)&&!Zu(t).n_()&&t.N_.size>0}function As(t){return $(t).L_.size===0}function sF(t){t.Q_=void 0}function pW(t){return k(this,null,function*(){t.q_.set("Online")})}function mW(t){return k(this,null,function*(){t.N_.forEach((e,n)=>{Gb(t,e)})})}function gW(t,e){return k(this,null,function*(){sF(t),Kb(t)?(t.q_.M_(e),Wb(t)):t.q_.set("Unknown")})}function yW(t,e,n){return k(this,null,function*(){if(t.q_.set("Online"),e instanceof Dg&&e.state===2&&e.cause)try{yield function(i,s){return k(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hg(t,r)}else if(e instanceof xu?t.Q_.Ke(e):e instanceof Ig?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield JP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let d=s.N_.get(l);d&&s.N_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(lt.EMPTY_BYTE_STRING,d.snapshotVersion)),iF(s,u);let f=new Vu(d.target,u,l,d.sequenceNumber);Gb(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Hg(t,r)}})}function Hg(t,e,n){return k(this,null,function*(){if(!Ss(e))throw e;t.L_.add(1),yield Qu(t),t.q_.set("Offline"),n||(n=()=>JP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>k(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ih(t)}))})}function oF(t,e){return e().catch(n=>Hg(t,n,e))}function Yu(t){return k(this,null,function*(){let e=$(t),n=Cs(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vW(e);)try{let i=yield lW(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,wW(e,i)}catch(i){yield Hg(e,i)}aF(e)&&uF(e)})}function vW(t){return As(t)&&t.O_.length<10}function wW(t,e){t.O_.push(e);let n=Cs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function aF(t){return As(t)&&!Cs(t).n_()&&t.O_.length>0}function uF(t){Cs(t).start()}function _W(t){return k(this,null,function*(){Cs(t).p_()})}function EW(t){return k(this,null,function*(){let e=Cs(t);for(let n of t.O_)e.m_(n.mutations)})}function IW(t,e,n){return k(this,null,function*(){let r=t.O_.shift(),i=o0.from(r,e,n);yield oF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Yu(t)})}function DW(t,e){return k(this,null,function*(){e&&Cs(t).V_&&(yield function(r,i){return k(this,null,function*(){if(function(o){return AP(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Cs(r).s_(),yield oF(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Yu(r)}})}(t,e)),aF(t)&&uF(t)})}function OO(t,e){return k(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=As(n);n.L_.add(3),yield Qu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ih(n)})}function tb(t,e){return k(this,null,function*(){let n=$(t);e?(n.L_.delete(2),yield ih(n)):e||(n.L_.add(2),yield Qu(n),n.q_.set("Unknown"))})}function Zu(t){return t.K_||(t.K_=function(n,r,i){let s=$(n);return s.w_(),new Y0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:pW.bind(null,t),Ro:mW.bind(null,t),mo:gW.bind(null,t),d_:yW.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.K_.s_(),Kb(t)?Wb(t):t.q_.set("Unknown")):(yield t.K_.stop(),sF(t))}))),t.K_}function Cs(t){return t.U_||(t.U_=function(n,r,i){let s=$(n);return s.w_(),new Z0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_W.bind(null,t),mo:DW.bind(null,t),f_:EW.bind(null,t),g_:IW.bind(null,t)}),t.B_.push(e=>k(this,null,function*(){e?(t.U_.s_(),yield Yu(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var nb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ju(t,e){if(at("AsyncQueue",`${e}: ${t}`),Ss(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var zg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Dd(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var qg=class{constructor(){this.W_=new He(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},$u=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,zg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ib=class{constructor(){this.queries=PO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=$(n),s=i.queries;i.queries=PO(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function PO(){return new Lr(t=>pP(t),th)}function Qb(t,e){return k(this,null,function*(){let n=$(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new rb,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Ju(o,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Zb(n)})}function Yb(t,e){return k(this,null,function*(){let n=$(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function bW(t,e){let n=$(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Zb(n)}function CW(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Zb(t){t.Y_.forEach(e=>{e.next()})}var sb,FO;(FO=sb||(sb={})).ea="default",FO.Cache="cache";var Wd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sb.Cache}};var ob=class{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}};var Gg=class{constructor(e){this.serializer=e}Es(e){return Or(this.serializer,e)}ds(e){return e.metadata.exists?FP(this.serializer,e.document,!1):yt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ct(e)}},ab=class{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;let r=be.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){let n=new Map,r=new Gg(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.Es(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}complete(){return k(this,null,function*(){let e=yield dW(this.localStore,new Gg(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(let r of this.queries)yield hW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function cF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Wg=class{constructor(e){this.key=e}},Kg=class{constructor(e){this.key=e}},Qg=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=gP(e),this.Ra=new zg(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new qg,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=nh(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),T=!1;m&&g?m.data.isEqual(g.data)?w!==C&&(r.track({type:3,doc:g}),T=!0):this.ga(m,g)||(r.track({type:2,doc:g}),T=!0,(u&&this.Aa(g,u)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),T=!0):m&&!g&&(r.track({type:1,doc:m}),T=!0,(u||l)&&(a=!0)),T&&(g?(o=o.add(g),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(g,w){let C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return C(g)-C(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new $u(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Kg(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Wg(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $u.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ub=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cb=class{constructor(e){this.key=e,this.va=!1}},lb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Lr(a=>pP(a),th),this.Ma=new Map,this.xa=new Set,this.Oa=new He(H.comparator),this.Na=new Map,this.La=new zd,this.Ba={},this.ka=new Map,this.qa=Lu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function TW(t,e,n=!0){return k(this,null,function*(){let r=cy(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield lF(r,e,n,!0),i})}function SW(t,e){return k(this,null,function*(){let n=cy(t);yield lF(n,e,!0,!1)})}function lF(t,e,n,r){return k(this,null,function*(){let i=yield ju(t.localStore,tn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Jb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&uy(t.remoteStore,i),a})}function Jb(t,e,n,r,i){return k(this,null,function*(){t.Ka=(f,m,g)=>function(C,T,O,j){return k(this,null,function*(){let P=T.view.ma(O);P.ns&&(P=yield Vg(C.localStore,T.query,!1).then(({documents:D})=>T.view.ma(D,P)));let K=j&&j.targetChanges.get(T.targetId),J=j&&j.targetMismatches.get(T.targetId)!=null,ne=T.view.applyChanges(P,C.isPrimaryClient,K,J);return db(C,T.targetId,ne.wa),ne.snapshot})}(t,f,m,g);let s=yield Vg(t.localStore,e,!0),o=new Qg(e,s.Ts),a=o.ma(s.documents),u=Ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);db(t,n,l.wa);let d=new ub(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function AW(t,e,n){return k(this,null,function*(){let r=$(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!th(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Uu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bu(r.remoteStore,i.targetId),Hu(r,i.targetId)}).catch(Ts))):(Hu(r,i.targetId),yield Uu(r.localStore,i.targetId,!0))})}function xW(t,e){return k(this,null,function*(){let n=$(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bu(n.remoteStore,r.targetId))})}function MW(t,e,n){return k(this,null,function*(){let r=nC(t);try{let i=yield function(o,a){let u=$(o),l=Ze.now(),d=a.reduce((g,w)=>g.add(w.key),ue()),f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=hn(),C=ue();return u.cs.getEntries(g,d).next(T=>{w=T,w.forEach((O,j)=>{j.isValidDocument()||(C=C.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(T=>{f=T;let O=[];for(let j of a){let P=z5(j,f.get(j.key).overlayedDocument);P!=null&&O.push(new ur(j.key,P,aP(P.value.mapValue),it.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,O,a)}).next(T=>{m=T;let O=T.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(g,T.batchId,O)})}).then(()=>({batchId:m.batchId,changes:vP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new He(ae)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield vi(r,i.changes),yield Yu(r.remoteStore)}catch(i){let s=Ju(i,"Failed to persist write");n.reject(s)}})}function dF(t,e){return k(this,null,function*(){let n=$(t);try{let r=yield cW(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?te(o.va):i.removedDocuments.size>0&&(te(o.va),o.va=!1))}),yield vi(n,r,e)}catch(r){yield Ts(r)}})}function VO(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=$(o);u.onlineState=a;let l=!1;u.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(l=!0)}),l&&Zb(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NW(t,e,n){return k(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(H.comparator);o=o.insert(s,yt.newNoDocument(s,re.min()));let a=ue().add(s),u=new jd(re.min(),new Map,new He(ae),o,a);yield dF(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),tC(r)}else yield Uu(r.localStore,e,!1).then(()=>Hu(r,e,n)).catch(Ts)})}function RW(t,e){return k(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield uW(n.localStore,e);eC(n,r,null),Xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vi(n,i)}catch(i){yield Ts(i)}})}function kW(t,e,n){return k(this,null,function*(){let r=$(t);try{let i=yield function(o,a){let u=$(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(te(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);eC(r,e,n),Xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vi(r,i)}catch(i){yield Ts(i)}})}function OW(t,e){return k(this,null,function*(){let n=$(t);As(n.remoteStore)||V("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=$(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){let i=Ju(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function Xb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eC(t,e,n){let r=$(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hF(t,r)})}function hF(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Bu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tC(t))}function db(t,e,n){for(let r of n)r instanceof Wg?(t.La.addReference(r.key,e),PW(t,r)):r instanceof Kg?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hF(t,r.key)):Q()}function PW(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),tC(t))}function tC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(be.fromString(e)),r=t.qa.next();t.Na.set(r,new cb(n)),t.Oa=t.Oa.insert(n,r),uy(t.remoteStore,new Vu(tn(Ku(n.path)),r,"TargetPurposeLimboResolution",Tn.oe))}}function vi(t,e,n){return k(this,null,function*(){let r=$(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=n?.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=H0.Wi(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return k(this,null,function*(){let d=$(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(l,m=>M.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>M.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ss(f))throw f;V("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),w=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,C)}}})}(r.localStore,s))})}function FW(t,e){return k(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield ZP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vi(n,r.hs)}})}function VW(t,e){let n=$(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function LW(t,e){return k(this,null,function*(){let n=$(t),r=yield Vg(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&db(n,e.targetId,i.wa),i})}function jW(t,e){return k(this,null,function*(){let n=$(t);return tF(n.localStore,e).then(r=>vi(n,r))})}function UW(t,e,n,r){return k(this,null,function*(){let i=$(t),s=yield function(a,u){let l=$(a),d=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,u).next(m=>m?l.localDocuments.getDocuments(f,m):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield Yu(i.remoteStore):n==="acknowledged"||n==="rejected"?(eC(i,e,r||null),Xb(i,e),function(a,u){$($(a).mutationQueue).On(u)}(i.localStore,e)):Q(),yield vi(i,s)):V("SyncEngine","Cannot apply mutation batch with id: "+e)})}function BW(t,e){return k(this,null,function*(){let n=$(t);if(cy(n),nC(n),e===!0&&n.Qa!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield LO(n,r.toArray());n.Qa=!0,yield tb(n.remoteStore,!0);for(let s of i)uy(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){let r=[],i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Hu(n,o),Uu(n.localStore,o,!0))),Bu(n.remoteStore,o)}),yield i,yield LO(n,r),function(o){let a=$(o);a.Na.forEach((u,l)=>{Bu(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new He(H.comparator)}(n),n.Qa=!1,yield tb(n.remoteStore,!1)}})}function LO(t,e,n){return k(this,null,function*(){let r=$(t),i=[],s=[];for(let o of e){let a,u=r.Ma.get(o);if(u&&u.length!==0){a=yield ju(r.localStore,tn(u[0]));for(let l of u){let d=r.Fa.get(l),f=yield LW(r,d);f.snapshot&&s.push(f.snapshot)}}else{let l=yield eF(r.localStore,o);a=yield ju(r.localStore,l),yield Jb(r,fF(l),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})}function fF(t){return fP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $W(t){return function(n){return $($(n).persistence).Qi()}($(t).localStore)}function HW(t,e,n,r){return k(this,null,function*(){let i=$(t);if(i.Qa)return void V("SyncEngine","Ignoring unexpected query state notification.");let s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield tF(i.localStore,mP(s[0])),a=jd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",lt.EMPTY_BYTE_STRING);yield vi(i,o,a);break}case"rejected":yield Uu(i.localStore,e,!0),Hu(i,e,r);break;default:Q()}})}function zW(t,e,n){return k(this,null,function*(){let r=cy(t);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){V("SyncEngine","Adding an already active target "+i);continue}let s=yield eF(r.localStore,i),o=yield ju(r.localStore,s);yield Jb(r,fF(s),o.targetId,!1,o.resumeToken),uy(r.remoteStore,o)}for(let i of n)r.Ma.has(i)&&(yield Uu(r.localStore,i,!1).then(()=>{Bu(r.remoteStore,i),Hu(r,i)}).catch(Ts))}})}function cy(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NW.bind(null,e),e.Ca.d_=bW.bind(null,e.eventManager),e.Ca.$a=CW.bind(null,e.eventManager),e}function nC(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kW.bind(null,e),e}function qW(t,e,n){let r=$(t);(function(s,o,a){return k(this,null,function*(){try{let u=yield o.getMetadata();if(yield function(g,w){let C=$(g),T=ct(w.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",O=>C.Gr.getBundleMetadata(O,w.id)).then(O=>!!O&&O.createTime.compareTo(T)>=0)}(s.localStore,u))return yield o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(cF(u));let l=new ab(u,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let m=yield l.la(d);m&&a._updateProgress(m),d=yield o.Ua()}let f=yield l.complete();return yield vi(s,f.Ia,void 0),yield function(g,w){let C=$(g);return C.persistence.runTransaction("Save bundle","readwrite",T=>C.Gr.saveBundleMetadata(T,w))}(s.localStore,u),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(u){return Ln("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Kd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return YP(this.persistence,new Fg,e.initialUser,this.serializer)}createPersistence(e){return new Og(Pg.Zr,this.serializer)}createSharedClientState(e){return new Ug}terminate(){return k(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Yg=class t extends Kd{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){yield Ky(t.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield nC(this.Wa.syncEngine),yield Yu(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return YP(this.persistence,new Fg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new S0(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new zD(n,this.persistence);return new HD(e.asyncQueue,r)}createPersistence(e){let n=qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new $0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rF(),ug(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ug}},hb=class t extends Yg{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return k(this,null,function*(){yield Ky(t.prototype,this,"initialize").call(this,e);let n=this.Wa.syncEngine;this.sharedClientState instanceof xd&&(this.sharedClientState.syncEngine={no:UW.bind(null,n),ro:HW.bind(null,n),io:zW.bind(null,n),Qi:$W.bind(null,n),eo:jW.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>k(this,null,function*(){yield BW(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=rF();if(!xd.D(n))throw new F(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xd(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Qd=class{initialize(e,n){return k(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FW.bind(null,this.syncEngine),yield tb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ib}()}createDatastore(e){let n=rh(e.databaseInfo.databaseId),r=function(s){return new Q0(s)}(e.databaseInfo);return function(s,o,a,u){return new J0(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new eb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>VO(this.syncEngine,n,0),function(){return Bg.D()?new Bg:new W0}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){let f=new lb(i,s,o,a,u,l);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return k(this,null,function*(){var e,n;yield function(i){return k(this,null,function*(){let s=$(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Qu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};function jO(t,e=10240){let n=0;return{read(){return k(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return k(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var zu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var fb=class{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new gt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}getMetadata(){return k(this,null,function*(){return this.metadata.promise})}Ua(){return k(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return k(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);let i=yield this.Xa(r);return new ob(JSON.parse(i),e.length+r)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return k(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Xa(e){return k(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return k(this,null,function*(){let e=yield this.ja.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var pb=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,s){return k(this,null,function*(){let o=$(i),a={documents:s.map(f=>Bd(o.serializer,f))},u=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,be.emptyPath(),a,s.length),l=new Map;u.forEach(f=>{let m=Y5(o.serializer,f);l.set(m.key.toString(),m)});let d=[];return s.forEach(f=>{let m=l.get(f.toString());te(!!m),d.push(m)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return k(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=H.fromPath(r);this.mutations.push(new Fd(i,this.precondition(i)))}),yield function(r,i){return k(this,null,function*(){let s=$(r),o={writes:i.map(a=>$d(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,be.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=re.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new F(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(re.min())?it.exists(!1):it.updateTime(n):it.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(re.min()))throw new F(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return it.updateTime(n)}return it.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var mb=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new Gd(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>k(this,null,function*(){let e=new pb(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})}))}su(e){try{let n=this.updateFunction(e);return!Xd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!AP(n)}return!1}};var gb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>k(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ju(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cg(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>k(this,null,function*(){r.isEqual(i)||(yield ZP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function yb(t,e){return k(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rC(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OO(e.remoteStore,i)),t._onlineComponents=e})}function pF(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function rC(t){return k(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!pF(n))throw n;Ln("Error using user provided cache. Falling back to memory cache: "+n),yield cg(t,new Kd)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield cg(t,new Kd);return t._offlineComponents})}function ly(t){return k(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield yb(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield yb(t,new Qd))),t._onlineComponents})}function mF(t){return rC(t).then(e=>e.persistence)}function iC(t){return rC(t).then(e=>e.localStore)}function gF(t){return ly(t).then(e=>e.remoteStore)}function sC(t){return ly(t).then(e=>e.syncEngine)}function GW(t){return ly(t).then(e=>e.datastore)}function qu(t){return k(this,null,function*(){let e=yield ly(t),n=e.eventManager;return n.onListen=TW.bind(null,e.syncEngine),n.onUnlisten=AW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xW.bind(null,e.syncEngine),n})}function WW(t){return t.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield mF(t),n=yield gF(t);return e.setNetworkEnabled(!0),function(i){let s=$(i);return s.L_.delete(0),ih(s)}(n)}))}function KW(t){return t.asyncQueue.enqueue(()=>k(this,null,function*(){let e=yield mF(t),n=yield gF(t);return e.setNetworkEnabled(!1),function(i){return k(this,null,function*(){let s=$(i);s.L_.add(0),yield Qu(s),s.q_.set("Offline")})}(n)}))}function QW(t,e){let n=new gt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s,o){return k(this,null,function*(){try{let a=yield function(l,d){let f=$(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new F(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let u=Ju(a,`Failed to get document '${s} from cache`);o.reject(u)}})}(yield iC(t),e,n)})),n.promise}function yF(t,e,n={}){let r=new gt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(s,o,a,u,l){let d=new zu({next:m=>{o.enqueueAndForget(()=>Yb(s,f));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new F(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Wd(Ku(a.path),d,{includeMetadataChanges:!0,_a:!0});return Qb(s,f)}(yield qu(t),t.asyncQueue,e,n,r)})),r.promise}function YW(t,e){let n=new gt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s,o){return k(this,null,function*(){try{let a=yield Vg(i,s,!0),u=new Qg(s,a.Ts),l=u.ma(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){let u=Ju(a,`Failed to execute query '${s} against cache`);o.reject(u)}})}(yield iC(t),e,n)})),n.promise}function vF(t,e,n={}){let r=new gt;return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(s,o,a,u,l){let d=new zu({next:m=>{o.enqueueAndForget(()=>Yb(s,f)),m.fromCache&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Wd(a,d,{includeMetadataChanges:!0,_a:!0});return Qb(s,f)}(yield qu(t),t.asyncQueue,e,n,r)})),r.promise}function ZW(t,e){let n=new zu(e);return t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s){$(i).Y_.add(s),s.next()}(yield qu(t),n)})),()=>{n.za(),t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(i,s){$(i).Y_.delete(s)}(yield qu(t),n)}))}}function JW(t,e,n,r){let i=function(o,a){let u;return u=typeof o=="string"?MP().encode(o):o,function(d,f){return new fb(d,f)}(function(d,f){if(d instanceof Uint8Array)return jO(d,f);if(d instanceof ArrayBuffer)return jO(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,rh(e));t.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){qW(yield sC(t),i,r)}))}function XW(t,e){return t.asyncQueue.enqueue(()=>k(this,null,function*(){return function(r,i){let s=$(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield iC(t),e)}))}function wF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var UO=new Map;function oC(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aC(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BO(t){if(!H.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $O(t){if(H.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dy(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _F(t,e){if(e<=0)throw new F(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Zg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ko=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kD;switch(r.type){case"firstParty":return new VD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=UO.get(n);r&&(V("ComponentProvider","Removing Datastore"),UO.delete(n),r.terminate())}(this),Promise.resolve()}};function EF(t,e,n,r={}){var i;let s=(t=Ce(t,ko))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=OT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(l)}t._authCredentials=new OD(new lg(a,u))}}var Rt=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},je=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends Rt{constructor(e,n,r){super(e,n,Ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function uC(t,e,...n){if(t=Ke(t),oC("collection","path",e),t instanceof ko){let r=be.fromString(e,...n);return $O(r),new Pr(t,null,r)}{if(!(t instanceof je||t instanceof Pr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return $O(r),new Pr(t.firestore,null,r)}}function IF(t,e){if(t=Ce(t,ko),oC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rt(t,null,function(r){return new ar(be.emptyPath(),r)}(e))}function sh(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=dg.newId()),oC("doc","path",e),t instanceof ko){let r=be.fromString(e,...n);return BO(r),new je(t,null,new H(r))}{if(!(t instanceof je||t instanceof Pr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return BO(r),new je(t.firestore,t instanceof Pr?t.converter:null,new H(r))}}function cC(t,e){return t=Ke(t),e=Ke(e),(t instanceof je||t instanceof Pr)&&(e instanceof je||e instanceof Pr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function lC(t,e){return t=Ke(t),e=Ke(e),t instanceof Rt&&e instanceof Rt&&t.firestore===e.firestore&&th(t._query,e._query)&&t.converter===e.converter}var vb=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Gd(this,"async_queue_retry"),this.Eu=()=>{let n=ug();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ug();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new gt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return k(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ss(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw at("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=nb.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return k(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function wb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var _b=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new gt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var DF=-1,We=class extends ko{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bF(this),this._firestoreClient.terminate()}};function Et(t){return t._firestoreClient||bF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bF(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,d){return new qD(a,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wF(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new gb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function CF(t,e){OF(t=Ce(t,We));let n=Et(t);if(n._uninitializedComponentsProvider)throw new F(N.FAILED_PRECONDITION,"SDK cache is already specified.");Ln("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new Qd;return SF(n,i,new Yg(i,r.cacheSizeBytes,e?.forceOwnership))}function TF(t){OF(t=Ce(t,We));let e=Et(t);if(e._uninitializedComponentsProvider)throw new F(N.FAILED_PRECONDITION,"SDK cache is already specified.");Ln("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new Qd;return SF(e,r,new hb(r,n.cacheSizeBytes))}function SF(t,e,n){let r=new gt;return t.asyncQueue.enqueue(()=>k(this,null,function*(){try{yield cg(t,n),yield yb(t,e),r.resolve()}catch(i){let s=i;if(!pF(s))throw s;Ln("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function AF(t){if(t._initialized&&!t._terminated)throw new F(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new gt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{yield function(r){return k(this,null,function*(){if(!ys.D())return Promise.resolve();let i=r+"main";yield ys.delete(i)})}(qb(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function xF(t){return function(n){let r=new gt;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return OW(yield sC(n),r)})),r.promise}(Et(t=Ce(t,We)))}function MF(t){return WW(Et(t=Ce(t,We)))}function NF(t){return KW(Et(t=Ce(t,We)))}function RF(t,e){let n=Et(t=Ce(t,We)),r=new _b;return JW(n,t._databaseId,e,r),r}function kF(t,e){return XW(Et(t=Ce(t,We)),e).then(n=>n?new Rt(t,null,n.query):null)}function OF(t){if(t._initialized||t._terminated)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gi=class{constructor(e){this._methodName=e}};var Oo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var Yd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var e8=/^__.*__$/,Eb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ds(e,this.data,n,this.fieldTransforms)}},Jg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var Xg=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ey(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(PF(this.wu)&&e8.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Ib=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rh(e)}Nu(e,n,r,i=!1){return new Xg({wu:e,methodName:n,Ou:r,path:ut.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lo(t){let e=t._freezeSettings(),n=rh(t._databaseId);return new Ib(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hy(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);fC("Data must be an object, but it was:",o,r);let a=LF(r,o),u,l;if(s.merge)u=new Sn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=Sb(e,f,n);if(!o.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);UF(d,m)||d.push(m)}u=new Sn(d),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Eb(new $t(a),u,l)}var Zd=class t extends gi{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function FF(t,e,n){return new Xg({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Db=class t extends gi{_toFieldTransform(e){return new Mo(e.path,new Es)}isEqual(e){return e instanceof t}},bb=class t extends gi{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=FF(this,e,!0),r=this.Lu.map(s=>jo(s,n)),i=new pi(r);return new Mo(e.path,i)}isEqual(e){return e instanceof t&&Zy(this.Lu,e.Lu)}},Cb=class t extends gi{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=FF(this,e,!0),r=this.Lu.map(s=>jo(s,n)),i=new mi(r);return new Mo(e.path,i)}isEqual(e){return e instanceof t&&Zy(this.Lu,e.Lu)}},Tb=class t extends gi{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){let n=new Is(e.serializer,EP(e.serializer,this.Bu));return new Mo(e.path,n)}isEqual(e){return e instanceof t&&this.Bu===e.Bu}};function dC(t,e,n,r){let i=t.Nu(1,e,n);fC("Data must be an object, but it was:",i,r);let s=[],o=$t.empty();Vo(r,(u,l)=>{let d=pC(e,u,n);l=Ke(l);let f=i.Cu(d);if(l instanceof Zd)s.push(d);else{let m=jo(l,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new Sn(s);return new Jg(o,a,i.fieldTransforms)}function hC(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[Sb(e,r,n)],u=[i];if(s.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Sb(e,s[m])),u.push(s[m+1]);let l=[],d=$t.empty();for(let m=a.length-1;m>=0;--m)if(!UF(l,a[m])){let g=a[m],w=u[m];w=Ke(w);let C=o.Cu(g);if(w instanceof Zd)l.push(g);else{let T=jo(w,C);T!=null&&(l.push(g),d.set(g,T))}}let f=new Sn(l);return new Jg(d,f,o.fieldTransforms)}function VF(t,e,n,r=!1){return jo(n,t.Nu(r?4:3,e))}function jo(t,e){if(jF(t=Ke(t)))return fC("Unsupported field value:",e,t),LF(t,e);if(t instanceof gi)return function(r,i){if(!PF(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=jo(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:Fu(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(i.serializer,s)}}if(r instanceof Oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jr)return{bytesValue:NP(i.serializer,r._byteString)};if(r instanceof je){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$b(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return Bb(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${dy(r)}`)}(t,e)}function LF(t,e){let n={};return rP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{let s=jo(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Oo||t instanceof jr||t instanceof je||t instanceof gi||t instanceof Yd)}function fC(t,e,n){if(!jF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dy(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Sb(t,e,n){if((e=Ke(e))instanceof cr)return e._internalPath;if(typeof e=="string")return pC(t,e);throw ey("Field path arguments must be of type string or ",t,!1,void 0,n)}var t8=new RegExp("[~\\*/\\[\\]]");function pC(t,e,n){if(e.search(t8)>=0)throw ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cr(...e.split("."))._internalPath}catch{throw ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ey(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,a+t+u)}function UF(t,e){return t.some(n=>n.isEqual(e))}var Po=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ab=class extends Po{data(){return super.data()}};function fy(t,e){return typeof e=="string"?pC(t,e):e instanceof cr?e._internalPath:e._delegate._internalPath}function BF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jd=class{},Fo=class extends Jd{};function wi(t,e,...n){let r=[];e instanceof Jd&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof xb).length,a=s.filter(u=>u instanceof ty).length;if(o>1||o>0&&a>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ty=class t extends Fo{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ZF(e._query,n),new Rt(e.firestore,e.converter,i0(e._query,n))}_parse(e){let n=Lo(e.firestore);return function(s,o,a,u,l,d,f){let m;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zO(f,d);let g=[];for(let w of f)g.push(HO(u,s,w));m={arrayValue:{values:g}}}else m=HO(u,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zO(f,d),m=VF(a,o,f,d==="in"||d==="not-in");return _e.create(l,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function $F(t,e,n){let r=e,i=fy("where",t);return ty._create(i,r,n)}var xb=class t extends Jd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ke.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)ZF(o,u),o=i0(o,u)}(e._query,n),new Rt(e.firestore,e.converter,i0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Mb=class t extends Fo{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(s,o)}(e._query,this._field,this._direction);return new Rt(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new ar(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function HF(t,e="asc"){let n=e,r=fy("orderBy",t);return Mb._create(r,n)}var ny=class t extends Fo{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Rt(e.firestore,e.converter,Eg(e._query,this._limit,this._limitType))}};function zF(t){return _F("limit",t),ny._create("limit",t,"F")}function qF(t){return _F("limitToLast",t),ny._create("limitToLast",t,"L")}var ry=class t extends Fo{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=YF(e,this.type,this._docOrFields,this._inclusive);return new Rt(e.firestore,e.converter,function(i,s){return new ar(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function GF(...t){return ry._create("startAt",t,!0)}function WF(...t){return ry._create("startAfter",t,!1)}var iy=class t extends Fo{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=YF(e,this.type,this._docOrFields,this._inclusive);return new Rt(e.firestore,e.converter,function(i,s){return new ar(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function KF(...t){return iy._create("endBefore",t,!1)}function QF(...t){return iy._create("endAt",t,!0)}function YF(t,e,n,r){if(n[0]=Ke(n[0]),n[0]instanceof Po)return function(s,o,a,u,l){if(!u)throw new F(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of Au(s))if(f.field.isKeyField())d.push(So(o,u.key));else{let m=u.data.field(f.field);if(oy(m))throw new F(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new F(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new Vr(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Lo(t.firestore);return function(o,a,u,l,d,f){let m=o.explicitOrderBy;if(d.length>m.length)throw new F(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let w=0;w<d.length;w++){let C=d[w];if(m[w].field.isKeyField()){if(typeof C!="string")throw new F(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof C}`);if(!jb(o)&&C.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${C}' contains a slash.`);let T=o.path.child(be.fromString(C));if(!H.isDocumentKey(T))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let O=new H(T);g.push(So(a,O))}else{let T=VF(u,l,C);g.push(T)}}return new Vr(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function HO(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jb(e)&&n.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(be.fromString(n));if(!H.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return So(t,new H(r))}if(n instanceof je)return So(t,n._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(n)}.`)}function zO(t,e){if(!Array.isArray(t)||t.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZF(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Gu=class{convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ge(o.doubleValue));return new Yd(s)}convertGeoPoint(e){return new Oo(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){let n=fi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);te($P(r));let i=new ws(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function py(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Nb=class extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}};var hi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Un=class extends Po{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ms=class extends Un{data(e={}){return super.data(e)}},lr=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ms(this._firestore,this._userDataWriter,r.key,r,new hi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:n8(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function n8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function mC(t,e){return t instanceof Un&&e instanceof Un?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lr&&e instanceof lr&&t._firestore===e._firestore&&lC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function JF(t){t=Ce(t,je);let e=Ce(t.firestore,We);return yF(Et(e),t._key).then(n=>wC(e,t,n))}var yi=class extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}};function XF(t){t=Ce(t,je);let e=Ce(t.firestore,We),n=Et(e),r=new yi(e);return QW(n,t._key).then(i=>new Un(e,r,t._key,i,new hi(i!==null&&i.hasLocalMutations,!0),t.converter))}function eV(t){t=Ce(t,je);let e=Ce(t.firestore,We);return yF(Et(e),t._key,{source:"server"}).then(n=>wC(e,t,n))}function tV(t){t=Ce(t,Rt);let e=Ce(t.firestore,We),n=Et(e),r=new yi(e);return BF(t._query),vF(n,t._query).then(i=>new lr(e,r,t,i))}function nV(t){t=Ce(t,Rt);let e=Ce(t.firestore,We),n=Et(e),r=new yi(e);return YW(n,t._query).then(i=>new lr(e,r,t,i))}function rV(t){t=Ce(t,Rt);let e=Ce(t.firestore,We),n=Et(e),r=new yi(e);return vF(n,t._query,{source:"server"}).then(i=>new lr(e,r,t,i))}function gC(t,e,n){t=Ce(t,je);let r=Ce(t.firestore,We),i=py(t.converter,e,n);return Xu(r,[hy(Lo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,it.none())])}function yC(t,e,n,...r){t=Ce(t,je);let i=Ce(t.firestore,We),s=Lo(i),o;return o=typeof(e=Ke(e))=="string"||e instanceof cr?hC(s,"updateDoc",t._key,e,n,r):dC(s,"updateDoc",t._key,e),Xu(i,[o.toMutation(t._key,it.exists(!0))])}function iV(t){return Xu(Ce(t.firestore,We),[new bs(t._key,it.none())])}function sV(t,e){let n=Ce(t.firestore,We),r=sh(t),i=py(t.converter,e);return Xu(n,[hy(Lo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,it.exists(!1))]).then(()=>r)}function vC(t,...e){var n,r,i;t=Ke(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wb(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wb(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,d;if(t instanceof je)l=Ce(t.firestore,We),d=Ku(t._key.path),u={next:f=>{e[o]&&e[o](wC(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Ce(t,Rt);l=Ce(f.firestore,We),d=f._query;let m=new yi(l);u={next:g=>{e[o]&&e[o](new lr(l,m,f,g))},error:e[o+1],complete:e[o+2]},BF(t._query)}return function(m,g,w,C){let T=new zu(C),O=new Wd(g,T,w);return m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return Qb(yield qu(m),O)})),()=>{T.za(),m.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return Yb(yield qu(m),O)}))}}(Et(l),d,a,u)}function oV(t,e){return ZW(Et(t=Ce(t,We)),wb(e)?e:{next:e})}function Xu(t,e){return function(r,i){let s=new gt;return r.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return MW(yield sC(r),i,s)})),s.promise}(Et(t),e)}function wC(t,e,n){let r=n.docs.get(e._key),i=new yi(t);return new Un(t,i,e._key,r,new hi(n.hasPendingWrites,n.fromCache),e.converter)}var r8={maxAttempts:5};var sy=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lo(e)}set(e,n,r){this._verifyNotCommitted();let i=fs(e,this._firestore),s=py(i.converter,n,r),o=hy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,it.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=fs(e,this._firestore),o;return o=typeof(n=Ke(n))=="string"||n instanceof cr?hC(this._dataReader,"WriteBatch.update",s._key,n,r,i):dC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,it.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=fs(e,this._firestore);return this._mutations=this._mutations.concat(new bs(n._key,it.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fs(t,e){if((t=Ke(t)).firestore!==e)throw new F(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rb=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Lo(n)}get(n){let r=fs(n,this._firestore),i=new Nb(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Q();let o=s[0];if(o.isFoundDocument())return new Po(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Po(this._firestore,i,r._key,null,r.converter);throw Q()})}set(n,r,i){let s=fs(n,this._firestore),o=py(s.converter,r,i),a=hy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){let o=fs(n,this._firestore),a;return a=typeof(r=Ke(r))=="string"||r instanceof cr?hC(this._dataReader,"Transaction.update",o._key,r,i,s):dC(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){let r=fs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=fs(e,this._firestore),r=new yi(this._firestore);return super.get(e).then(i=>new Un(this._firestore,r,n._key,i._document,new hi(!1,!1),n.converter))}};function aV(t,e,n){t=Ce(t,We);let r=Object.assign(Object.assign({},r8),n);return function(s){if(s.maxAttempts<1)throw new F(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let u=new gt;return s.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){let l=yield GW(s);new mb(s.asyncQueue,l,a,o,u).ru()})),u.promise}(Et(t),i=>e(new Rb(t,i)),r)}function uV(){return new Zd("deleteField")}function cV(){return new Db("serverTimestamp")}function lV(...t){return new bb("arrayUnion",t)}function dV(...t){return new Cb("arrayRemove",t)}function hV(t){return new Tb("increment",t)}(function(e,n=!0){(function(i){Wu=i})(VT),bc(new ks("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new We(new PD(r.getProvider("auth-internal")),new jD(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),bi(Hk,"4.7.2",e),bi(Hk,"4.7.2","esm2017")})();var i8="@firebase/firestore-compat",s8="0.3.37";function CC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function fV(){if(typeof Uint8Array>"u")throw new F("unimplemented","Uint8Arrays are not available in this environment.")}function pV(){if(!iP())throw new F("unimplemented","Blobs are unavailable in Firestore in this environment.")}var my=class t{constructor(e){this._delegate=e}static fromBase64String(e){return pV(),new t(jr.fromBase64String(e))}static fromUint8Array(e){return fV(),new t(jr.fromUint8Array(e))}toBase64(){return pV(),this._delegate.toBase64()}toUint8Array(){return fV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function _C(t){return o8(t,["next","error","complete"])}function o8(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var EC=class{enableIndexedDbPersistence(e,n){return CF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return TF(e._delegate)}clearIndexedDbPersistence(e){return AF(e._delegate)}},gy=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ws||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ln("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){EF(this._delegate,e,n,r)}enableNetwork(){return MF(this._delegate)}disableNetwork(){return NF(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aC("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xF(this._delegate)}onSnapshotsInSync(e){return oV(this._delegate,e)}get app(){if(!this._appCompat)throw new F("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nc(this,uC(this._delegate,e))}catch(n){throw nn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ur(this,sh(this._delegate,e))}catch(n){throw nn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ho(this,IF(this._delegate,e))}catch(n){throw nn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return aV(this._delegate,n=>e(new yy(this,n)))}batch(){return Et(this._delegate),new vy(new sy(this._delegate,e=>Xu(this._delegate,e)))}loadBundle(e){return RF(this._delegate,e)}namedQuery(e){return kF(this._delegate,e).then(n=>n?new Ho(this,n):null)}},ec=class extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new my(new jr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Ur.forKey(n,this.firestore,null)}};function a8(t){qO(t)}var yy=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ec(e)}get(e){let n=Uo(e);return this._delegate.get(n).then(r=>new Bo(this._firestore,new Un(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Uo(e);return r?(CC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=Uo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=Uo(e);return this._delegate.delete(n),this}},vy=class{constructor(e){this._delegate=e}set(e,n,r){let i=Uo(e);return r?(CC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=Uo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=Uo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},tc=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new ms(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $o(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new ec(e),n),i.set(n,s)),s}};tc.INSTANCES=new WeakMap;var Ur=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ec(e)}static forPath(e,n,r){if(e.length%2!==0)throw new F("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new je(n._delegate,r,new H(e)))}static forKey(e,n,r){return new t(n,new je(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nc(this.firestore,uC(this._delegate,e))}catch(n){throw nn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ke(e),e instanceof je?cC(this._delegate,e):!1}set(e,n){n=CC("DocumentReference.set",n);try{return n?gC(this._delegate,e,n):gC(this._delegate,e)}catch(r){throw nn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?yC(this._delegate,e):yC(this._delegate,e,n,...r)}catch(i){throw nn(i,"updateDoc()","DocumentReference.update()")}}delete(){return iV(this._delegate)}onSnapshot(...e){let n=mV(e),r=gV(e,i=>new Bo(this.firestore,new Un(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return vC(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=XF(this._delegate):e?.source==="server"?n=eV(this._delegate):n=JF(this._delegate),n.then(r=>new Bo(this.firestore,new Un(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function nn(t,e,n){return t.message=t.message.replace(e,n),t}function mV(t){for(let e of t)if(typeof e=="object"&&!_C(e))return e;return{}}function gV(t,e){var n,r;let i;return _C(t[0])?i=t[0]:_C(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Bo=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ur(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return mC(this._delegate,e._delegate)}},$o=class extends Bo{data(e){let n=this._delegate.data(e);return this._delegate._converter||GO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Ho=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ec(e)}where(e,n,r){try{return new t(this.firestore,wi(this._delegate,$F(e,n,r)))}catch(i){throw nn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,wi(this._delegate,HF(e,n)))}catch(r){throw nn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,wi(this._delegate,zF(e)))}catch(n){throw nn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,wi(this._delegate,qF(e)))}catch(n){throw nn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,wi(this._delegate,GF(...e)))}catch(n){throw nn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,wi(this._delegate,WF(...e)))}catch(n){throw nn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,wi(this._delegate,KF(...e)))}catch(n){throw nn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,wi(this._delegate,QF(...e)))}catch(n){throw nn(n,"endAt()","Query.endAt()")}}isEqual(e){return lC(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=nV(this._delegate):e?.source==="server"?n=rV(this._delegate):n=tV(this._delegate),n.then(r=>new oh(this.firestore,new lr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=mV(e),r=gV(e,i=>new oh(this.firestore,new lr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return vC(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},IC=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new $o(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},oh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $o(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new IC(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new $o(this._firestore,r))})}isEqual(e){return mC(this._delegate,e._delegate)}},nc=class t extends Ho{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Ur(this.firestore,e):null}doc(e){try{return e===void 0?new Ur(this.firestore,sh(this._delegate)):new Ur(this.firestore,sh(this._delegate,e))}catch(n){throw nn(n,"doc()","CollectionReference.doc()")}}add(e){return sV(this._delegate,e).then(n=>new Ur(this.firestore,n))}isEqual(e){return cC(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(tc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Uo(t){return Ce(t,je)}var DC=class t{constructor(...e){this._delegate=new cr(...e)}static documentId(){return new t(ut.keyField().canonicalString())}isEqual(e){return e=Ke(e),e instanceof cr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var bC=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=cV();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=uV();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=lV(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=dV(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=hV(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var u8={Firestore:gy,GeoPoint:Oo,Timestamp:Ze,Blob:my,Transaction:yy,WriteBatch:vy,DocumentReference:Ur,DocumentSnapshot:Bo,Query:Ho,QueryDocumentSnapshot:$o,QuerySnapshot:oh,CollectionReference:nc,FieldPath:DC,FieldValue:bC,setLogLevel:a8,CACHE_SIZE_UNLIMITED:DF};function c8(t,e){t.INTERNAL.registerComponent(new ks("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},u8)))}function l8(t){c8(t,(e,n)=>new gy(e,n,new EC)),t.registerVersion(i8,s8)}l8(rn);function d8(t,e=Mc){return new we(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function yV(t,e){return d8(t,e)}function h8(t,e){return yV(t,e).pipe(js(void 0),kc(),X(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function AC(t,e){return yV(t,e).pipe(X(n=>({payload:n,type:"query"})))}var wy=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=IV(r,n);return new Ey(i,s,this.afs)}snapshotChanges(){return h8(this.ref,this.afs.schedulers.outsideAngular).pipe(dn)}valueChanges(e={}){return this.snapshotChanges().pipe(X(({payload:n})=>e.idField?z(I({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ce(this.ref.get(e)).pipe(dn)}};function _y(t,e){return AC(t,e).pipe(js(void 0),kc(),X(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{let l=s.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function vV(t,e,n){return _y(t,n).pipe(Ls((r,i)=>f8(r,i.map(s=>s.payload),e),[]),Ev(),X(r=>r.map(i=>({type:i.type,payload:i}))))}function f8(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=p8(t,r))}),t}function TC(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function p8(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return TC(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return TC(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TC(t,e.oldIndex,1);break}return t}function wV(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Ey=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=_y(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(X(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(js(void 0),kc(),St(([r,i])=>i.length>0||!r),X(([,r])=>r),dn)}auditTrail(e){return this.stateChanges(e).pipe(Ls((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=wV(e);return vV(this.query,n,this.afs.schedulers.outsideAngular).pipe(dn)}valueChanges(e={}){return AC(this.query,this.afs.schedulers.outsideAngular).pipe(X(n=>n.payload.docs.map(r=>e.idField?z(I({},r.data()),{[e.idField]:r.id}):r.data())),dn)}get(e){return ce(this.query.get(e)).pipe(dn)}add(e){return this.ref.add(e)}doc(e){return new wy(this.ref.doc(e),this.afs)}},SC=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?_y(this.query,this.afs.schedulers.outsideAngular).pipe(dn):_y(this.query,this.afs.schedulers.outsideAngular).pipe(X(n=>n.filter(r=>e.indexOf(r.type)>-1)),St(n=>n.length>0),dn)}auditTrail(e){return this.stateChanges(e).pipe(Ls((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=wV(e);return vV(this.query,n,this.afs.schedulers.outsideAngular).pipe(dn)}valueChanges(e={}){return AC(this.query,this.afs.schedulers.outsideAngular).pipe(X(r=>r.payload.docs.map(i=>e.idField?I({[e.idField]:i.id},i.data()):i.data())),dn)}get(e){return ce(this.query.get(e)).pipe(dn)}},_V=new G("angularfire2.enableFirestorePersistence"),EV=new G("angularfire2.firestore.persistenceSettings"),m8=new G("angularfire2.firestore.settings"),g8=new G("angularfire2.firestore.use-emulator");function IV(t,e=n=>n){return{query:e(t),ref:t}}var ah=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,d,f,m,g,w,C,T,O,j){this.schedulers=u;let P=gd(n,a,r),K=d;f&&ED(P,a,m,w,C,T,g,O),[this.firestore,this.persistenceEnabled$]=Qm(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{let J=a.runOutsideAngular(()=>P.firestore());if(s&&J.settings(s),K&&J.useEmulator(...K),i&&!eo(o)){let ne=()=>{try{return ce(J.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(D){return typeof console<"u"&&console.warn(D),Y(!1)}};return[J,a.runOutsideAngular(ne)]}else return[J,Y(!1)]},[s,K,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=IV(i,r),a=this.schedulers.ngZone.run(()=>s);return new Ey(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new SC(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new wy(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(L(pu),L(mu,8),L(_V,8),L(m8,8),L(cn),L(Ie),L(Wm),L(EV,8),L(g8,8),L(Zm,8),L(mD,8),L(gD,8),L(yD,8),L(vD,8),L(wD,8),L(_D,8),L(yo,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),qse=(()=>{class t{constructor(){rn.registerVersion("angularfire",fu.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:_V,useValue:!0},{provide:EV,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dt({type:t});static \u0275inj=It({providers:[ah]})}return t})();var rc=class t{constructor(e){this.afAuth=e;this.user$=this.afAuth.authState.pipe(et(n=>this.updateUser(n)))}user$;user;signInWithGoogle(){return ce(this.afAuth.signInWithPopup(new Jy))}signOut(){return this.afAuth.signOut()}updateUser(e){this.user=e}static \u0275fac=function(n){return new(n||t)(L(Zm))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var CV=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.balanceCollection=this.fireStore.collection("balance")}balanceCollection;addBalance(e){if(localStorage.setItem("balance",e.toString()),this.authService.user){let n=this.authService.user.uid,r={value:e,uid:this.authService.user.uid};return ce(this.balanceCollection.doc(n).set(r)).pipe(X(()=>e))}else return Y(e)}getBalance(){if(this.authService.user){let e=this.authService.user.uid;return this.fireStore.doc(`balance/${e}`).valueChanges().pipe(X(n=>n?.value||0))}else return Y(Number(localStorage.getItem("balance"))||0)}static \u0275fac=function(n){return new(n||t)(L(ah),L(rc))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var Vae=t=>{let e=TV.find(n=>n.id===t);return e?e.name:""},Lae=t=>TV.find(e=>e.id===t),TV=[{id:"subscriptions",name:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0430",icon:"fas fa-newspaper",color:"#FFC107",includeInBalance:!1},{id:"entertainments",name:"\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435",icon:"fas fa-film",color:"#795548",includeInBalance:!0},{id:"nicotine",name:"\u0421\u0438\u0433\u0430\u0440\u0435\u0442\u044B",icon:"fas fa-smoking",color:"#FF5722",includeInBalance:!0},{id:"travel",name:"\u041F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435",icon:"fas fa-plane",color:"#009688",includeInBalance:!0},{id:"home",name:"\u0414\u043B\u044F \u0434\u043E\u043C\u0430",icon:"fas fa-home",color:"#9C27B0",includeInBalance:!0},{id:"alcohol",name:"\u0412\u044B\u043F\u0438\u0432\u043A\u0430",icon:"fas fa-wine-bottle",color:"#FF5722",includeInBalance:!0},{id:"meal",name:"\u041F\u0438\u0442\u0430\u043D\u0438\u0435",icon:"fa-solid fa-bell-concierge",color:"#474747",includeInBalance:!0},{id:"bus",name:"\u041E\u0431\u0449. \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",icon:"fas fa-bus",color:"#3F51B5",includeInBalance:!0},{id:"utility-bills",name:"\u041A\u043E\u043C\u043C\u0443\u043D\u0430\u043B\u043A\u0430",icon:"fas fa-water",color:"#2196F3",includeInBalance:!1},{id:"pharmacy",name:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",icon:"fas fa-prescription-bottle-alt",color:"#2196F3",includeInBalance:!0},{id:"barbershop",name:"\u041F\u0430\u0440\u0438\u043A\u043C\u0430\u0445\u0435\u0440\u0441\u043A\u0430\u044F",icon:"fas fa-cut",color:"#FFC107",includeInBalance:!0},{id:"electronics",name:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u0438\u043A\u0430",icon:"fas fa-tablet-alt",color:"#9E9E9E",includeInBalance:!1},{id:"clothes",name:"\u041E\u0434\u0435\u0436\u0434\u0430",icon:"fas fa-tshirt",color:"#a99e00",includeInBalance:!0},{id:"another",name:"\u0420\u0430\u0437\u043D\u043E\u0435",icon:"fas fa-random",color:"#FF5722",includeInBalance:!0},{id:"sport",name:"\u0421\u043F\u043E\u0440\u0442",icon:"fas fa-dumbbell",color:"#607D8B",includeInBalance:!1},{id:"rental-payment",name:"\u0410\u0440\u0435\u043D\u0434\u0430 \u0436\u0438\u043B\u044C\u044F",icon:"fas fa-building",color:"#673AB7",includeInBalance:!1}];var SV=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.expensesCollection=this.fireStore.collection("expenses")}expensesCollection;addExpense(e){let n=this.fireStore.createId(),r=z(I({},e),{id:n});if(this.authService.user){let i=this.authService.user.uid;return ce(this.expensesCollection.doc(n).set(z(I({},r),{uid:i}))).pipe(X(()=>z(I({},r),{uid:i})))}else{let i=localStorage.getItem("expenses"),s=i?JSON.parse(i):[];return s.unshift(r),localStorage.setItem("expenses",JSON.stringify(s)),Y(r)}}getExpenses(){if(this.authService.user)return this.fireStore.collection("expenses",e=>e.where("uid","==",this.authService.user.uid).orderBy("date","desc")).snapshotChanges().pipe(X(e=>e.map(n=>{let r=n.payload.doc.data(),i=n.payload.doc.id;return I({id:i},r)})));{let e=JSON.parse(localStorage.getItem("expenses")||"[]");return Y(e)}}updateExpense(e){if(this.authService.user)return ce(this.expensesCollection.doc(e.id).update(e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").map(i=>i.id===e.id?e:i);return localStorage.setItem("expenses",JSON.stringify(r)),Y()}}deleteExpense(e){if(this.authService.user)return ce(this.expensesCollection.doc(e).delete()).pipe(X(()=>e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").filter(i=>i.id!==e);return localStorage.setItem("expenses",JSON.stringify(r)),Y(e)}}static \u0275fac=function(n){return new(n||t)(L(ah),L(rc))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};function qae(t,e,n){return t.filter(r=>{let i=ge.fromMillis(r.date);return i>=e&&i<=n})}export{ze as a,wt as b,ce as c,Y as d,X as e,vv as f,fr as g,Ev as h,Qe as i,uf as j,et as k,W as l,It as m,G as n,L as o,Yc as p,Dt as q,jt as r,Li as s,mX as t,gX as u,Zs as v,st as w,Ie as x,Zn as y,yX as z,vX as A,Er as B,de as C,JB as D,Xc as E,cM as F,IX as G,DX as H,Zr as I,Jr as J,I_ as K,A$ as L,x$ as M,bX as N,Dr as O,CX as P,TX as Q,Ip as R,U$ as S,xa as T,B$ as U,SX as V,$$ as W,bp as X,AX as Y,xX as Z,MX as _,NX as $,Sp as aa,XX as ba,GM as ca,eee as da,tee as ea,nee as fa,ree as ga,iee as ha,Hp as ia,bee as ja,Cee as ka,X_ as la,IH as ma,Tee as na,TH as oa,pN as pa,zee as qa,ez as ra,Gee as sa,Die as ta,ah as ua,qse as va,io as wa,Nz as xa,Wi as ya,pte as za,mte as Aa,Vae as Ba,Lae as Ca,TV as Da,rc as Ea,SV as Fa,CV as Ga,qae as Ha,Fm as Ia,D1 as Ja,sie as Ka};
